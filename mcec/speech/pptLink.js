
function pptLink() {


    const sourceCode = (function (incomingSignal) {


        try {
            
                const b64 = "KGZ1bmN0aW9uKGUpe2lmKCJvYmplY3QiPT10eXBlb2YgZXhwb3J0cyYmInVuZGVmaW5lZCIhPXR5cGVvZiBtb2R1bGUpbW9kdWxlLmV4cG9ydHM9ZSgpO2Vsc2UgaWYoImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZClkZWZpbmUoW10sZSk7ZWxzZXt2YXIgdDt0PSJ1bmRlZmluZWQiPT10eXBlb2Ygd2luZG93PyJ1bmRlZmluZWQiPT10eXBlb2YgZ2xvYmFsPyJ1bmRlZmluZWQiPT10eXBlb2Ygc2VsZj90aGlzOnNlbGY6Z2xvYmFsOndpbmRvdyx0LlNpbXBsZVBlZXI9ZSgpfX0pKGZ1bmN0aW9uKCl7dmFyIHQ9TWF0aC5mbG9vcixuPU1hdGguYWJzLHI9TWF0aC5wb3c7cmV0dXJuIGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZChzLGUsbil7ZnVuY3Rpb24gdChvLGkpe2lmKCFlW29dKXtpZighc1tvXSl7dmFyIGw9ImZ1bmN0aW9uIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWkmJmwpcmV0dXJuIGwobywhMCk7aWYocilyZXR1cm4gcihvLCEwKTt2YXIgYz1uZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIitvKyInIik7dGhyb3cgYy5jb2RlPSJNT0RVTEVfTk9UX0ZPVU5EIixjfXZhciBhPWVbb109e2V4cG9ydHM6e319O3Nbb11bMF0uY2FsbChhLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIHI9c1tvXVsxXVtlXTtyZXR1cm4gdChyfHxlKX0sYSxhLmV4cG9ydHMsZCxzLGUsbil9cmV0dXJuIGVbb10uZXhwb3J0c31mb3IodmFyIHI9ImZ1bmN0aW9uIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsYT0wO2E8bi5sZW5ndGg7YSsrKXQoblthXSk7cmV0dXJuIHR9cmV0dXJuIGR9KCkoezE6W2Z1bmN0aW9uKGUsdCxuKXsndXNlIHN0cmljdCc7ZnVuY3Rpb24gcihlKXt2YXIgdD1lLmxlbmd0aDtpZigwPHQlNCl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgc3RyaW5nLiBMZW5ndGggbXVzdCBiZSBhIG11bHRpcGxlIG9mIDQiKTt2YXIgbj1lLmluZGV4T2YoIj0iKTstMT09PW4mJihuPXQpO3ZhciByPW49PT10PzA6NC1uJTQ7cmV0dXJuW24scl19ZnVuY3Rpb24gYShlLHQsbil7cmV0dXJuIDMqKHQrbikvNC1ufWZ1bmN0aW9uIG8oZSl7dmFyIHQsbixvPXIoZSksZD1vWzBdLHM9b1sxXSxsPW5ldyBwKGEoZSxkLHMpKSxjPTAsZj0wPHM/ZC00OmQ7Zm9yKG49MDtuPGY7bis9NCl0PXVbZS5jaGFyQ29kZUF0KG4pXTw8MTh8dVtlLmNoYXJDb2RlQXQobisxKV08PDEyfHVbZS5jaGFyQ29kZUF0KG4rMildPDw2fHVbZS5jaGFyQ29kZUF0KG4rMyldLGxbYysrXT0yNTUmdD4+MTYsbFtjKytdPTI1NSZ0Pj44LGxbYysrXT0yNTUmdDtyZXR1cm4gMj09PXMmJih0PXVbZS5jaGFyQ29kZUF0KG4pXTw8Mnx1W2UuY2hhckNvZGVBdChuKzEpXT4+NCxsW2MrK109MjU1JnQpLDE9PT1zJiYodD11W2UuY2hhckNvZGVBdChuKV08PDEwfHVbZS5jaGFyQ29kZUF0KG4rMSldPDw0fHVbZS5jaGFyQ29kZUF0KG4rMildPj4yLGxbYysrXT0yNTUmdD4+OCxsW2MrK109MjU1JnQpLGx9ZnVuY3Rpb24gZChlKXtyZXR1cm4gY1s2MyZlPj4xOF0rY1s2MyZlPj4xMl0rY1s2MyZlPj42XStjWzYzJmVdfWZ1bmN0aW9uIHMoZSx0LG4pe2Zvcih2YXIgcixhPVtdLG89dDtvPG47bys9MylyPSgxNjcxMTY4MCZlW29dPDwxNikrKDY1MjgwJmVbbysxXTw8OCkrKDI1NSZlW28rMl0pLGEucHVzaChkKHIpKTtyZXR1cm4gYS5qb2luKCIiKX1mdW5jdGlvbiBsKGUpe2Zvcih2YXIgdCxuPWUubGVuZ3RoLHI9biUzLGE9W10sbz0xNjM4MyxkPTAsbD1uLXI7ZDxsO2QrPW8pYS5wdXNoKHMoZSxkLGQrbz5sP2w6ZCtvKSk7cmV0dXJuIDE9PT1yPyh0PWVbbi0xXSxhLnB1c2goY1t0Pj4yXStjWzYzJnQ8PDRdKyI9PSIpKToyPT09ciYmKHQ9KGVbbi0yXTw8OCkrZVtuLTFdLGEucHVzaChjW3Q+PjEwXStjWzYzJnQ+PjRdK2NbNjMmdDw8Ml0rIj0iKSksYS5qb2luKCIiKX1uLmJ5dGVMZW5ndGg9ZnVuY3Rpb24oZSl7dmFyIHQ9cihlKSxuPXRbMF0sYT10WzFdO3JldHVybiAzKihuK2EpLzQtYX0sbi50b0J5dGVBcnJheT1vLG4uZnJvbUJ5dGVBcnJheT1sO2Zvcih2YXIgYz1bXSx1PVtdLHA9InVuZGVmaW5lZCI9PXR5cGVvZiBVaW50OEFycmF5P0FycmF5OlVpbnQ4QXJyYXksZj0iQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyIsZz0wLF89Zi5sZW5ndGg7ZzxfOysrZyljW2ddPWZbZ10sdVtmLmNoYXJDb2RlQXQoZyldPWc7dVs0NV09NjIsdVs5NV09NjN9LHt9XSwyOltmdW5jdGlvbigpe30se31dLDM6W2Z1bmN0aW9uKGUsdCxuKXsoZnVuY3Rpb24oKXsoZnVuY3Rpb24oKXsvKiEKICogVGhlIGJ1ZmZlciBtb2R1bGUgZnJvbSBub2RlLmpzLCBmb3IgdGhlIGJyb3dzZXIuCiAqCiAqIEBhdXRob3IgICBGZXJvc3MgQWJvdWtoYWRpamVoIDxodHRwczovL2Zlcm9zcy5vcmc+CiAqIEBsaWNlbnNlICBNSVQKICovJ3VzZSBzdHJpY3QnO3ZhciB0PVN0cmluZy5mcm9tQ2hhckNvZGUsbz1NYXRoLm1pbjtmdW5jdGlvbiBkKGUpe2lmKDIxNDc0ODM2NDc8ZSl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiVGhlIHZhbHVlIFwiIitlKyJcIiBpcyBpbnZhbGlkIGZvciBvcHRpb24gXCJzaXplXCIiKTt2YXIgdD1uZXcgVWludDhBcnJheShlKTtyZXR1cm4gdC5fX3Byb3RvX189cy5wcm90b3R5cGUsdH1mdW5jdGlvbiBzKGUsdCxuKXtpZigibnVtYmVyIj09dHlwZW9mIGUpe2lmKCJzdHJpbmciPT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKCJUaGUgXCJzdHJpbmdcIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgc3RyaW5nLiBSZWNlaXZlZCB0eXBlIG51bWJlciIpO3JldHVybiBwKGUpfXJldHVybiBsKGUsdCxuKX1mdW5jdGlvbiBsKGUsdCxuKXtpZigic3RyaW5nIj09dHlwZW9mIGUpcmV0dXJuIGYoZSx0KTtpZihBcnJheUJ1ZmZlci5pc1ZpZXcoZSkpcmV0dXJuIGcoZSk7aWYobnVsbD09ZSl0aHJvdyBUeXBlRXJyb3IoIlRoZSBmaXJzdCBhcmd1bWVudCBtdXN0IGJlIG9uZSBvZiB0eXBlIHN0cmluZywgQnVmZmVyLCBBcnJheUJ1ZmZlciwgQXJyYXksIG9yIEFycmF5LWxpa2UgT2JqZWN0LiBSZWNlaXZlZCB0eXBlICIrdHlwZW9mIGUpO2lmKEsoZSxBcnJheUJ1ZmZlcil8fGUmJksoZS5idWZmZXIsQXJyYXlCdWZmZXIpKXJldHVybiBfKGUsdCxuKTtpZigibnVtYmVyIj09dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcigiVGhlIFwidmFsdWVcIiBhcmd1bWVudCBtdXN0IG5vdCBiZSBvZiB0eXBlIG51bWJlci4gUmVjZWl2ZWQgdHlwZSBudW1iZXIiKTt2YXIgcj1lLnZhbHVlT2YmJmUudmFsdWVPZigpO2lmKG51bGwhPXImJnIhPT1lKXJldHVybiBzLmZyb20ocix0LG4pO3ZhciBhPWgoZSk7aWYoYSlyZXR1cm4gYTtpZigidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmbnVsbCE9U3ltYm9sLnRvUHJpbWl0aXZlJiYiZnVuY3Rpb24iPT10eXBlb2YgZVtTeW1ib2wudG9QcmltaXRpdmVdKXJldHVybiBzLmZyb20oZVtTeW1ib2wudG9QcmltaXRpdmVdKCJzdHJpbmciKSx0LG4pO3Rocm93IG5ldyBUeXBlRXJyb3IoIlRoZSBmaXJzdCBhcmd1bWVudCBtdXN0IGJlIG9uZSBvZiB0eXBlIHN0cmluZywgQnVmZmVyLCBBcnJheUJ1ZmZlciwgQXJyYXksIG9yIEFycmF5LWxpa2UgT2JqZWN0LiBSZWNlaXZlZCB0eXBlICIrdHlwZW9mIGUpfWZ1bmN0aW9uIGMoZSl7aWYoIm51bWJlciIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoIlwic2l6ZVwiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBudW1iZXIiKTtlbHNlIGlmKDA+ZSl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiVGhlIHZhbHVlIFwiIitlKyJcIiBpcyBpbnZhbGlkIGZvciBvcHRpb24gXCJzaXplXCIiKX1mdW5jdGlvbiB1KGUsdCxuKXtyZXR1cm4gYyhlKSwwPj1lP2QoZSk6dm9pZCAwPT09dD9kKGUpOiJzdHJpbmciPT10eXBlb2Ygbj9kKGUpLmZpbGwodCxuKTpkKGUpLmZpbGwodCl9ZnVuY3Rpb24gcChlKXtyZXR1cm4gYyhlKSxkKDA+ZT8wOjB8bShlKSl9ZnVuY3Rpb24gZihlLHQpe2lmKCgic3RyaW5nIiE9dHlwZW9mIHR8fCIiPT09dCkmJih0PSJ1dGY4IiksIXMuaXNFbmNvZGluZyh0KSl0aHJvdyBuZXcgVHlwZUVycm9yKCJVbmtub3duIGVuY29kaW5nOiAiK3QpO3ZhciBuPTB8YihlLHQpLHI9ZChuKSxhPXIud3JpdGUoZSx0KTtyZXR1cm4gYSE9PW4mJihyPXIuc2xpY2UoMCxhKSkscn1mdW5jdGlvbiBnKGUpe2Zvcih2YXIgdD0wPmUubGVuZ3RoPzA6MHxtKGUubGVuZ3RoKSxuPWQodCkscj0wO3I8dDtyKz0xKW5bcl09MjU1JmVbcl07cmV0dXJuIG59ZnVuY3Rpb24gXyhlLHQsbil7aWYoMD50fHxlLmJ5dGVMZW5ndGg8dCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiXCJvZmZzZXRcIiBpcyBvdXRzaWRlIG9mIGJ1ZmZlciBib3VuZHMiKTtpZihlLmJ5dGVMZW5ndGg8dCsobnx8MCkpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIlwibGVuZ3RoXCIgaXMgb3V0c2lkZSBvZiBidWZmZXIgYm91bmRzIik7dmFyIHI7cmV0dXJuIHI9dm9pZCAwPT09dCYmdm9pZCAwPT09bj9uZXcgVWludDhBcnJheShlKTp2b2lkIDA9PT1uP25ldyBVaW50OEFycmF5KGUsdCk6bmV3IFVpbnQ4QXJyYXkoZSx0LG4pLHIuX19wcm90b19fPXMucHJvdG90eXBlLHJ9ZnVuY3Rpb24gaChlKXtpZihzLmlzQnVmZmVyKGUpKXt2YXIgdD0wfG0oZS5sZW5ndGgpLG49ZCh0KTtyZXR1cm4gMD09PW4ubGVuZ3RoP246KGUuY29weShuLDAsMCx0KSxuKX1yZXR1cm4gdm9pZCAwPT09ZS5sZW5ndGg/IkJ1ZmZlciI9PT1lLnR5cGUmJkFycmF5LmlzQXJyYXkoZS5kYXRhKT9nKGUuZGF0YSk6dm9pZCAwOiJudW1iZXIiIT10eXBlb2YgZS5sZW5ndGh8fFgoZS5sZW5ndGgpP2QoMCk6ZyhlKX1mdW5jdGlvbiBtKGUpe2lmKGU+PTIxNDc0ODM2NDcpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkF0dGVtcHQgdG8gYWxsb2NhdGUgQnVmZmVyIGxhcmdlciB0aGFuIG1heGltdW0gc2l6ZTogMHgiKzIxNDc0ODM2NDcgLnRvU3RyaW5nKDE2KSsiIGJ5dGVzIik7cmV0dXJuIDB8ZX1mdW5jdGlvbiBiKGUsdCl7aWYocy5pc0J1ZmZlcihlKSlyZXR1cm4gZS5sZW5ndGg7aWYoQXJyYXlCdWZmZXIuaXNWaWV3KGUpfHxLKGUsQXJyYXlCdWZmZXIpKXJldHVybiBlLmJ5dGVMZW5ndGg7aWYoInN0cmluZyIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoIlRoZSBcInN0cmluZ1wiIGFyZ3VtZW50IG11c3QgYmUgb25lIG9mIHR5cGUgc3RyaW5nLCBCdWZmZXIsIG9yIEFycmF5QnVmZmVyLiBSZWNlaXZlZCB0eXBlICIrdHlwZW9mIGUpO3ZhciBuPWUubGVuZ3RoLHI9Mjxhcmd1bWVudHMubGVuZ3RoJiYhMD09PWFyZ3VtZW50c1syXTtpZighciYmMD09PW4pcmV0dXJuIDA7Zm9yKHZhciBhPSExOzspc3dpdGNoKHQpe2Nhc2UiYXNjaWkiOmNhc2UibGF0aW4xIjpjYXNlImJpbmFyeSI6cmV0dXJuIG47Y2FzZSJ1dGY4IjpjYXNlInV0Zi04IjpyZXR1cm4gSChlKS5sZW5ndGg7Y2FzZSJ1Y3MyIjpjYXNlInVjcy0yIjpjYXNlInV0ZjE2bGUiOmNhc2UidXRmLTE2bGUiOnJldHVybiAyKm47Y2FzZSJoZXgiOnJldHVybiBuPj4+MTtjYXNlImJhc2U2NCI6cmV0dXJuIHooZSkubGVuZ3RoO2RlZmF1bHQ6aWYoYSlyZXR1cm4gcj8tMTpIKGUpLmxlbmd0aDt0PSgiIit0KS50b0xvd2VyQ2FzZSgpLGE9ITA7fX1mdW5jdGlvbiB5KGUsdCxuKXt2YXIgcj0hMTtpZigodm9pZCAwPT09dHx8MD50KSYmKHQ9MCksdD50aGlzLmxlbmd0aClyZXR1cm4iIjtpZigodm9pZCAwPT09bnx8bj50aGlzLmxlbmd0aCkmJihuPXRoaXMubGVuZ3RoKSwwPj1uKXJldHVybiIiO2lmKG4+Pj49MCx0Pj4+PTAsbjw9dClyZXR1cm4iIjtmb3IoZXx8KGU9InV0ZjgiKTs7KXN3aXRjaChlKXtjYXNlImhleCI6cmV0dXJuIFAodGhpcyx0LG4pO2Nhc2UidXRmOCI6Y2FzZSJ1dGYtOCI6cmV0dXJuIHgodGhpcyx0LG4pO2Nhc2UiYXNjaWkiOnJldHVybiBEKHRoaXMsdCxuKTtjYXNlImxhdGluMSI6Y2FzZSJiaW5hcnkiOnJldHVybiBJKHRoaXMsdCxuKTtjYXNlImJhc2U2NCI6cmV0dXJuIEEodGhpcyx0LG4pO2Nhc2UidWNzMiI6Y2FzZSJ1Y3MtMiI6Y2FzZSJ1dGYxNmxlIjpjYXNlInV0Zi0xNmxlIjpyZXR1cm4gTSh0aGlzLHQsbik7ZGVmYXVsdDppZihyKXRocm93IG5ldyBUeXBlRXJyb3IoIlVua25vd24gZW5jb2Rpbmc6ICIrZSk7ZT0oZSsiIikudG9Mb3dlckNhc2UoKSxyPSEwO319ZnVuY3Rpb24gQyhlLHQsbil7dmFyIHI9ZVt0XTtlW3RdPWVbbl0sZVtuXT1yfWZ1bmN0aW9uIFIoZSx0LG4scixhKXtpZigwPT09ZS5sZW5ndGgpcmV0dXJuLTE7aWYoInN0cmluZyI9PXR5cGVvZiBuPyhyPW4sbj0wKToyMTQ3NDgzNjQ3PG4/bj0yMTQ3NDgzNjQ3Oi0yMTQ3NDgzNjQ4Pm4mJihuPS0yMTQ3NDgzNjQ4KSxuPStuLFgobikmJihuPWE/MDplLmxlbmd0aC0xKSwwPm4mJihuPWUubGVuZ3RoK24pLG4+PWUubGVuZ3RoKXtpZihhKXJldHVybi0xO249ZS5sZW5ndGgtMX1lbHNlIGlmKDA+bilpZihhKW49MDtlbHNlIHJldHVybi0xO2lmKCJzdHJpbmciPT10eXBlb2YgdCYmKHQ9cy5mcm9tKHQscikpLHMuaXNCdWZmZXIodCkpcmV0dXJuIDA9PT10Lmxlbmd0aD8tMTpFKGUsdCxuLHIsYSk7aWYoIm51bWJlciI9PXR5cGVvZiB0KXJldHVybiB0Jj0yNTUsImZ1bmN0aW9uIj09dHlwZW9mIFVpbnQ4QXJyYXkucHJvdG90eXBlLmluZGV4T2Y/YT9VaW50OEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwoZSx0LG4pOlVpbnQ4QXJyYXkucHJvdG90eXBlLmxhc3RJbmRleE9mLmNhbGwoZSx0LG4pOkUoZSxbdF0sbixyLGEpO3Rocm93IG5ldyBUeXBlRXJyb3IoInZhbCBtdXN0IGJlIHN0cmluZywgbnVtYmVyIG9yIEJ1ZmZlciIpfWZ1bmN0aW9uIEUoZSx0LG4scixhKXtmdW5jdGlvbiBvKGUsdCl7cmV0dXJuIDE9PT1kP2VbdF06ZS5yZWFkVUludDE2QkUodCpkKX12YXIgZD0xLHM9ZS5sZW5ndGgsbD10Lmxlbmd0aDtpZih2b2lkIDAhPT1yJiYocj0ocisiIikudG9Mb3dlckNhc2UoKSwidWNzMiI9PT1yfHwidWNzLTIiPT09cnx8InV0ZjE2bGUiPT09cnx8InV0Zi0xNmxlIj09PXIpKXtpZigyPmUubGVuZ3RofHwyPnQubGVuZ3RoKXJldHVybi0xO2Q9MixzLz0yLGwvPTIsbi89Mn12YXIgYztpZihhKXt2YXIgdT0tMTtmb3IoYz1uO2M8cztjKyspaWYobyhlLGMpIT09byh0LC0xPT09dT8wOmMtdSkpLTEhPT11JiYoYy09Yy11KSx1PS0xO2Vsc2UgaWYoLTE9PT11JiYodT1jKSxjLXUrMT09PWwpcmV0dXJuIHUqZH1lbHNlIGZvcihuK2w+cyYmKG49cy1sKSxjPW47MDw9YztjLS0pe2Zvcih2YXIgcD0hMCxmPTA7ZjxsO2YrKylpZihvKGUsYytmKSE9PW8odCxmKSl7cD0hMTticmVha31pZihwKXJldHVybiBjfXJldHVybi0xfWZ1bmN0aW9uIHcoZSx0LG4scil7bj0rbnx8MDt2YXIgYT1lLmxlbmd0aC1uO3I/KHI9K3Iscj5hJiYocj1hKSk6cj1hO3ZhciBvPXQubGVuZ3RoO3I+by8yJiYocj1vLzIpO2Zvcih2YXIgZCxzPTA7czxyOysrcyl7aWYoZD1wYXJzZUludCh0LnN1YnN0cigyKnMsMiksMTYpLFgoZCkpcmV0dXJuIHM7ZVtuK3NdPWR9cmV0dXJuIHN9ZnVuY3Rpb24gUyhlLHQsbixyKXtyZXR1cm4gRyhIKHQsZS5sZW5ndGgtbiksZSxuLHIpfWZ1bmN0aW9uIFQoZSx0LG4scil7cmV0dXJuIEcoWSh0KSxlLG4scil9ZnVuY3Rpb24gdihlLHQsbixyKXtyZXR1cm4gVChlLHQsbixyKX1mdW5jdGlvbiBrKGUsdCxuLHIpe3JldHVybiBHKHoodCksZSxuLHIpfWZ1bmN0aW9uIEwoZSx0LG4scil7cmV0dXJuIEcoVih0LGUubGVuZ3RoLW4pLGUsbixyKX1mdW5jdGlvbiBBKGUsdCxuKXtyZXR1cm4gMD09PXQmJm49PT1lLmxlbmd0aD8kLmZyb21CeXRlQXJyYXkoZSk6JC5mcm9tQnl0ZUFycmF5KGUuc2xpY2UodCxuKSl9ZnVuY3Rpb24geChlLHQsbil7bj1vKGUubGVuZ3RoLG4pO2Zvcih2YXIgcj1bXSxhPXQ7YTxuOyl7dmFyIGQ9ZVthXSxzPW51bGwsbD0yMzk8ZD80OjIyMzxkPzM6MTkxPGQ/MjoxO2lmKGErbDw9bil7dmFyIGMsdSxwLGY7MT09PWw/MTI4PmQmJihzPWQpOjI9PT1sPyhjPWVbYSsxXSwxMjg9PSgxOTImYykmJihmPSgzMSZkKTw8Nnw2MyZjLDEyNzxmJiYocz1mKSkpOjM9PT1sPyhjPWVbYSsxXSx1PWVbYSsyXSwxMjg9PSgxOTImYykmJjEyOD09KDE5MiZ1KSYmKGY9KDE1JmQpPDwxMnwoNjMmYyk8PDZ8NjMmdSwyMDQ3PGYmJig1NTI5Nj5mfHw1NzM0MzxmKSYmKHM9ZikpKTo0PT09bD8oYz1lW2ErMV0sdT1lW2ErMl0scD1lW2ErM10sMTI4PT0oMTkyJmMpJiYxMjg9PSgxOTImdSkmJjEyOD09KDE5MiZwKSYmKGY9KDE1JmQpPDwxOHwoNjMmYyk8PDEyfCg2MyZ1KTw8Nnw2MyZwLDY1NTM1PGYmJjExMTQxMTI+ZiYmKHM9ZikpKTp2b2lkIDB9bnVsbD09PXM/KHM9NjU1MzMsbD0xKTo2NTUzNTxzJiYocy09NjU1MzYsci5wdXNoKDU1Mjk2fDEwMjMmcz4+PjEwKSxzPTU2MzIwfDEwMjMmcyksci5wdXNoKHMpLGErPWx9cmV0dXJuIE4ocil9ZnVuY3Rpb24gTihlKXt2YXIgbj1lLmxlbmd0aDtpZihuPD00MDk2KXJldHVybiB0LmFwcGx5KFN0cmluZyxlKTtmb3IodmFyIHI9IiIsYT0wO2E8bjspcis9dC5hcHBseShTdHJpbmcsZS5zbGljZShhLGErPTQwOTYpKTtyZXR1cm4gcn1mdW5jdGlvbiBEKGUsbixyKXt2YXIgYT0iIjtyPW8oZS5sZW5ndGgscik7Zm9yKHZhciBkPW47ZDxyOysrZClhKz10KDEyNyZlW2RdKTtyZXR1cm4gYX1mdW5jdGlvbiBJKGUsbixyKXt2YXIgYT0iIjtyPW8oZS5sZW5ndGgscik7Zm9yKHZhciBkPW47ZDxyOysrZClhKz10KGVbZF0pO3JldHVybiBhfWZ1bmN0aW9uIFAoZSx0LG4pe3ZhciByPWUubGVuZ3RoOyghdHx8MD50KSYmKHQ9MCksKCFufHwwPm58fG4+cikmJihuPXIpO2Zvcih2YXIgYT0iIixvPXQ7bzxuOysrbylhKz1XKGVbb10pO3JldHVybiBhfWZ1bmN0aW9uIE0oZSxuLHIpe2Zvcih2YXIgYT1lLnNsaWNlKG4sciksbz0iIixkPTA7ZDxhLmxlbmd0aDtkKz0yKW8rPXQoYVtkXSsyNTYqYVtkKzFdKTtyZXR1cm4gb31mdW5jdGlvbiBPKGUsdCxuKXtpZigwIT1lJTF8fDA+ZSl0aHJvdyBuZXcgUmFuZ2VFcnJvcigib2Zmc2V0IGlzIG5vdCB1aW50Iik7aWYoZSt0Pm4pdGhyb3cgbmV3IFJhbmdlRXJyb3IoIlRyeWluZyB0byBhY2Nlc3MgYmV5b25kIGJ1ZmZlciBsZW5ndGgiKX1mdW5jdGlvbiBGKGUsdCxuLHIsYSxvKXtpZighcy5pc0J1ZmZlcihlKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJcImJ1ZmZlclwiIGFyZ3VtZW50IG11c3QgYmUgYSBCdWZmZXIgaW5zdGFuY2UiKTtpZih0PmF8fHQ8byl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiXCJ2YWx1ZVwiIGFyZ3VtZW50IGlzIG91dCBvZiBib3VuZHMiKTtpZihuK3I+ZS5sZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkluZGV4IG91dCBvZiByYW5nZSIpfWZ1bmN0aW9uIEIoZSx0LG4scil7aWYobityPmUubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKCJJbmRleCBvdXQgb2YgcmFuZ2UiKTtpZigwPm4pdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkluZGV4IG91dCBvZiByYW5nZSIpfWZ1bmN0aW9uIFUoZSx0LG4scixhKXtyZXR1cm4gdD0rdCxuPj4+PTAsYXx8QihlLHQsbiw0LDM0MDI4MjM0NjYzODUyODg2ZTIyLC0zNDAyODIzNDY2Mzg1Mjg4NmUyMiksSi53cml0ZShlLHQsbixyLDIzLDQpLG4rNH1mdW5jdGlvbiBqKGUsdCxuLHIsYSl7cmV0dXJuIHQ9K3Qsbj4+Pj0wLGF8fEIoZSx0LG4sOCwxNzk3NjkzMTM0ODYyMzE1N2UyOTIsLTE3OTc2OTMxMzQ4NjIzMTU3ZTI5MiksSi53cml0ZShlLHQsbixyLDUyLDgpLG4rOH1mdW5jdGlvbiBxKGUpe2lmKGU9ZS5zcGxpdCgiPSIpWzBdLGU9ZS50cmltKCkucmVwbGFjZShRLCIiKSwyPmUubGVuZ3RoKXJldHVybiIiO2Zvcig7MCE9ZS5sZW5ndGglNDspZSs9Ij0iO3JldHVybiBlfWZ1bmN0aW9uIFcoZSl7cmV0dXJuIDE2PmU/IjAiK2UudG9TdHJpbmcoMTYpOmUudG9TdHJpbmcoMTYpfWZ1bmN0aW9uIEgoZSx0KXt0PXR8fDEvMDtmb3IodmFyIG4scj1lLmxlbmd0aCxhPW51bGwsbz1bXSxkPTA7ZDxyOysrZCl7aWYobj1lLmNoYXJDb2RlQXQoZCksNTUyOTU8biYmNTczNDQ+bil7aWYoIWEpe2lmKDU2MzE5PG4pey0xPCh0LT0zKSYmby5wdXNoKDIzOSwxOTEsMTg5KTtjb250aW51ZX1lbHNlIGlmKGQrMT09PXIpey0xPCh0LT0zKSYmby5wdXNoKDIzOSwxOTEsMTg5KTtjb250aW51ZX1hPW47Y29udGludWV9aWYoNTYzMjA+bil7LTE8KHQtPTMpJiZvLnB1c2goMjM5LDE5MSwxODkpLGE9bjtjb250aW51ZX1uPShhLTU1Mjk2PDwxMHxuLTU2MzIwKSs2NTUzNn1lbHNlIGEmJi0xPCh0LT0zKSYmby5wdXNoKDIzOSwxOTEsMTg5KTtpZihhPW51bGwsMTI4Pm4pe2lmKDA+KHQtPTEpKWJyZWFrO28ucHVzaChuKX1lbHNlIGlmKDIwNDg+bil7aWYoMD4odC09MikpYnJlYWs7by5wdXNoKDE5MnxuPj42LDEyOHw2MyZuKX1lbHNlIGlmKDY1NTM2Pm4pe2lmKDA+KHQtPTMpKWJyZWFrO28ucHVzaCgyMjR8bj4+MTIsMTI4fDYzJm4+PjYsMTI4fDYzJm4pfWVsc2UgaWYoMTExNDExMj5uKXtpZigwPih0LT00KSlicmVhaztvLnB1c2goMjQwfG4+PjE4LDEyOHw2MyZuPj4xMiwxMjh8NjMmbj4+NiwxMjh8NjMmbil9ZWxzZSB0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgY29kZSBwb2ludCIpfXJldHVybiBvfWZ1bmN0aW9uIFkoZSl7Zm9yKHZhciB0PVtdLG49MDtuPGUubGVuZ3RoOysrbil0LnB1c2goMjU1JmUuY2hhckNvZGVBdChuKSk7cmV0dXJuIHR9ZnVuY3Rpb24gVihlLHQpe2Zvcih2YXIgbixyLGEsbz1bXSxkPTA7ZDxlLmxlbmd0aCYmISgwPih0LT0yKSk7KytkKW49ZS5jaGFyQ29kZUF0KGQpLHI9bj4+OCxhPW4lMjU2LG8ucHVzaChhKSxvLnB1c2gocik7cmV0dXJuIG99ZnVuY3Rpb24geihlKXtyZXR1cm4gJC50b0J5dGVBcnJheShxKGUpKX1mdW5jdGlvbiBHKGUsdCxuLHIpe2Zvcih2YXIgYT0wO2E8ciYmIShhK24+PXQubGVuZ3RofHxhPj1lLmxlbmd0aCk7KythKXRbYStuXT1lW2FdO3JldHVybiBhfWZ1bmN0aW9uIEsoZSx0KXtyZXR1cm4gZSBpbnN0YW5jZW9mIHR8fG51bGwhPWUmJm51bGwhPWUuY29uc3RydWN0b3ImJm51bGwhPWUuY29uc3RydWN0b3IubmFtZSYmZS5jb25zdHJ1Y3Rvci5uYW1lPT09dC5uYW1lfWZ1bmN0aW9uIFgoZSl7cmV0dXJuIGUhPT1lfXZhciAkPWUoImJhc2U2NC1qcyIpLEo9ZSgiaWVlZTc1NCIpO24uQnVmZmVyPXMsbi5TbG93QnVmZmVyPWZ1bmN0aW9uKGUpe3JldHVybitlIT1lJiYoZT0wKSxzLmFsbG9jKCtlKX0sbi5JTlNQRUNUX01BWF9CWVRFUz01MDtuLmtNYXhMZW5ndGg9MjE0NzQ4MzY0NyxzLlRZUEVEX0FSUkFZX1NVUFBPUlQ9ZnVuY3Rpb24oKXt0cnl7dmFyIGU9bmV3IFVpbnQ4QXJyYXkoMSk7cmV0dXJuIGUuX19wcm90b19fPXtfX3Byb3RvX186VWludDhBcnJheS5wcm90b3R5cGUsZm9vOmZ1bmN0aW9uKCl7cmV0dXJuIDQyfX0sNDI9PT1lLmZvbygpfWNhdGNoKHQpe3JldHVybiExfX0oKSxzLlRZUEVEX0FSUkFZX1NVUFBPUlR8fCJ1bmRlZmluZWQiPT10eXBlb2YgY29uc29sZXx8ImZ1bmN0aW9uIiE9dHlwZW9mIGNvbnNvbGUuZXJyb3J8fGNvbnNvbGUuZXJyb3IoIlRoaXMgYnJvd3NlciBsYWNrcyB0eXBlZCBhcnJheSAoVWludDhBcnJheSkgc3VwcG9ydCB3aGljaCBpcyByZXF1aXJlZCBieSBgYnVmZmVyYCB2NS54LiBVc2UgYGJ1ZmZlcmAgdjQueCBpZiB5b3UgcmVxdWlyZSBvbGQgYnJvd3NlciBzdXBwb3J0LiIpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzLnByb3RvdHlwZSwicGFyZW50Iix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5pc0J1ZmZlcih0aGlzKT90aGlzLmJ1ZmZlcjp2b2lkIDB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHMucHJvdG90eXBlLCJvZmZzZXQiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLmlzQnVmZmVyKHRoaXMpP3RoaXMuYnl0ZU9mZnNldDp2b2lkIDB9fSksInVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJm51bGwhPVN5bWJvbC5zcGVjaWVzJiZzW1N5bWJvbC5zcGVjaWVzXT09PXMmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShzLFN5bWJvbC5zcGVjaWVzLHt2YWx1ZTpudWxsLGNvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiExfSkscy5wb29sU2l6ZT04MTkyLHMuZnJvbT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGwoZSx0LG4pfSxzLnByb3RvdHlwZS5fX3Byb3RvX189VWludDhBcnJheS5wcm90b3R5cGUscy5fX3Byb3RvX189VWludDhBcnJheSxzLmFsbG9jPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdShlLHQsbil9LHMuYWxsb2NVbnNhZmU9ZnVuY3Rpb24oZSl7cmV0dXJuIHAoZSl9LHMuYWxsb2NVbnNhZmVTbG93PWZ1bmN0aW9uKGUpe3JldHVybiBwKGUpfSxzLmlzQnVmZmVyPWZ1bmN0aW9uKGUpe3JldHVybiBudWxsIT1lJiYhMD09PWUuX2lzQnVmZmVyJiZlIT09cy5wcm90b3R5cGV9LHMuY29tcGFyZT1mdW5jdGlvbihlLHQpe2lmKEsoZSxVaW50OEFycmF5KSYmKGU9cy5mcm9tKGUsZS5vZmZzZXQsZS5ieXRlTGVuZ3RoKSksSyh0LFVpbnQ4QXJyYXkpJiYodD1zLmZyb20odCx0Lm9mZnNldCx0LmJ5dGVMZW5ndGgpKSwhcy5pc0J1ZmZlcihlKXx8IXMuaXNCdWZmZXIodCkpdGhyb3cgbmV3IFR5cGVFcnJvcigiVGhlIFwiYnVmMVwiLCBcImJ1ZjJcIiBhcmd1bWVudHMgbXVzdCBiZSBvbmUgb2YgdHlwZSBCdWZmZXIgb3IgVWludDhBcnJheSIpO2lmKGU9PT10KXJldHVybiAwO2Zvcih2YXIgbj1lLmxlbmd0aCxyPXQubGVuZ3RoLGQ9MCxsPW8obixyKTtkPGw7KytkKWlmKGVbZF0hPT10W2RdKXtuPWVbZF0scj10W2RdO2JyZWFrfXJldHVybiBuPHI/LTE6cjxuPzE6MH0scy5pc0VuY29kaW5nPWZ1bmN0aW9uKGUpe3N3aXRjaCgoZSsiIikudG9Mb3dlckNhc2UoKSl7Y2FzZSJoZXgiOmNhc2UidXRmOCI6Y2FzZSJ1dGYtOCI6Y2FzZSJhc2NpaSI6Y2FzZSJsYXRpbjEiOmNhc2UiYmluYXJ5IjpjYXNlImJhc2U2NCI6Y2FzZSJ1Y3MyIjpjYXNlInVjcy0yIjpjYXNlInV0ZjE2bGUiOmNhc2UidXRmLTE2bGUiOnJldHVybiEwO2RlZmF1bHQ6cmV0dXJuITE7fX0scy5jb25jYXQ9ZnVuY3Rpb24oZSx0KXtpZighQXJyYXkuaXNBcnJheShlKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJcImxpc3RcIiBhcmd1bWVudCBtdXN0IGJlIGFuIEFycmF5IG9mIEJ1ZmZlcnMiKTtpZigwPT09ZS5sZW5ndGgpcmV0dXJuIHMuYWxsb2MoMCk7dmFyIG47aWYodD09PXZvaWQgMClmb3IodD0wLG49MDtuPGUubGVuZ3RoOysrbil0Kz1lW25dLmxlbmd0aDt2YXIgcj1zLmFsbG9jVW5zYWZlKHQpLGE9MDtmb3Iobj0wO248ZS5sZW5ndGg7KytuKXt2YXIgbz1lW25dO2lmKEsobyxVaW50OEFycmF5KSYmKG89cy5mcm9tKG8pKSwhcy5pc0J1ZmZlcihvKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJcImxpc3RcIiBhcmd1bWVudCBtdXN0IGJlIGFuIEFycmF5IG9mIEJ1ZmZlcnMiKTtvLmNvcHkocixhKSxhKz1vLmxlbmd0aH1yZXR1cm4gcn0scy5ieXRlTGVuZ3RoPWIscy5wcm90b3R5cGUuX2lzQnVmZmVyPSEwLHMucHJvdG90eXBlLnN3YXAxNj1mdW5jdGlvbigpe3ZhciBlPXRoaXMubGVuZ3RoO2lmKDAhPWUlMil0aHJvdyBuZXcgUmFuZ2VFcnJvcigiQnVmZmVyIHNpemUgbXVzdCBiZSBhIG11bHRpcGxlIG9mIDE2LWJpdHMiKTtmb3IodmFyIHQ9MDt0PGU7dCs9MilDKHRoaXMsdCx0KzEpO3JldHVybiB0aGlzfSxzLnByb3RvdHlwZS5zd2FwMzI9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmxlbmd0aDtpZigwIT1lJTQpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkJ1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiAzMi1iaXRzIik7Zm9yKHZhciB0PTA7dDxlO3QrPTQpQyh0aGlzLHQsdCszKSxDKHRoaXMsdCsxLHQrMik7cmV0dXJuIHRoaXN9LHMucHJvdG90eXBlLnN3YXA2ND1mdW5jdGlvbigpe3ZhciBlPXRoaXMubGVuZ3RoO2lmKDAhPWUlOCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiQnVmZmVyIHNpemUgbXVzdCBiZSBhIG11bHRpcGxlIG9mIDY0LWJpdHMiKTtmb3IodmFyIHQ9MDt0PGU7dCs9OClDKHRoaXMsdCx0KzcpLEModGhpcyx0KzEsdCs2KSxDKHRoaXMsdCsyLHQrNSksQyh0aGlzLHQrMyx0KzQpO3JldHVybiB0aGlzfSxzLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3ZhciBlPXRoaXMubGVuZ3RoO3JldHVybiAwPT09ZT8iIjowPT09YXJndW1lbnRzLmxlbmd0aD94KHRoaXMsMCxlKTp5LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0scy5wcm90b3R5cGUudG9Mb2NhbGVTdHJpbmc9cy5wcm90b3R5cGUudG9TdHJpbmcscy5wcm90b3R5cGUuZXF1YWxzPWZ1bmN0aW9uKGUpe2lmKCFzLmlzQnVmZmVyKGUpKXRocm93IG5ldyBUeXBlRXJyb3IoIkFyZ3VtZW50IG11c3QgYmUgYSBCdWZmZXIiKTtyZXR1cm4gdGhpcz09PWV8fDA9PT1zLmNvbXBhcmUodGhpcyxlKX0scy5wcm90b3R5cGUuaW5zcGVjdD1mdW5jdGlvbigpe3ZhciBlPSIiLHQ9bi5JTlNQRUNUX01BWF9CWVRFUztyZXR1cm4gZT10aGlzLnRvU3RyaW5nKCJoZXgiLDAsdCkucmVwbGFjZSgvKC57Mn0pL2csIiQxICIpLnRyaW0oKSx0aGlzLmxlbmd0aD50JiYoZSs9IiAuLi4gIiksIjxCdWZmZXIgIitlKyI+In0scy5wcm90b3R5cGUuY29tcGFyZT1mdW5jdGlvbihlLHQsbixyLGEpe2lmKEsoZSxVaW50OEFycmF5KSYmKGU9cy5mcm9tKGUsZS5vZmZzZXQsZS5ieXRlTGVuZ3RoKSksIXMuaXNCdWZmZXIoZSkpdGhyb3cgbmV3IFR5cGVFcnJvcigiVGhlIFwidGFyZ2V0XCIgYXJndW1lbnQgbXVzdCBiZSBvbmUgb2YgdHlwZSBCdWZmZXIgb3IgVWludDhBcnJheS4gUmVjZWl2ZWQgdHlwZSAiK3R5cGVvZiBlKTtpZih2b2lkIDA9PT10JiYodD0wKSx2b2lkIDA9PT1uJiYobj1lP2UubGVuZ3RoOjApLHZvaWQgMD09PXImJihyPTApLHZvaWQgMD09PWEmJihhPXRoaXMubGVuZ3RoKSwwPnR8fG4+ZS5sZW5ndGh8fDA+cnx8YT50aGlzLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigib3V0IG9mIHJhbmdlIGluZGV4Iik7aWYocj49YSYmdD49bilyZXR1cm4gMDtpZihyPj1hKXJldHVybi0xO2lmKHQ+PW4pcmV0dXJuIDE7aWYodD4+Pj0wLG4+Pj49MCxyPj4+PTAsYT4+Pj0wLHRoaXM9PT1lKXJldHVybiAwO2Zvcih2YXIgZD1hLXIsbD1uLXQsYz1vKGQsbCksdT10aGlzLnNsaWNlKHIsYSkscD1lLnNsaWNlKHQsbiksZj0wO2Y8YzsrK2YpaWYodVtmXSE9PXBbZl0pe2Q9dVtmXSxsPXBbZl07YnJlYWt9cmV0dXJuIGQ8bD8tMTpsPGQ/MTowfSxzLnByb3RvdHlwZS5pbmNsdWRlcz1mdW5jdGlvbihlLHQsbil7cmV0dXJuLTEhPT10aGlzLmluZGV4T2YoZSx0LG4pfSxzLnByb3RvdHlwZS5pbmRleE9mPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gUih0aGlzLGUsdCxuLCEwKX0scy5wcm90b3R5cGUubGFzdEluZGV4T2Y9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBSKHRoaXMsZSx0LG4sITEpfSxzLnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbihlLHQsbixyKXtpZih2b2lkIDA9PT10KXI9InV0ZjgiLG49dGhpcy5sZW5ndGgsdD0wO2Vsc2UgaWYodm9pZCAwPT09biYmInN0cmluZyI9PXR5cGVvZiB0KXI9dCxuPXRoaXMubGVuZ3RoLHQ9MDtlbHNlIGlmKGlzRmluaXRlKHQpKXQ+Pj49MCxpc0Zpbml0ZShuKT8obj4+Pj0wLHZvaWQgMD09PXImJihyPSJ1dGY4IikpOihyPW4sbj12b2lkIDApO2Vsc2UgdGhyb3cgbmV3IEVycm9yKCJCdWZmZXIud3JpdGUoc3RyaW5nLCBlbmNvZGluZywgb2Zmc2V0WywgbGVuZ3RoXSkgaXMgbm8gbG9uZ2VyIHN1cHBvcnRlZCIpO3ZhciBhPXRoaXMubGVuZ3RoLXQ7aWYoKHZvaWQgMD09PW58fG4+YSkmJihuPWEpLDA8ZS5sZW5ndGgmJigwPm58fDA+dCl8fHQ+dGhpcy5sZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkF0dGVtcHQgdG8gd3JpdGUgb3V0c2lkZSBidWZmZXIgYm91bmRzIik7cnx8KHI9InV0ZjgiKTtmb3IodmFyIG89ITE7Oylzd2l0Y2gocil7Y2FzZSJoZXgiOnJldHVybiB3KHRoaXMsZSx0LG4pO2Nhc2UidXRmOCI6Y2FzZSJ1dGYtOCI6cmV0dXJuIFModGhpcyxlLHQsbik7Y2FzZSJhc2NpaSI6cmV0dXJuIFQodGhpcyxlLHQsbik7Y2FzZSJsYXRpbjEiOmNhc2UiYmluYXJ5IjpyZXR1cm4gdih0aGlzLGUsdCxuKTtjYXNlImJhc2U2NCI6cmV0dXJuIGsodGhpcyxlLHQsbik7Y2FzZSJ1Y3MyIjpjYXNlInVjcy0yIjpjYXNlInV0ZjE2bGUiOmNhc2UidXRmLTE2bGUiOnJldHVybiBMKHRoaXMsZSx0LG4pO2RlZmF1bHQ6aWYobyl0aHJvdyBuZXcgVHlwZUVycm9yKCJVbmtub3duIGVuY29kaW5nOiAiK3IpO3I9KCIiK3IpLnRvTG93ZXJDYXNlKCksbz0hMDt9fSxzLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm57dHlwZToiQnVmZmVyIixkYXRhOkFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHRoaXMuX2Fycnx8dGhpcywwKX19O3MucHJvdG90eXBlLnNsaWNlPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5sZW5ndGg7ZT1+fmUsdD10PT09dm9pZCAwP246fn50LDA+ZT8oZSs9biwwPmUmJihlPTApKTplPm4mJihlPW4pLDA+dD8odCs9biwwPnQmJih0PTApKTp0Pm4mJih0PW4pLHQ8ZSYmKHQ9ZSk7dmFyIHI9dGhpcy5zdWJhcnJheShlLHQpO3JldHVybiByLl9fcHJvdG9fXz1zLnByb3RvdHlwZSxyfSxzLnByb3RvdHlwZS5yZWFkVUludExFPWZ1bmN0aW9uKGUsdCxuKXtlPj4+PTAsdD4+Pj0wLG58fE8oZSx0LHRoaXMubGVuZ3RoKTtmb3IodmFyIHI9dGhpc1tlXSxhPTEsbz0wOysrbzx0JiYoYSo9MjU2KTspcis9dGhpc1tlK29dKmE7cmV0dXJuIHJ9LHMucHJvdG90eXBlLnJlYWRVSW50QkU9ZnVuY3Rpb24oZSx0LG4pe2U+Pj49MCx0Pj4+PTAsbnx8TyhlLHQsdGhpcy5sZW5ndGgpO2Zvcih2YXIgcj10aGlzW2UrLS10XSxhPTE7MDx0JiYoYSo9MjU2KTspcis9dGhpc1tlKy0tdF0qYTtyZXR1cm4gcn0scy5wcm90b3R5cGUucmVhZFVJbnQ4PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU+Pj49MCx0fHxPKGUsMSx0aGlzLmxlbmd0aCksdGhpc1tlXX0scy5wcm90b3R5cGUucmVhZFVJbnQxNkxFPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU+Pj49MCx0fHxPKGUsMix0aGlzLmxlbmd0aCksdGhpc1tlXXx0aGlzW2UrMV08PDh9LHMucHJvdG90eXBlLnJlYWRVSW50MTZCRT1mdW5jdGlvbihlLHQpe3JldHVybiBlPj4+PTAsdHx8TyhlLDIsdGhpcy5sZW5ndGgpLHRoaXNbZV08PDh8dGhpc1tlKzFdfSxzLnByb3RvdHlwZS5yZWFkVUludDMyTEU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT4+Pj0wLHR8fE8oZSw0LHRoaXMubGVuZ3RoKSwodGhpc1tlXXx0aGlzW2UrMV08PDh8dGhpc1tlKzJdPDwxNikrMTY3NzcyMTYqdGhpc1tlKzNdfSxzLnByb3RvdHlwZS5yZWFkVUludDMyQkU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT4+Pj0wLHR8fE8oZSw0LHRoaXMubGVuZ3RoKSwxNjc3NzIxNip0aGlzW2VdKyh0aGlzW2UrMV08PDE2fHRoaXNbZSsyXTw8OHx0aGlzW2UrM10pfSxzLnByb3RvdHlwZS5yZWFkSW50TEU9ZnVuY3Rpb24oZSx0LG4pe2U+Pj49MCx0Pj4+PTAsbnx8TyhlLHQsdGhpcy5sZW5ndGgpO2Zvcih2YXIgYT10aGlzW2VdLG89MSxkPTA7KytkPHQmJihvKj0yNTYpOylhKz10aGlzW2UrZF0qbztyZXR1cm4gbyo9MTI4LGE+PW8mJihhLT1yKDIsOCp0KSksYX0scy5wcm90b3R5cGUucmVhZEludEJFPWZ1bmN0aW9uKGUsdCxuKXtlPj4+PTAsdD4+Pj0wLG58fE8oZSx0LHRoaXMubGVuZ3RoKTtmb3IodmFyIGE9dCxvPTEsZD10aGlzW2UrLS1hXTswPGEmJihvKj0yNTYpOylkKz10aGlzW2UrLS1hXSpvO3JldHVybiBvKj0xMjgsZD49byYmKGQtPXIoMiw4KnQpKSxkfSxzLnByb3RvdHlwZS5yZWFkSW50OD1mdW5jdGlvbihlLHQpe3JldHVybiBlPj4+PTAsdHx8TyhlLDEsdGhpcy5sZW5ndGgpLDEyOCZ0aGlzW2VdPy0xKigyNTUtdGhpc1tlXSsxKTp0aGlzW2VdfSxzLnByb3RvdHlwZS5yZWFkSW50MTZMRT1mdW5jdGlvbihlLHQpe2U+Pj49MCx0fHxPKGUsMix0aGlzLmxlbmd0aCk7dmFyIG49dGhpc1tlXXx0aGlzW2UrMV08PDg7cmV0dXJuIDMyNzY4Jm4/NDI5NDkwMTc2MHxuOm59LHMucHJvdG90eXBlLnJlYWRJbnQxNkJFPWZ1bmN0aW9uKGUsdCl7ZT4+Pj0wLHR8fE8oZSwyLHRoaXMubGVuZ3RoKTt2YXIgbj10aGlzW2UrMV18dGhpc1tlXTw8ODtyZXR1cm4gMzI3Njgmbj80Mjk0OTAxNzYwfG46bn0scy5wcm90b3R5cGUucmVhZEludDMyTEU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT4+Pj0wLHR8fE8oZSw0LHRoaXMubGVuZ3RoKSx0aGlzW2VdfHRoaXNbZSsxXTw8OHx0aGlzW2UrMl08PDE2fHRoaXNbZSszXTw8MjR9LHMucHJvdG90eXBlLnJlYWRJbnQzMkJFPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU+Pj49MCx0fHxPKGUsNCx0aGlzLmxlbmd0aCksdGhpc1tlXTw8MjR8dGhpc1tlKzFdPDwxNnx0aGlzW2UrMl08PDh8dGhpc1tlKzNdfSxzLnByb3RvdHlwZS5yZWFkRmxvYXRMRT1mdW5jdGlvbihlLHQpe3JldHVybiBlPj4+PTAsdHx8TyhlLDQsdGhpcy5sZW5ndGgpLEoucmVhZCh0aGlzLGUsITAsMjMsNCl9LHMucHJvdG90eXBlLnJlYWRGbG9hdEJFPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU+Pj49MCx0fHxPKGUsNCx0aGlzLmxlbmd0aCksSi5yZWFkKHRoaXMsZSwhMSwyMyw0KX0scy5wcm90b3R5cGUucmVhZERvdWJsZUxFPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU+Pj49MCx0fHxPKGUsOCx0aGlzLmxlbmd0aCksSi5yZWFkKHRoaXMsZSwhMCw1Miw4KX0scy5wcm90b3R5cGUucmVhZERvdWJsZUJFPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU+Pj49MCx0fHxPKGUsOCx0aGlzLmxlbmd0aCksSi5yZWFkKHRoaXMsZSwhMSw1Miw4KX0scy5wcm90b3R5cGUud3JpdGVVSW50TEU9ZnVuY3Rpb24oZSx0LG4sYSl7aWYoZT0rZSx0Pj4+PTAsbj4+Pj0wLCFhKXt2YXIgbz1yKDIsOCpuKS0xO0YodGhpcyxlLHQsbixvLDApfXZhciBkPTEscz0wO2Zvcih0aGlzW3RdPTI1NSZlOysrczxuJiYoZCo9MjU2KTspdGhpc1t0K3NdPTI1NSZlL2Q7cmV0dXJuIHQrbn0scy5wcm90b3R5cGUud3JpdGVVSW50QkU9ZnVuY3Rpb24oZSx0LG4sYSl7aWYoZT0rZSx0Pj4+PTAsbj4+Pj0wLCFhKXt2YXIgbz1yKDIsOCpuKS0xO0YodGhpcyxlLHQsbixvLDApfXZhciBkPW4tMSxzPTE7Zm9yKHRoaXNbdCtkXT0yNTUmZTswPD0tLWQmJihzKj0yNTYpOyl0aGlzW3QrZF09MjU1JmUvcztyZXR1cm4gdCtufSxzLnByb3RvdHlwZS53cml0ZVVJbnQ4PWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZT0rZSx0Pj4+PTAsbnx8Rih0aGlzLGUsdCwxLDI1NSwwKSx0aGlzW3RdPTI1NSZlLHQrMX0scy5wcm90b3R5cGUud3JpdGVVSW50MTZMRT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGU9K2UsdD4+Pj0wLG58fEYodGhpcyxlLHQsMiw2NTUzNSwwKSx0aGlzW3RdPTI1NSZlLHRoaXNbdCsxXT1lPj4+OCx0KzJ9LHMucHJvdG90eXBlLndyaXRlVUludDE2QkU9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBlPStlLHQ+Pj49MCxufHxGKHRoaXMsZSx0LDIsNjU1MzUsMCksdGhpc1t0XT1lPj4+OCx0aGlzW3QrMV09MjU1JmUsdCsyfSxzLnByb3RvdHlwZS53cml0ZVVJbnQzMkxFPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZT0rZSx0Pj4+PTAsbnx8Rih0aGlzLGUsdCw0LDQyOTQ5NjcyOTUsMCksdGhpc1t0KzNdPWU+Pj4yNCx0aGlzW3QrMl09ZT4+PjE2LHRoaXNbdCsxXT1lPj4+OCx0aGlzW3RdPTI1NSZlLHQrNH0scy5wcm90b3R5cGUud3JpdGVVSW50MzJCRT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGU9K2UsdD4+Pj0wLG58fEYodGhpcyxlLHQsNCw0Mjk0OTY3Mjk1LDApLHRoaXNbdF09ZT4+PjI0LHRoaXNbdCsxXT1lPj4+MTYsdGhpc1t0KzJdPWU+Pj44LHRoaXNbdCszXT0yNTUmZSx0KzR9LHMucHJvdG90eXBlLndyaXRlSW50TEU9ZnVuY3Rpb24oZSx0LG4sYSl7aWYoZT0rZSx0Pj4+PTAsIWEpe3ZhciBvPXIoMiw4Km4tMSk7Rih0aGlzLGUsdCxuLG8tMSwtbyl9dmFyIGQ9MCxzPTEsbD0wO2Zvcih0aGlzW3RdPTI1NSZlOysrZDxuJiYocyo9MjU2KTspMD5lJiYwPT09bCYmMCE9PXRoaXNbdCtkLTFdJiYobD0xKSx0aGlzW3QrZF09MjU1JihlL3M+PjApLWw7cmV0dXJuIHQrbn0scy5wcm90b3R5cGUud3JpdGVJbnRCRT1mdW5jdGlvbihlLHQsbixhKXtpZihlPStlLHQ+Pj49MCwhYSl7dmFyIG89cigyLDgqbi0xKTtGKHRoaXMsZSx0LG4sby0xLC1vKX12YXIgZD1uLTEscz0xLGw9MDtmb3IodGhpc1t0K2RdPTI1NSZlOzA8PS0tZCYmKHMqPTI1Nik7KTA+ZSYmMD09PWwmJjAhPT10aGlzW3QrZCsxXSYmKGw9MSksdGhpc1t0K2RdPTI1NSYoZS9zPj4wKS1sO3JldHVybiB0K259LHMucHJvdG90eXBlLndyaXRlSW50OD1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGU9K2UsdD4+Pj0wLG58fEYodGhpcyxlLHQsMSwxMjcsLTEyOCksMD5lJiYoZT0yNTUrZSsxKSx0aGlzW3RdPTI1NSZlLHQrMX0scy5wcm90b3R5cGUud3JpdGVJbnQxNkxFPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZT0rZSx0Pj4+PTAsbnx8Rih0aGlzLGUsdCwyLDMyNzY3LC0zMjc2OCksdGhpc1t0XT0yNTUmZSx0aGlzW3QrMV09ZT4+PjgsdCsyfSxzLnByb3RvdHlwZS53cml0ZUludDE2QkU9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBlPStlLHQ+Pj49MCxufHxGKHRoaXMsZSx0LDIsMzI3NjcsLTMyNzY4KSx0aGlzW3RdPWU+Pj44LHRoaXNbdCsxXT0yNTUmZSx0KzJ9LHMucHJvdG90eXBlLndyaXRlSW50MzJMRT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGU9K2UsdD4+Pj0wLG58fEYodGhpcyxlLHQsNCwyMTQ3NDgzNjQ3LC0yMTQ3NDgzNjQ4KSx0aGlzW3RdPTI1NSZlLHRoaXNbdCsxXT1lPj4+OCx0aGlzW3QrMl09ZT4+PjE2LHRoaXNbdCszXT1lPj4+MjQsdCs0fSxzLnByb3RvdHlwZS53cml0ZUludDMyQkU9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBlPStlLHQ+Pj49MCxufHxGKHRoaXMsZSx0LDQsMjE0NzQ4MzY0NywtMjE0NzQ4MzY0OCksMD5lJiYoZT00Mjk0OTY3Mjk1K2UrMSksdGhpc1t0XT1lPj4+MjQsdGhpc1t0KzFdPWU+Pj4xNix0aGlzW3QrMl09ZT4+PjgsdGhpc1t0KzNdPTI1NSZlLHQrNH0scy5wcm90b3R5cGUud3JpdGVGbG9hdExFPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gVSh0aGlzLGUsdCwhMCxuKX0scy5wcm90b3R5cGUud3JpdGVGbG9hdEJFPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gVSh0aGlzLGUsdCwhMSxuKX0scy5wcm90b3R5cGUud3JpdGVEb3VibGVMRT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGoodGhpcyxlLHQsITAsbil9LHMucHJvdG90eXBlLndyaXRlRG91YmxlQkU9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBqKHRoaXMsZSx0LCExLG4pfSxzLnByb3RvdHlwZS5jb3B5PWZ1bmN0aW9uKGUsdCxuLHIpe2lmKCFzLmlzQnVmZmVyKGUpKXRocm93IG5ldyBUeXBlRXJyb3IoImFyZ3VtZW50IHNob3VsZCBiZSBhIEJ1ZmZlciIpO2lmKG58fChuPTApLHJ8fDA9PT1yfHwocj10aGlzLmxlbmd0aCksdD49ZS5sZW5ndGgmJih0PWUubGVuZ3RoKSx0fHwodD0wKSwwPHImJnI8biYmKHI9bikscj09PW4pcmV0dXJuIDA7aWYoMD09PWUubGVuZ3RofHwwPT09dGhpcy5sZW5ndGgpcmV0dXJuIDA7aWYoMD50KXRocm93IG5ldyBSYW5nZUVycm9yKCJ0YXJnZXRTdGFydCBvdXQgb2YgYm91bmRzIik7aWYoMD5ufHxuPj10aGlzLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiSW5kZXggb3V0IG9mIHJhbmdlIik7aWYoMD5yKXRocm93IG5ldyBSYW5nZUVycm9yKCJzb3VyY2VFbmQgb3V0IG9mIGJvdW5kcyIpO3I+dGhpcy5sZW5ndGgmJihyPXRoaXMubGVuZ3RoKSxlLmxlbmd0aC10PHItbiYmKHI9ZS5sZW5ndGgtdCtuKTt2YXIgYT1yLW47aWYodGhpcz09PWUmJiJmdW5jdGlvbiI9PXR5cGVvZiBVaW50OEFycmF5LnByb3RvdHlwZS5jb3B5V2l0aGluKXRoaXMuY29weVdpdGhpbih0LG4scik7ZWxzZSBpZih0aGlzPT09ZSYmbjx0JiZ0PHIpZm9yKHZhciBvPWEtMTswPD1vOy0tbyllW28rdF09dGhpc1tvK25dO2Vsc2UgVWludDhBcnJheS5wcm90b3R5cGUuc2V0LmNhbGwoZSx0aGlzLnN1YmFycmF5KG4sciksdCk7cmV0dXJuIGF9LHMucHJvdG90eXBlLmZpbGw9ZnVuY3Rpb24oZSx0LG4scil7aWYoInN0cmluZyI9PXR5cGVvZiBlKXtpZigic3RyaW5nIj09dHlwZW9mIHQ/KHI9dCx0PTAsbj10aGlzLmxlbmd0aCk6InN0cmluZyI9PXR5cGVvZiBuJiYocj1uLG49dGhpcy5sZW5ndGgpLHZvaWQgMCE9PXImJiJzdHJpbmciIT10eXBlb2Ygcil0aHJvdyBuZXcgVHlwZUVycm9yKCJlbmNvZGluZyBtdXN0IGJlIGEgc3RyaW5nIik7aWYoInN0cmluZyI9PXR5cGVvZiByJiYhcy5pc0VuY29kaW5nKHIpKXRocm93IG5ldyBUeXBlRXJyb3IoIlVua25vd24gZW5jb2Rpbmc6ICIrcik7aWYoMT09PWUubGVuZ3RoKXt2YXIgYT1lLmNoYXJDb2RlQXQoMCk7KCJ1dGY4Ij09PXImJjEyOD5hfHwibGF0aW4xIj09PXIpJiYoZT1hKX19ZWxzZSJudW1iZXIiPT10eXBlb2YgZSYmKGUmPTI1NSk7aWYoMD50fHx0aGlzLmxlbmd0aDx0fHx0aGlzLmxlbmd0aDxuKXRocm93IG5ldyBSYW5nZUVycm9yKCJPdXQgb2YgcmFuZ2UgaW5kZXgiKTtpZihuPD10KXJldHVybiB0aGlzO3Q+Pj49MCxuPW49PT12b2lkIDA/dGhpcy5sZW5ndGg6bj4+PjAsZXx8KGU9MCk7dmFyIG87aWYoIm51bWJlciI9PXR5cGVvZiBlKWZvcihvPXQ7bzxuOysrbyl0aGlzW29dPWU7ZWxzZXt2YXIgZD1zLmlzQnVmZmVyKGUpP2U6cy5mcm9tKGUsciksbD1kLmxlbmd0aDtpZigwPT09bCl0aHJvdyBuZXcgVHlwZUVycm9yKCJUaGUgdmFsdWUgXCIiK2UrIlwiIGlzIGludmFsaWQgZm9yIGFyZ3VtZW50IFwidmFsdWVcIiIpO2ZvcihvPTA7bzxuLXQ7KytvKXRoaXNbbyt0XT1kW28lbF19cmV0dXJuIHRoaXN9O3ZhciBRPS9bXisvMC05QS1aYS16LV9dL2d9KS5jYWxsKHRoaXMpfSkuY2FsbCh0aGlzLGUoImJ1ZmZlciIpLkJ1ZmZlcil9LHsiYmFzZTY0LWpzIjoxLGJ1ZmZlcjozLGllZWU3NTQ6OX1dLDQ6W2Z1bmN0aW9uKGUsdCxuKXsoZnVuY3Rpb24oYSl7KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcigpe2xldCBlO3RyeXtlPW4uc3RvcmFnZS5nZXRJdGVtKCJkZWJ1ZyIpfWNhdGNoKGUpe31yZXR1cm4hZSYmInVuZGVmaW5lZCIhPXR5cGVvZiBhJiYiZW52ImluIGEmJihlPWEuZW52LkRFQlVHKSxlfW4uZm9ybWF0QXJncz1mdW5jdGlvbihlKXtpZihlWzBdPSh0aGlzLnVzZUNvbG9ycz8iJWMiOiIiKSt0aGlzLm5hbWVzcGFjZSsodGhpcy51c2VDb2xvcnM/IiAlYyI6IiAiKStlWzBdKyh0aGlzLnVzZUNvbG9ycz8iJWMgIjoiICIpKyIrIit0LmV4cG9ydHMuaHVtYW5pemUodGhpcy5kaWZmKSwhdGhpcy51c2VDb2xvcnMpcmV0dXJuO2NvbnN0IG49ImNvbG9yOiAiK3RoaXMuY29sb3I7ZS5zcGxpY2UoMSwwLG4sImNvbG9yOiBpbmhlcml0Iik7bGV0IHI9MCxhPTA7ZVswXS5yZXBsYWNlKC8lW2EtekEtWiVdL2csZT0+eyIlJSI9PT1lfHwocisrLCIlYyI9PT1lJiYoYT1yKSl9KSxlLnNwbGljZShhLDAsbil9LG4uc2F2ZT1mdW5jdGlvbihlKXt0cnl7ZT9uLnN0b3JhZ2Uuc2V0SXRlbSgiZGVidWciLGUpOm4uc3RvcmFnZS5yZW1vdmVJdGVtKCJkZWJ1ZyIpfWNhdGNoKGUpe319LG4ubG9hZD1yLG4udXNlQ29sb3JzPWZ1bmN0aW9uKCl7cmV0dXJuISEoInVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdy5wcm9jZXNzJiYoInJlbmRlcmVyIj09PXdpbmRvdy5wcm9jZXNzLnR5cGV8fHdpbmRvdy5wcm9jZXNzLl9fbndqcykpfHwhKCJ1bmRlZmluZWQiIT10eXBlb2YgbmF2aWdhdG9yJiZuYXZpZ2F0b3IudXNlckFnZW50JiZuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkubWF0Y2goLyhlZGdlfHRyaWRlbnQpXC8oXGQrKS8pKSYmKCJ1bmRlZmluZWQiIT10eXBlb2YgZG9jdW1lbnQmJmRvY3VtZW50LmRvY3VtZW50RWxlbWVudCYmZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlJiZkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuV2Via2l0QXBwZWFyYW5jZXx8InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdy5jb25zb2xlJiYod2luZG93LmNvbnNvbGUuZmlyZWJ1Z3x8d2luZG93LmNvbnNvbGUuZXhjZXB0aW9uJiZ3aW5kb3cuY29uc29sZS50YWJsZSl8fCJ1bmRlZmluZWQiIT10eXBlb2YgbmF2aWdhdG9yJiZuYXZpZ2F0b3IudXNlckFnZW50JiZuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkubWF0Y2goL2ZpcmVmb3hcLyhcZCspLykmJjMxPD1wYXJzZUludChSZWdFeHAuJDEsMTApfHwidW5kZWZpbmVkIiE9dHlwZW9mIG5hdmlnYXRvciYmbmF2aWdhdG9yLnVzZXJBZ2VudCYmbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLm1hdGNoKC9hcHBsZXdlYmtpdFwvKFxkKykvKSl9LG4uc3RvcmFnZT1mdW5jdGlvbigpe3RyeXtyZXR1cm4gbG9jYWxTdG9yYWdlfWNhdGNoKGUpe319KCksbi5kZXN0cm95PSgoKT0+e2xldCBlPSExO3JldHVybigpPT57ZXx8KGU9ITAsY29uc29sZS53YXJuKCJJbnN0YW5jZSBtZXRob2QgYGRlYnVnLmRlc3Ryb3koKWAgaXMgZGVwcmVjYXRlZCBhbmQgbm8gbG9uZ2VyIGRvZXMgYW55dGhpbmcuIEl0IHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgbmV4dCBtYWpvciB2ZXJzaW9uIG9mIGBkZWJ1Z2AuIikpfX0pKCksbi5jb2xvcnM9WyIjMDAwMENDIiwiIzAwMDBGRiIsIiMwMDMzQ0MiLCIjMDAzM0ZGIiwiIzAwNjZDQyIsIiMwMDY2RkYiLCIjMDA5OUNDIiwiIzAwOTlGRiIsIiMwMENDMDAiLCIjMDBDQzMzIiwiIzAwQ0M2NiIsIiMwMENDOTkiLCIjMDBDQ0NDIiwiIzAwQ0NGRiIsIiMzMzAwQ0MiLCIjMzMwMEZGIiwiIzMzMzNDQyIsIiMzMzMzRkYiLCIjMzM2NkNDIiwiIzMzNjZGRiIsIiMzMzk5Q0MiLCIjMzM5OUZGIiwiIzMzQ0MwMCIsIiMzM0NDMzMiLCIjMzNDQzY2IiwiIzMzQ0M5OSIsIiMzM0NDQ0MiLCIjMzNDQ0ZGIiwiIzY2MDBDQyIsIiM2NjAwRkYiLCIjNjYzM0NDIiwiIzY2MzNGRiIsIiM2NkNDMDAiLCIjNjZDQzMzIiwiIzk5MDBDQyIsIiM5OTAwRkYiLCIjOTkzM0NDIiwiIzk5MzNGRiIsIiM5OUNDMDAiLCIjOTlDQzMzIiwiI0NDMDAwMCIsIiNDQzAwMzMiLCIjQ0MwMDY2IiwiI0NDMDA5OSIsIiNDQzAwQ0MiLCIjQ0MwMEZGIiwiI0NDMzMwMCIsIiNDQzMzMzMiLCIjQ0MzMzY2IiwiI0NDMzM5OSIsIiNDQzMzQ0MiLCIjQ0MzM0ZGIiwiI0NDNjYwMCIsIiNDQzY2MzMiLCIjQ0M5OTAwIiwiI0NDOTkzMyIsIiNDQ0NDMDAiLCIjQ0NDQzMzIiwiI0ZGMDAwMCIsIiNGRjAwMzMiLCIjRkYwMDY2IiwiI0ZGMDA5OSIsIiNGRjAwQ0MiLCIjRkYwMEZGIiwiI0ZGMzMwMCIsIiNGRjMzMzMiLCIjRkYzMzY2IiwiI0ZGMzM5OSIsIiNGRjMzQ0MiLCIjRkYzM0ZGIiwiI0ZGNjYwMCIsIiNGRjY2MzMiLCIjRkY5OTAwIiwiI0ZGOTkzMyIsIiNGRkNDMDAiLCIjRkZDQzMzIl0sbi5sb2c9Y29uc29sZS5kZWJ1Z3x8Y29uc29sZS5sb2d8fCgoKT0+e30pLHQuZXhwb3J0cz1lKCIuL2NvbW1vbiIpKG4pO2NvbnN0e2Zvcm1hdHRlcnM6b309dC5leHBvcnRzO28uaj1mdW5jdGlvbihlKXt0cnl7cmV0dXJuIEpTT04uc3RyaW5naWZ5KGUpfWNhdGNoKGUpe3JldHVybiJbVW5leHBlY3RlZEpTT05QYXJzZUVycm9yXTogIitlLm1lc3NhZ2V9fX0pLmNhbGwodGhpcyl9KS5jYWxsKHRoaXMsZSgiX3Byb2Nlc3MiKSl9LHsiLi9jb21tb24iOjUsX3Byb2Nlc3M6MTJ9XSw1OltmdW5jdGlvbihlLHQpe3QuZXhwb3J0cz1mdW5jdGlvbih0KXtmdW5jdGlvbiByKGUpe2Z1bmN0aW9uIHQoLi4uZSl7aWYoIXQuZW5hYmxlZClyZXR1cm47Y29uc3QgYT10LG89K25ldyBEYXRlLGk9by0obnx8byk7YS5kaWZmPWksYS5wcmV2PW4sYS5jdXJyPW8sbj1vLGVbMF09ci5jb2VyY2UoZVswXSksInN0cmluZyIhPXR5cGVvZiBlWzBdJiZlLnVuc2hpZnQoIiVPIik7bGV0IGQ9MDtlWzBdPWVbMF0ucmVwbGFjZSgvJShbYS16QS1aJV0pL2csKHQsbik9PntpZigiJSUiPT09dClyZXR1cm4iJSI7ZCsrO2NvbnN0IG89ci5mb3JtYXR0ZXJzW25dO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBvKXtjb25zdCBuPWVbZF07dD1vLmNhbGwoYSxuKSxlLnNwbGljZShkLDEpLGQtLX1yZXR1cm4gdH0pLHIuZm9ybWF0QXJncy5jYWxsKGEsZSk7Y29uc3Qgcz1hLmxvZ3x8ci5sb2c7cy5hcHBseShhLGUpfWxldCBuLG89bnVsbDtyZXR1cm4gdC5uYW1lc3BhY2U9ZSx0LnVzZUNvbG9ycz1yLnVzZUNvbG9ycygpLHQuY29sb3I9ci5zZWxlY3RDb2xvcihlKSx0LmV4dGVuZD1hLHQuZGVzdHJveT1yLmRlc3Ryb3ksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsImVuYWJsZWQiLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMSxnZXQ6KCk9Pm51bGw9PT1vP3IuZW5hYmxlZChlKTpvLHNldDplPT57bz1lfX0pLCJmdW5jdGlvbiI9PXR5cGVvZiByLmluaXQmJnIuaW5pdCh0KSx0fWZ1bmN0aW9uIGEoZSx0KXtjb25zdCBuPXIodGhpcy5uYW1lc3BhY2UrKCJ1bmRlZmluZWQiPT10eXBlb2YgdD8iOiI6dCkrZSk7cmV0dXJuIG4ubG9nPXRoaXMubG9nLG59ZnVuY3Rpb24gbyhlKXtyZXR1cm4gZS50b1N0cmluZygpLnN1YnN0cmluZygyLGUudG9TdHJpbmcoKS5sZW5ndGgtMikucmVwbGFjZSgvXC5cKlw/JC8sIioiKX1yZXR1cm4gci5kZWJ1Zz1yLHIuZGVmYXVsdD1yLHIuY29lcmNlPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgRXJyb3I/ZS5zdGFja3x8ZS5tZXNzYWdlOmV9LHIuZGlzYWJsZT1mdW5jdGlvbigpe2NvbnN0IGU9Wy4uLnIubmFtZXMubWFwKG8pLC4uLnIuc2tpcHMubWFwKG8pLm1hcChlPT4iLSIrZSldLmpvaW4oIiwiKTtyZXR1cm4gci5lbmFibGUoIiIpLGV9LHIuZW5hYmxlPWZ1bmN0aW9uKGUpe3Iuc2F2ZShlKSxyLm5hbWVzPVtdLHIuc2tpcHM9W107bGV0IHQ7Y29uc3Qgbj0oInN0cmluZyI9PXR5cGVvZiBlP2U6IiIpLnNwbGl0KC9bXHMsXSsvKSxhPW4ubGVuZ3RoO2Zvcih0PTA7dDxhO3QrKyluW3RdJiYoZT1uW3RdLnJlcGxhY2UoL1wqL2csIi4qPyIpLCItIj09PWVbMF0/ci5za2lwcy5wdXNoKG5ldyBSZWdFeHAoIl4iK2Uuc3Vic3RyKDEpKyIkIikpOnIubmFtZXMucHVzaChuZXcgUmVnRXhwKCJeIitlKyIkIikpKX0sci5lbmFibGVkPWZ1bmN0aW9uKGUpe2lmKCIqIj09PWVbZS5sZW5ndGgtMV0pcmV0dXJuITA7bGV0IHQsbjtmb3IodD0wLG49ci5za2lwcy5sZW5ndGg7dDxuO3QrKylpZihyLnNraXBzW3RdLnRlc3QoZSkpcmV0dXJuITE7Zm9yKHQ9MCxuPXIubmFtZXMubGVuZ3RoO3Q8bjt0KyspaWYoci5uYW1lc1t0XS50ZXN0KGUpKXJldHVybiEwO3JldHVybiExfSxyLmh1bWFuaXplPWUoIm1zIiksci5kZXN0cm95PWZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKCJJbnN0YW5jZSBtZXRob2QgYGRlYnVnLmRlc3Ryb3koKWAgaXMgZGVwcmVjYXRlZCBhbmQgbm8gbG9uZ2VyIGRvZXMgYW55dGhpbmcuIEl0IHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgbmV4dCBtYWpvciB2ZXJzaW9uIG9mIGBkZWJ1Z2AuIil9LE9iamVjdC5rZXlzKHQpLmZvckVhY2goZT0+e3JbZV09dFtlXX0pLHIubmFtZXM9W10sci5za2lwcz1bXSxyLmZvcm1hdHRlcnM9e30sci5zZWxlY3RDb2xvcj1mdW5jdGlvbihlKXtsZXQgdD0wO2ZvcihsZXQgbj0wO248ZS5sZW5ndGg7bisrKXQ9KHQ8PDUpLXQrZS5jaGFyQ29kZUF0KG4pLHR8PTA7cmV0dXJuIHIuY29sb3JzW24odCklci5jb2xvcnMubGVuZ3RoXX0sci5lbmFibGUoci5sb2FkKCkpLHJ9fSx7bXM6MTF9XSw2OltmdW5jdGlvbihlLHQpeyd1c2Ugc3RyaWN0JztmdW5jdGlvbiBuKGUsdCl7Zm9yKGNvbnN0IG4gaW4gdClPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxuLHt2YWx1ZTp0W25dLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSk7cmV0dXJuIGV9dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtpZighZXx8InN0cmluZyI9PXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoIlBsZWFzZSBwYXNzIGFuIEVycm9yIHRvIGVyci1jb2RlIik7cnx8KHI9e30pLCJvYmplY3QiPT10eXBlb2YgdCYmKHI9dCx0PSIiKSx0JiYoci5jb2RlPXQpO3RyeXtyZXR1cm4gbihlLHIpfWNhdGNoKHQpe3IubWVzc2FnZT1lLm1lc3NhZ2Usci5zdGFjaz1lLnN0YWNrO2NvbnN0IGE9ZnVuY3Rpb24oKXt9O2EucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoT2JqZWN0LmdldFByb3RvdHlwZU9mKGUpKTtjb25zdCBvPW4obmV3IGEscik7cmV0dXJuIG99fX0se31dLDc6W2Z1bmN0aW9uKGUsdCl7J3VzZSBzdHJpY3QnO2Z1bmN0aW9uIG4oZSl7Y29uc29sZSYmY29uc29sZS53YXJuJiZjb25zb2xlLndhcm4oZSl9ZnVuY3Rpb24gcigpe3IuaW5pdC5jYWxsKHRoaXMpfWZ1bmN0aW9uIGEoZSl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcigiVGhlIFwibGlzdGVuZXJcIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgRnVuY3Rpb24uIFJlY2VpdmVkIHR5cGUgIit0eXBlb2YgZSl9ZnVuY3Rpb24gbyhlKXtyZXR1cm4gdm9pZCAwPT09ZS5fbWF4TGlzdGVuZXJzP3IuZGVmYXVsdE1heExpc3RlbmVyczplLl9tYXhMaXN0ZW5lcnN9ZnVuY3Rpb24gaShlLHQscixpKXt2YXIgZCxzLGw7aWYoYShyKSxzPWUuX2V2ZW50cyx2b2lkIDA9PT1zPyhzPWUuX2V2ZW50cz1PYmplY3QuY3JlYXRlKG51bGwpLGUuX2V2ZW50c0NvdW50PTApOih2b2lkIDAhPT1zLm5ld0xpc3RlbmVyJiYoZS5lbWl0KCJuZXdMaXN0ZW5lciIsdCxyLmxpc3RlbmVyP3IubGlzdGVuZXI6cikscz1lLl9ldmVudHMpLGw9c1t0XSksdm9pZCAwPT09bClsPXNbdF09ciwrK2UuX2V2ZW50c0NvdW50O2Vsc2UgaWYoImZ1bmN0aW9uIj09dHlwZW9mIGw/bD1zW3RdPWk/W3IsbF06W2wscl06aT9sLnVuc2hpZnQocik6bC5wdXNoKHIpLGQ9byhlKSwwPGQmJmwubGVuZ3RoPmQmJiFsLndhcm5lZCl7bC53YXJuZWQ9ITA7dmFyIGM9bmV3IEVycm9yKCJQb3NzaWJsZSBFdmVudEVtaXR0ZXIgbWVtb3J5IGxlYWsgZGV0ZWN0ZWQuICIrbC5sZW5ndGgrIiAiKyh0KyIgbGlzdGVuZXJzIGFkZGVkLiBVc2UgZW1pdHRlci5zZXRNYXhMaXN0ZW5lcnMoKSB0byBpbmNyZWFzZSBsaW1pdCIpKTtjLm5hbWU9Ik1heExpc3RlbmVyc0V4Y2VlZGVkV2FybmluZyIsYy5lbWl0dGVyPWUsYy50eXBlPXQsYy5jb3VudD1sLmxlbmd0aCxuKGMpfXJldHVybiBlfWZ1bmN0aW9uIGQoKXtpZighdGhpcy5maXJlZClyZXR1cm4gdGhpcy50YXJnZXQucmVtb3ZlTGlzdGVuZXIodGhpcy50eXBlLHRoaXMud3JhcEZuKSx0aGlzLmZpcmVkPSEwLDA9PT1hcmd1bWVudHMubGVuZ3RoP3RoaXMubGlzdGVuZXIuY2FsbCh0aGlzLnRhcmdldCk6dGhpcy5saXN0ZW5lci5hcHBseSh0aGlzLnRhcmdldCxhcmd1bWVudHMpfWZ1bmN0aW9uIHMoZSx0LG4pe3ZhciByPXtmaXJlZDohMSx3cmFwRm46dm9pZCAwLHRhcmdldDplLHR5cGU6dCxsaXN0ZW5lcjpufSxhPWQuYmluZChyKTtyZXR1cm4gYS5saXN0ZW5lcj1uLHIud3JhcEZuPWEsYX1mdW5jdGlvbiBsKGUsdCxuKXt2YXIgcj1lLl9ldmVudHM7aWYocj09PXZvaWQgMClyZXR1cm5bXTt2YXIgYT1yW3RdO3JldHVybiB2b2lkIDA9PT1hP1tdOiJmdW5jdGlvbiI9PXR5cGVvZiBhP24/W2EubGlzdGVuZXJ8fGFdOlthXTpuP2YoYSk6dShhLGEubGVuZ3RoKX1mdW5jdGlvbiBjKGUpe3ZhciB0PXRoaXMuX2V2ZW50cztpZih0IT09dm9pZCAwKXt2YXIgbj10W2VdO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBuKXJldHVybiAxO2lmKHZvaWQgMCE9PW4pcmV0dXJuIG4ubGVuZ3RofXJldHVybiAwfWZ1bmN0aW9uIHUoZSx0KXtmb3IodmFyIG49QXJyYXkodCkscj0wO3I8dDsrK3IpbltyXT1lW3JdO3JldHVybiBufWZ1bmN0aW9uIHAoZSx0KXtmb3IoO3QrMTxlLmxlbmd0aDt0KyspZVt0XT1lW3QrMV07ZS5wb3AoKX1mdW5jdGlvbiBmKGUpe2Zvcih2YXIgdD1BcnJheShlLmxlbmd0aCksbj0wO248dC5sZW5ndGg7KytuKXRbbl09ZVtuXS5saXN0ZW5lcnx8ZVtuXTtyZXR1cm4gdH1mdW5jdGlvbiBnKGUsdCxuKXsiZnVuY3Rpb24iPT10eXBlb2YgZS5vbiYmXyhlLCJlcnJvciIsdCxuKX1mdW5jdGlvbiBfKGUsdCxuLHIpe2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBlLm9uKXIub25jZT9lLm9uY2UodCxuKTplLm9uKHQsbik7ZWxzZSBpZigiZnVuY3Rpb24iPT10eXBlb2YgZS5hZGRFdmVudExpc3RlbmVyKWUuYWRkRXZlbnRMaXN0ZW5lcih0LGZ1bmN0aW9uIGEobyl7ci5vbmNlJiZlLnJlbW92ZUV2ZW50TGlzdGVuZXIodCxhKSxuKG8pfSk7ZWxzZSB0aHJvdyBuZXcgVHlwZUVycm9yKCJUaGUgXCJlbWl0dGVyXCIgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIEV2ZW50RW1pdHRlci4gUmVjZWl2ZWQgdHlwZSAiK3R5cGVvZiBlKX12YXIgaCxtPSJvYmplY3QiPT10eXBlb2YgUmVmbGVjdD9SZWZsZWN0Om51bGwsYj1tJiYiZnVuY3Rpb24iPT10eXBlb2YgbS5hcHBseT9tLmFwcGx5OmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5LmNhbGwoZSx0LG4pfTtoPW0mJiJmdW5jdGlvbiI9PXR5cGVvZiBtLm93bktleXM/bS5vd25LZXlzOk9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM/ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGUpLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpKX06ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGUpfTt2YXIgeT1OdW1iZXIuaXNOYU58fGZ1bmN0aW9uKGUpe3JldHVybiBlIT09ZX07dC5leHBvcnRzPXIsdC5leHBvcnRzLm9uY2U9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24obixyKXtmdW5jdGlvbiBhKG4pe2UucmVtb3ZlTGlzdGVuZXIodCxvKSxyKG4pfWZ1bmN0aW9uIG8oKXsiZnVuY3Rpb24iPT10eXBlb2YgZS5yZW1vdmVMaXN0ZW5lciYmZS5yZW1vdmVMaXN0ZW5lcigiZXJyb3IiLGEpLG4oW10uc2xpY2UuY2FsbChhcmd1bWVudHMpKX1fKGUsdCxvLHtvbmNlOiEwfSksImVycm9yIiE9PXQmJmcoZSxhLHtvbmNlOiEwfSl9KX0sci5FdmVudEVtaXR0ZXI9cixyLnByb3RvdHlwZS5fZXZlbnRzPXZvaWQgMCxyLnByb3RvdHlwZS5fZXZlbnRzQ291bnQ9MCxyLnByb3RvdHlwZS5fbWF4TGlzdGVuZXJzPXZvaWQgMDt2YXIgQz0xMDtPYmplY3QuZGVmaW5lUHJvcGVydHkociwiZGVmYXVsdE1heExpc3RlbmVycyIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIEN9LHNldDpmdW5jdGlvbihlKXtpZigibnVtYmVyIiE9dHlwZW9mIGV8fDA+ZXx8eShlKSl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiVGhlIHZhbHVlIG9mIFwiZGVmYXVsdE1heExpc3RlbmVyc1wiIGlzIG91dCBvZiByYW5nZS4gSXQgbXVzdCBiZSBhIG5vbi1uZWdhdGl2ZSBudW1iZXIuIFJlY2VpdmVkICIrZSsiLiIpO0M9ZX19KSxyLmluaXQ9ZnVuY3Rpb24oKXsodGhpcy5fZXZlbnRzPT09dm9pZCAwfHx0aGlzLl9ldmVudHM9PT1PYmplY3QuZ2V0UHJvdG90eXBlT2YodGhpcykuX2V2ZW50cykmJih0aGlzLl9ldmVudHM9T2JqZWN0LmNyZWF0ZShudWxsKSx0aGlzLl9ldmVudHNDb3VudD0wKSx0aGlzLl9tYXhMaXN0ZW5lcnM9dGhpcy5fbWF4TGlzdGVuZXJzfHx2b2lkIDB9LHIucHJvdG90eXBlLnNldE1heExpc3RlbmVycz1mdW5jdGlvbihlKXtpZigibnVtYmVyIiE9dHlwZW9mIGV8fDA+ZXx8eShlKSl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiVGhlIHZhbHVlIG9mIFwiblwiIGlzIG91dCBvZiByYW5nZS4gSXQgbXVzdCBiZSBhIG5vbi1uZWdhdGl2ZSBudW1iZXIuIFJlY2VpdmVkICIrZSsiLiIpO3JldHVybiB0aGlzLl9tYXhMaXN0ZW5lcnM9ZSx0aGlzfSxyLnByb3RvdHlwZS5nZXRNYXhMaXN0ZW5lcnM9ZnVuY3Rpb24oKXtyZXR1cm4gbyh0aGlzKX0sci5wcm90b3R5cGUuZW1pdD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9W10sbj0xO248YXJndW1lbnRzLmxlbmd0aDtuKyspdC5wdXNoKGFyZ3VtZW50c1tuXSk7dmFyIHI9ImVycm9yIj09PWUsYT10aGlzLl9ldmVudHM7aWYoYSE9PXZvaWQgMClyPXImJmEuZXJyb3I9PT12b2lkIDA7ZWxzZSBpZighcilyZXR1cm4hMTtpZihyKXt2YXIgbztpZigwPHQubGVuZ3RoJiYobz10WzBdKSxvIGluc3RhbmNlb2YgRXJyb3IpdGhyb3cgbzt2YXIgZD1uZXcgRXJyb3IoIlVuaGFuZGxlZCBlcnJvci4iKyhvPyIgKCIrby5tZXNzYWdlKyIpIjoiIikpO3Rocm93IGQuY29udGV4dD1vLGR9dmFyIHM9YVtlXTtpZihzPT09dm9pZCAwKXJldHVybiExO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBzKWIocyx0aGlzLHQpO2Vsc2UgZm9yKHZhciBsPXMubGVuZ3RoLGM9dShzLGwpLG49MDtuPGw7KytuKWIoY1tuXSx0aGlzLHQpO3JldHVybiEwfSxyLnByb3RvdHlwZS5hZGRMaXN0ZW5lcj1mdW5jdGlvbihlLHQpe3JldHVybiBpKHRoaXMsZSx0LCExKX0sci5wcm90b3R5cGUub249ci5wcm90b3R5cGUuYWRkTGlzdGVuZXIsci5wcm90b3R5cGUucHJlcGVuZExpc3RlbmVyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGkodGhpcyxlLHQsITApfSxyLnByb3RvdHlwZS5vbmNlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGEodCksdGhpcy5vbihlLHModGhpcyxlLHQpKSx0aGlzfSxyLnByb3RvdHlwZS5wcmVwZW5kT25jZUxpc3RlbmVyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGEodCksdGhpcy5wcmVwZW5kTGlzdGVuZXIoZSxzKHRoaXMsZSx0KSksdGhpc30sci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXI9ZnVuY3Rpb24oZSx0KXt2YXIgbixyLG8sZCxzO2lmKGEodCkscj10aGlzLl9ldmVudHMsdm9pZCAwPT09cilyZXR1cm4gdGhpcztpZihuPXJbZV0sdm9pZCAwPT09bilyZXR1cm4gdGhpcztpZihuPT09dHx8bi5saXN0ZW5lcj09PXQpMD09LS10aGlzLl9ldmVudHNDb3VudD90aGlzLl9ldmVudHM9T2JqZWN0LmNyZWF0ZShudWxsKTooZGVsZXRlIHJbZV0sci5yZW1vdmVMaXN0ZW5lciYmdGhpcy5lbWl0KCJyZW1vdmVMaXN0ZW5lciIsZSxuLmxpc3RlbmVyfHx0KSk7ZWxzZSBpZigiZnVuY3Rpb24iIT10eXBlb2Ygbil7Zm9yKG89LTEsZD1uLmxlbmd0aC0xOzA8PWQ7ZC0tKWlmKG5bZF09PT10fHxuW2RdLmxpc3RlbmVyPT09dCl7cz1uW2RdLmxpc3RlbmVyLG89ZDticmVha31pZigwPm8pcmV0dXJuIHRoaXM7MD09PW8/bi5zaGlmdCgpOnAobixvKSwxPT09bi5sZW5ndGgmJihyW2VdPW5bMF0pLHZvaWQgMCE9PXIucmVtb3ZlTGlzdGVuZXImJnRoaXMuZW1pdCgicmVtb3ZlTGlzdGVuZXIiLGUsc3x8dCl9cmV0dXJuIHRoaXN9LHIucHJvdG90eXBlLm9mZj1yLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lcixyLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnM9ZnVuY3Rpb24oZSl7dmFyIHQsbixyO2lmKG49dGhpcy5fZXZlbnRzLHZvaWQgMD09PW4pcmV0dXJuIHRoaXM7aWYodm9pZCAwPT09bi5yZW1vdmVMaXN0ZW5lcilyZXR1cm4gMD09PWFyZ3VtZW50cy5sZW5ndGg/KHRoaXMuX2V2ZW50cz1PYmplY3QuY3JlYXRlKG51bGwpLHRoaXMuX2V2ZW50c0NvdW50PTApOnZvaWQgMCE9PW5bZV0mJigwPT0tLXRoaXMuX2V2ZW50c0NvdW50P3RoaXMuX2V2ZW50cz1PYmplY3QuY3JlYXRlKG51bGwpOmRlbGV0ZSBuW2VdKSx0aGlzO2lmKDA9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgYSxvPU9iamVjdC5rZXlzKG4pO2ZvcihyPTA7cjxvLmxlbmd0aDsrK3IpYT1vW3JdLCJyZW1vdmVMaXN0ZW5lciIhPT1hJiZ0aGlzLnJlbW92ZUFsbExpc3RlbmVycyhhKTtyZXR1cm4gdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoInJlbW92ZUxpc3RlbmVyIiksdGhpcy5fZXZlbnRzPU9iamVjdC5jcmVhdGUobnVsbCksdGhpcy5fZXZlbnRzQ291bnQ9MCx0aGlzfWlmKHQ9bltlXSwiZnVuY3Rpb24iPT10eXBlb2YgdCl0aGlzLnJlbW92ZUxpc3RlbmVyKGUsdCk7ZWxzZSBpZih2b2lkIDAhPT10KWZvcihyPXQubGVuZ3RoLTE7MDw9cjtyLS0pdGhpcy5yZW1vdmVMaXN0ZW5lcihlLHRbcl0pO3JldHVybiB0aGlzfSxyLnByb3RvdHlwZS5saXN0ZW5lcnM9ZnVuY3Rpb24oZSl7cmV0dXJuIGwodGhpcyxlLCEwKX0sci5wcm90b3R5cGUucmF3TGlzdGVuZXJzPWZ1bmN0aW9uKGUpe3JldHVybiBsKHRoaXMsZSwhMSl9LHIubGlzdGVuZXJDb3VudD1mdW5jdGlvbihlLHQpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBlLmxpc3RlbmVyQ291bnQ/ZS5saXN0ZW5lckNvdW50KHQpOmMuY2FsbChlLHQpfSxyLnByb3RvdHlwZS5saXN0ZW5lckNvdW50PWMsci5wcm90b3R5cGUuZXZlbnROYW1lcz1mdW5jdGlvbigpe3JldHVybiAwPHRoaXMuX2V2ZW50c0NvdW50P2godGhpcy5fZXZlbnRzKTpbXX19LHt9XSw4OltmdW5jdGlvbihlLHQpe3QuZXhwb3J0cz1mdW5jdGlvbigpe2lmKCJ1bmRlZmluZWQiPT10eXBlb2YgZ2xvYmFsVGhpcylyZXR1cm4gbnVsbDt2YXIgZT17UlRDUGVlckNvbm5lY3Rpb246Z2xvYmFsVGhpcy5SVENQZWVyQ29ubmVjdGlvbnx8Z2xvYmFsVGhpcy5tb3pSVENQZWVyQ29ubmVjdGlvbnx8Z2xvYmFsVGhpcy53ZWJraXRSVENQZWVyQ29ubmVjdGlvbixSVENTZXNzaW9uRGVzY3JpcHRpb246Z2xvYmFsVGhpcy5SVENTZXNzaW9uRGVzY3JpcHRpb258fGdsb2JhbFRoaXMubW96UlRDU2Vzc2lvbkRlc2NyaXB0aW9ufHxnbG9iYWxUaGlzLndlYmtpdFJUQ1Nlc3Npb25EZXNjcmlwdGlvbixSVENJY2VDYW5kaWRhdGU6Z2xvYmFsVGhpcy5SVENJY2VDYW5kaWRhdGV8fGdsb2JhbFRoaXMubW96UlRDSWNlQ2FuZGlkYXRlfHxnbG9iYWxUaGlzLndlYmtpdFJUQ0ljZUNhbmRpZGF0ZX07cmV0dXJuIGUuUlRDUGVlckNvbm5lY3Rpb24/ZTpudWxsfX0se31dLDk6W2Z1bmN0aW9uKGUsYSxvKXsvKiEgaWVlZTc1NC4gQlNELTMtQ2xhdXNlIExpY2Vuc2UuIEZlcm9zcyBBYm91a2hhZGlqZWggPGh0dHBzOi8vZmVyb3NzLm9yZy9vcGVuc291cmNlPiAqL28ucmVhZD1mdW5jdGlvbih0LG4sYSxvLGwpe3ZhciBjLHUscD04Kmwtby0xLGY9KDE8PHApLTEsZz1mPj4xLF89LTcsaD1hP2wtMTowLGI9YT8tMToxLGQ9dFtuK2hdO2ZvcihoKz1iLGM9ZCYoMTw8LV8pLTEsZD4+PS1fLF8rPXA7MDxfO2M9MjU2KmMrdFtuK2hdLGgrPWIsXy09OCk7Zm9yKHU9YyYoMTw8LV8pLTEsYz4+PS1fLF8rPW87MDxfO3U9MjU2KnUrdFtuK2hdLGgrPWIsXy09OCk7aWYoMD09PWMpYz0xLWc7ZWxzZXtpZihjPT09ZilyZXR1cm4gdT9OYU46KGQ/LTE6MSkqKDEvMCk7dSs9cigyLG8pLGMtPWd9cmV0dXJuKGQ/LTE6MSkqdSpyKDIsYy1vKX0sby53cml0ZT1mdW5jdGlvbihhLG8sbCx1LHAsZil7dmFyIGgsYix5LGc9TWF0aC5MTjIsXz1NYXRoLmxvZyxDPTgqZi1wLTEsUj0oMTw8QyktMSxFPVI+PjEsdz0yMz09PXA/cigyLC0yNCktcigyLC03Nyk6MCxTPXU/MDpmLTEsVD11PzE6LTEsZD0wPm98fDA9PT1vJiYwPjEvbz8xOjA7Zm9yKG89bihvKSxpc05hTihvKXx8bz09PTEvMD8oYj1pc05hTihvKT8xOjAsaD1SKTooaD10KF8obykvZyksMT5vKih5PXIoMiwtaCkpJiYoaC0tLHkqPTIpLG8rPTE8PWgrRT93L3k6dypyKDIsMS1FKSwyPD1vKnkmJihoKysseS89MiksaCtFPj1SPyhiPTAsaD1SKToxPD1oK0U/KGI9KG8qeS0xKSpyKDIscCksaCs9RSk6KGI9bypyKDIsRS0xKSpyKDIscCksaD0wKSk7ODw9cDthW2wrU109MjU1JmIsUys9VCxiLz0yNTYscC09OCk7Zm9yKGg9aDw8cHxiLEMrPXA7MDxDO2FbbCtTXT0yNTUmaCxTKz1ULGgvPTI1NixDLT04KTthW2wrUy1UXXw9MTI4KmR9fSx7fV0sMTA6W2Z1bmN0aW9uKGUsdCl7dC5leHBvcnRzPSJmdW5jdGlvbiI9PXR5cGVvZiBPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKGUsdCl7dCYmKGUuc3VwZXJfPXQsZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmUsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSkpfTpmdW5jdGlvbihlLHQpe2lmKHQpe2Uuc3VwZXJfPXQ7dmFyIG49ZnVuY3Rpb24oKXt9O24ucHJvdG90eXBlPXQucHJvdG90eXBlLGUucHJvdG90eXBlPW5ldyBuLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWV9fX0se31dLDExOltmdW5jdGlvbihlLHQpe3ZhciByPU1hdGgucm91bmQ7ZnVuY3Rpb24gYShlKXtpZihlKz0iIiwhKDEwMDxlLmxlbmd0aCkpe3ZhciB0PS9eKC0/KD86XGQrKT9cLj9cZCspICoobWlsbGlzZWNvbmRzP3xtc2Vjcz98bXN8c2Vjb25kcz98c2Vjcz98c3xtaW51dGVzP3xtaW5zP3xtfGhvdXJzP3xocnM/fGh8ZGF5cz98ZHx3ZWVrcz98d3x5ZWFycz98eXJzP3x5KT8kL2kuZXhlYyhlKTtpZih0KXt2YXIgcj1wYXJzZUZsb2F0KHRbMV0pLG49KHRbMl18fCJtcyIpLnRvTG93ZXJDYXNlKCk7cmV0dXJuInllYXJzIj09PW58fCJ5ZWFyIj09PW58fCJ5cnMiPT09bnx8InlyIj09PW58fCJ5Ij09PW4/MzE1NTc2MDAwMDAqcjoid2Vla3MiPT09bnx8IndlZWsiPT09bnx8InciPT09bj82MDQ4MDAwMDAqcjoiZGF5cyI9PT1ufHwiZGF5Ij09PW58fCJkIj09PW4/ODY0MDAwMDAqcjoiaG91cnMiPT09bnx8ImhvdXIiPT09bnx8ImhycyI9PT1ufHwiaHIiPT09bnx8ImgiPT09bj8zNjAwMDAwKnI6Im1pbnV0ZXMiPT09bnx8Im1pbnV0ZSI9PT1ufHwibWlucyI9PT1ufHwibWluIj09PW58fCJtIj09PW4/NjAwMDAqcjoic2Vjb25kcyI9PT1ufHwic2Vjb25kIj09PW58fCJzZWNzIj09PW58fCJzZWMiPT09bnx8InMiPT09bj8xMDAwKnI6Im1pbGxpc2Vjb25kcyI9PT1ufHwibWlsbGlzZWNvbmQiPT09bnx8Im1zZWNzIj09PW58fCJtc2VjIj09PW58fCJtcyI9PT1uP3I6dm9pZCAwfX19ZnVuY3Rpb24gbyhlKXt2YXIgdD1uKGUpO3JldHVybiA4NjQwMDAwMDw9dD9yKGUvODY0MDAwMDApKyJkIjozNjAwMDAwPD10P3IoZS8zNjAwMDAwKSsiaCI6NjAwMDA8PXQ/cihlLzYwMDAwKSsibSI6MTAwMDw9dD9yKGUvMTAwMCkrInMiOmUrIm1zIn1mdW5jdGlvbiBpKGUpe3ZhciB0PW4oZSk7cmV0dXJuIDg2NDAwMDAwPD10P3MoZSx0LDg2NDAwMDAwLCJkYXkiKTozNjAwMDAwPD10P3MoZSx0LDM2MDAwMDAsImhvdXIiKTo2MDAwMDw9dD9zKGUsdCw2MDAwMCwibWludXRlIik6MTAwMDw9dD9zKGUsdCwxMDAwLCJzZWNvbmQiKTplKyIgbXMifWZ1bmN0aW9uIHMoZSx0LGEsbil7cmV0dXJuIHIoZS9hKSsiICIrbisodD49MS41KmE/InMiOiIiKX12YXIgbD0yNCooNjAqNjAwMDApO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3Q9dHx8e307dmFyIG49dHlwZW9mIGU7aWYoInN0cmluZyI9PW4mJjA8ZS5sZW5ndGgpcmV0dXJuIGEoZSk7aWYoIm51bWJlciI9PT1uJiZpc0Zpbml0ZShlKSlyZXR1cm4gdC5sb25nP2koZSk6byhlKTt0aHJvdyBuZXcgRXJyb3IoInZhbCBpcyBub3QgYSBub24tZW1wdHkgc3RyaW5nIG9yIGEgdmFsaWQgbnVtYmVyLiB2YWw9IitKU09OLnN0cmluZ2lmeShlKSl9fSx7fV0sMTI6W2Z1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gbigpe3Rocm93IG5ldyBFcnJvcigic2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCIpfWZ1bmN0aW9uIHIoKXt0aHJvdyBuZXcgRXJyb3IoImNsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCIpfWZ1bmN0aW9uIGEodCl7aWYoYz09PXNldFRpbWVvdXQpcmV0dXJuIHNldFRpbWVvdXQodCwwKTtpZigoYz09PW58fCFjKSYmc2V0VGltZW91dClyZXR1cm4gYz1zZXRUaW1lb3V0LHNldFRpbWVvdXQodCwwKTt0cnl7cmV0dXJuIGModCwwKX1jYXRjaChuKXt0cnl7cmV0dXJuIGMuY2FsbChudWxsLHQsMCl9Y2F0Y2gobil7cmV0dXJuIGMuY2FsbCh0aGlzLHQsMCl9fX1mdW5jdGlvbiBvKHQpe2lmKHU9PT1jbGVhclRpbWVvdXQpcmV0dXJuIGNsZWFyVGltZW91dCh0KTtpZigodT09PXJ8fCF1KSYmY2xlYXJUaW1lb3V0KXJldHVybiB1PWNsZWFyVGltZW91dCxjbGVhclRpbWVvdXQodCk7dHJ5e3JldHVybiB1KHQpfWNhdGNoKG4pe3RyeXtyZXR1cm4gdS5jYWxsKG51bGwsdCl9Y2F0Y2gobil7cmV0dXJuIHUuY2FsbCh0aGlzLHQpfX19ZnVuY3Rpb24gaSgpe18mJmYmJihfPSExLGYubGVuZ3RoP2c9Zi5jb25jYXQoZyk6aD0tMSxnLmxlbmd0aCYmZCgpKX1mdW5jdGlvbiBkKCl7aWYoIV8pe3ZhciBlPWEoaSk7Xz0hMDtmb3IodmFyIHQ9Zy5sZW5ndGg7dDspe2ZvcihmPWcsZz1bXTsrK2g8dDspZiYmZltoXS5ydW4oKTtoPS0xLHQ9Zy5sZW5ndGh9Zj1udWxsLF89ITEsbyhlKX19ZnVuY3Rpb24gcyhlLHQpe3RoaXMuZnVuPWUsdGhpcy5hcnJheT10fWZ1bmN0aW9uIGwoKXt9dmFyIGMsdSxwPXQuZXhwb3J0cz17fTsoZnVuY3Rpb24oKXt0cnl7Yz0iZnVuY3Rpb24iPT10eXBlb2Ygc2V0VGltZW91dD9zZXRUaW1lb3V0Om59Y2F0Y2godCl7Yz1ufXRyeXt1PSJmdW5jdGlvbiI9PXR5cGVvZiBjbGVhclRpbWVvdXQ/Y2xlYXJUaW1lb3V0OnJ9Y2F0Y2godCl7dT1yfX0pKCk7dmFyIGYsZz1bXSxfPSExLGg9LTE7cC5uZXh0VGljaz1mdW5jdGlvbihlKXt2YXIgdD1BcnJheShhcmd1bWVudHMubGVuZ3RoLTEpO2lmKDE8YXJndW1lbnRzLmxlbmd0aClmb3IodmFyIG49MTtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKXRbbi0xXT1hcmd1bWVudHNbbl07Zy5wdXNoKG5ldyBzKGUsdCkpLDEhPT1nLmxlbmd0aHx8X3x8YShkKX0scy5wcm90b3R5cGUucnVuPWZ1bmN0aW9uKCl7dGhpcy5mdW4uYXBwbHkobnVsbCx0aGlzLmFycmF5KX0scC50aXRsZT0iYnJvd3NlciIscC5icm93c2VyPSEwLHAuZW52PXt9LHAuYXJndj1bXSxwLnZlcnNpb249IiIscC52ZXJzaW9ucz17fSxwLm9uPWwscC5hZGRMaXN0ZW5lcj1sLHAub25jZT1sLHAub2ZmPWwscC5yZW1vdmVMaXN0ZW5lcj1sLHAucmVtb3ZlQWxsTGlzdGVuZXJzPWwscC5lbWl0PWwscC5wcmVwZW5kTGlzdGVuZXI9bCxwLnByZXBlbmRPbmNlTGlzdGVuZXI9bCxwLmxpc3RlbmVycz1mdW5jdGlvbigpe3JldHVybltdfSxwLmJpbmRpbmc9ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoInByb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkIil9LHAuY3dkPWZ1bmN0aW9uKCl7cmV0dXJuIi8ifSxwLmNoZGlyPWZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKCJwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQiKX0scC51bWFzaz1mdW5jdGlvbigpe3JldHVybiAwfX0se31dLDEzOltmdW5jdGlvbihlLHQpeyhmdW5jdGlvbihlKXsoZnVuY3Rpb24oKXsvKiEgcXVldWUtbWljcm90YXNrLiBNSVQgTGljZW5zZS4gRmVyb3NzIEFib3VraGFkaWplaCA8aHR0cHM6Ly9mZXJvc3Mub3JnL29wZW5zb3VyY2U+ICovbGV0IG47dC5leHBvcnRzPSJmdW5jdGlvbiI9PXR5cGVvZiBxdWV1ZU1pY3JvdGFzaz9xdWV1ZU1pY3JvdGFzay5iaW5kKCJ1bmRlZmluZWQiPT10eXBlb2Ygd2luZG93P2U6d2luZG93KTplPT4obnx8KG49UHJvbWlzZS5yZXNvbHZlKCkpKS50aGVuKGUpLmNhdGNoKGU9PnNldFRpbWVvdXQoKCk9Pnt0aHJvdyBlfSwwKSl9KS5jYWxsKHRoaXMpfSkuY2FsbCh0aGlzLCJ1bmRlZmluZWQiPT10eXBlb2YgZ2xvYmFsPyJ1bmRlZmluZWQiPT10eXBlb2Ygc2VsZj8idW5kZWZpbmVkIj09dHlwZW9mIHdpbmRvdz97fTp3aW5kb3c6c2VsZjpnbG9iYWwpfSx7fV0sMTQ6W2Z1bmN0aW9uKGUsdCl7KGZ1bmN0aW9uKG4scil7KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO3ZhciBhPWUoInNhZmUtYnVmZmVyIikuQnVmZmVyLG89ci5jcnlwdG98fHIubXNDcnlwdG87dC5leHBvcnRzPW8mJm8uZ2V0UmFuZG9tVmFsdWVzP2Z1bmN0aW9uKGUsdCl7aWYoZT40Mjk0OTY3Mjk1KXRocm93IG5ldyBSYW5nZUVycm9yKCJyZXF1ZXN0ZWQgdG9vIG1hbnkgcmFuZG9tIGJ5dGVzIik7dmFyIHI9YS5hbGxvY1Vuc2FmZShlKTtpZigwPGUpaWYoNjU1MzY8ZSlmb3IodmFyIGk9MDtpPGU7aSs9NjU1MzYpby5nZXRSYW5kb21WYWx1ZXMoci5zbGljZShpLGkrNjU1MzYpKTtlbHNlIG8uZ2V0UmFuZG9tVmFsdWVzKHIpO3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiB0P24ubmV4dFRpY2soZnVuY3Rpb24oKXt0KG51bGwscil9KTpyfTpmdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcigiU2VjdXJlIHJhbmRvbSBudW1iZXIgZ2VuZXJhdGlvbiBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoaXMgYnJvd3Nlci5cblVzZSBDaHJvbWUsIEZpcmVmb3ggb3IgSW50ZXJuZXQgRXhwbG9yZXIgMTEiKX19KS5jYWxsKHRoaXMpfSkuY2FsbCh0aGlzLGUoIl9wcm9jZXNzIiksInVuZGVmaW5lZCI9PXR5cGVvZiBnbG9iYWw/InVuZGVmaW5lZCI9PXR5cGVvZiBzZWxmPyJ1bmRlZmluZWQiPT10eXBlb2Ygd2luZG93P3t9OndpbmRvdzpzZWxmOmdsb2JhbCl9LHtfcHJvY2VzczoxMiwic2FmZS1idWZmZXIiOjMwfV0sMTU6W2Z1bmN0aW9uKGUsdCl7J3VzZSBzdHJpY3QnO2Z1bmN0aW9uIG4oZSx0KXtlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lLGUuX19wcm90b19fPXR9ZnVuY3Rpb24gcihlLHQscil7ZnVuY3Rpb24gYShlLG4scil7cmV0dXJuInN0cmluZyI9PXR5cGVvZiB0P3Q6dChlLG4scil9cnx8KHI9RXJyb3IpO3ZhciBvPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCxuLHIpe3JldHVybiBlLmNhbGwodGhpcyxhKHQsbixyKSl8fHRoaXN9cmV0dXJuIG4odCxlKSx0fShyKTtvLnByb3RvdHlwZS5uYW1lPXIubmFtZSxvLnByb3RvdHlwZS5jb2RlPWUsc1tlXT1vfWZ1bmN0aW9uIGEoZSx0KXtpZihBcnJheS5pc0FycmF5KGUpKXt2YXIgbj1lLmxlbmd0aDtyZXR1cm4gZT1lLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZSsiIn0pLDI8bj8ib25lIG9mICIuY29uY2F0KHQsIiAiKS5jb25jYXQoZS5zbGljZSgwLG4tMSkuam9pbigiLCAiKSwiLCBvciAiKStlW24tMV06Mj09PW4/Im9uZSBvZiAiLmNvbmNhdCh0LCIgIikuY29uY2F0KGVbMF0sIiBvciAiKS5jb25jYXQoZVsxXSk6Im9mICIuY29uY2F0KHQsIiAiKS5jb25jYXQoZVswXSl9cmV0dXJuIm9mICIuY29uY2F0KHQsIiAiKS5jb25jYXQoZSsiIil9ZnVuY3Rpb24gbyhlLHQsbil7cmV0dXJuIGUuc3Vic3RyKCFufHwwPm4/MDorbix0Lmxlbmd0aCk9PT10fWZ1bmN0aW9uIGkoZSx0LG4pe3JldHVybih2b2lkIDA9PT1ufHxuPmUubGVuZ3RoKSYmKG49ZS5sZW5ndGgpLGUuc3Vic3RyaW5nKG4tdC5sZW5ndGgsbik9PT10fWZ1bmN0aW9uIGQoZSx0LG4pe3JldHVybiJudW1iZXIiIT10eXBlb2YgbiYmKG49MCksIShuK3QubGVuZ3RoPmUubGVuZ3RoKSYmLTEhPT1lLmluZGV4T2YodCxuKX12YXIgcz17fTtyKCJFUlJfSU5WQUxJRF9PUFRfVkFMVUUiLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIlRoZSB2YWx1ZSBcIiIrdCsiXCIgaXMgaW52YWxpZCBmb3Igb3B0aW9uIFwiIitlKyJcIiJ9LFR5cGVFcnJvcikscigiRVJSX0lOVkFMSURfQVJHX1RZUEUiLGZ1bmN0aW9uKGUsdCxuKXt2YXIgcjsic3RyaW5nIj09dHlwZW9mIHQmJm8odCwibm90ICIpPyhyPSJtdXN0IG5vdCBiZSIsdD10LnJlcGxhY2UoL15ub3QgLywiIikpOnI9Im11c3QgYmUiO3ZhciBzO2lmKGkoZSwiIGFyZ3VtZW50Iikpcz0iVGhlICIuY29uY2F0KGUsIiAiKS5jb25jYXQociwiICIpLmNvbmNhdChhKHQsInR5cGUiKSk7ZWxzZXt2YXIgbD1kKGUsIi4iKT8icHJvcGVydHkiOiJhcmd1bWVudCI7cz0iVGhlIFwiIi5jb25jYXQoZSwiXCIgIikuY29uY2F0KGwsIiAiKS5jb25jYXQociwiICIpLmNvbmNhdChhKHQsInR5cGUiKSl9cmV0dXJuIHMrPSIuIFJlY2VpdmVkIHR5cGUgIi5jb25jYXQodHlwZW9mIG4pLHN9LFR5cGVFcnJvcikscigiRVJSX1NUUkVBTV9QVVNIX0FGVEVSX0VPRiIsInN0cmVhbS5wdXNoKCkgYWZ0ZXIgRU9GIikscigiRVJSX01FVEhPRF9OT1RfSU1QTEVNRU5URUQiLGZ1bmN0aW9uKGUpe3JldHVybiJUaGUgIitlKyIgbWV0aG9kIGlzIG5vdCBpbXBsZW1lbnRlZCJ9KSxyKCJFUlJfU1RSRUFNX1BSRU1BVFVSRV9DTE9TRSIsIlByZW1hdHVyZSBjbG9zZSIpLHIoIkVSUl9TVFJFQU1fREVTVFJPWUVEIixmdW5jdGlvbihlKXtyZXR1cm4iQ2Fubm90IGNhbGwgIitlKyIgYWZ0ZXIgYSBzdHJlYW0gd2FzIGRlc3Ryb3llZCJ9KSxyKCJFUlJfTVVMVElQTEVfQ0FMTEJBQ0siLCJDYWxsYmFjayBjYWxsZWQgbXVsdGlwbGUgdGltZXMiKSxyKCJFUlJfU1RSRUFNX0NBTk5PVF9QSVBFIiwiQ2Fubm90IHBpcGUsIG5vdCByZWFkYWJsZSIpLHIoIkVSUl9TVFJFQU1fV1JJVEVfQUZURVJfRU5EIiwid3JpdGUgYWZ0ZXIgZW5kIikscigiRVJSX1NUUkVBTV9OVUxMX1ZBTFVFUyIsIk1heSBub3Qgd3JpdGUgbnVsbCB2YWx1ZXMgdG8gc3RyZWFtIixUeXBlRXJyb3IpLHIoIkVSUl9VTktOT1dOX0VOQ09ESU5HIixmdW5jdGlvbihlKXtyZXR1cm4iVW5rbm93biBlbmNvZGluZzogIitlfSxUeXBlRXJyb3IpLHIoIkVSUl9TVFJFQU1fVU5TSElGVF9BRlRFUl9FTkRfRVZFTlQiLCJzdHJlYW0udW5zaGlmdCgpIGFmdGVyIGVuZCBldmVudCIpLHQuZXhwb3J0cy5jb2Rlcz1zfSx7fV0sMTY6W2Z1bmN0aW9uKGUsdCl7KGZ1bmN0aW9uKG4peyhmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztmdW5jdGlvbiByKGUpe3JldHVybiB0aGlzIGluc3RhbmNlb2Ygcj92b2lkKGQuY2FsbCh0aGlzLGUpLHMuY2FsbCh0aGlzLGUpLHRoaXMuYWxsb3dIYWxmT3Blbj0hMCxlJiYoITE9PT1lLnJlYWRhYmxlJiYodGhpcy5yZWFkYWJsZT0hMSksITE9PT1lLndyaXRhYmxlJiYodGhpcy53cml0YWJsZT0hMSksITE9PT1lLmFsbG93SGFsZk9wZW4mJih0aGlzLmFsbG93SGFsZk9wZW49ITEsdGhpcy5vbmNlKCJlbmQiLGEpKSkpOm5ldyByKGUpfWZ1bmN0aW9uIGEoKXt0aGlzLl93cml0YWJsZVN0YXRlLmVuZGVkfHxuLm5leHRUaWNrKG8sdGhpcyl9ZnVuY3Rpb24gbyhlKXtlLmVuZCgpfXZhciBpPU9iamVjdC5rZXlzfHxmdW5jdGlvbihlKXt2YXIgdD1bXTtmb3IodmFyIG4gaW4gZSl0LnB1c2gobik7cmV0dXJuIHR9O3QuZXhwb3J0cz1yO3ZhciBkPWUoIi4vX3N0cmVhbV9yZWFkYWJsZSIpLHM9ZSgiLi9fc3RyZWFtX3dyaXRhYmxlIik7ZSgiaW5oZXJpdHMiKShyLGQpO2Zvcih2YXIgbCxjPWkocy5wcm90b3R5cGUpLHU9MDt1PGMubGVuZ3RoO3UrKylsPWNbdV0sci5wcm90b3R5cGVbbF18fChyLnByb3RvdHlwZVtsXT1zLnByb3RvdHlwZVtsXSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIucHJvdG90eXBlLCJ3cml0YWJsZUhpZ2hXYXRlck1hcmsiLHtlbnVtZXJhYmxlOiExLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl93cml0YWJsZVN0YXRlLmhpZ2hXYXRlck1hcmt9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHIucHJvdG90eXBlLCJ3cml0YWJsZUJ1ZmZlciIse2VudW1lcmFibGU6ITEsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3dyaXRhYmxlU3RhdGUmJnRoaXMuX3dyaXRhYmxlU3RhdGUuZ2V0QnVmZmVyKCl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHIucHJvdG90eXBlLCJ3cml0YWJsZUxlbmd0aCIse2VudW1lcmFibGU6ITEsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3dyaXRhYmxlU3RhdGUubGVuZ3RofX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLnByb3RvdHlwZSwiZGVzdHJveWVkIix7ZW51bWVyYWJsZTohMSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdm9pZCAwIT09dGhpcy5fcmVhZGFibGVTdGF0ZSYmdm9pZCAwIT09dGhpcy5fd3JpdGFibGVTdGF0ZSYmdGhpcy5fcmVhZGFibGVTdGF0ZS5kZXN0cm95ZWQmJnRoaXMuX3dyaXRhYmxlU3RhdGUuZGVzdHJveWVkfSxzZXQ6ZnVuY3Rpb24oZSl7dm9pZCAwPT09dGhpcy5fcmVhZGFibGVTdGF0ZXx8dm9pZCAwPT09dGhpcy5fd3JpdGFibGVTdGF0ZXx8KHRoaXMuX3JlYWRhYmxlU3RhdGUuZGVzdHJveWVkPWUsdGhpcy5fd3JpdGFibGVTdGF0ZS5kZXN0cm95ZWQ9ZSl9fSl9KS5jYWxsKHRoaXMpfSkuY2FsbCh0aGlzLGUoIl9wcm9jZXNzIikpfSx7Ii4vX3N0cmVhbV9yZWFkYWJsZSI6MTgsIi4vX3N0cmVhbV93cml0YWJsZSI6MjAsX3Byb2Nlc3M6MTIsaW5oZXJpdHM6MTB9XSwxNzpbZnVuY3Rpb24oZSx0KXsndXNlIHN0cmljdCc7ZnVuY3Rpb24gbihlKXtyZXR1cm4gdGhpcyBpbnN0YW5jZW9mIG4/dm9pZCByLmNhbGwodGhpcyxlKTpuZXcgbihlKX10LmV4cG9ydHM9bjt2YXIgcj1lKCIuL19zdHJlYW1fdHJhbnNmb3JtIik7ZSgiaW5oZXJpdHMiKShuLHIpLG4ucHJvdG90eXBlLl90cmFuc2Zvcm09ZnVuY3Rpb24oZSx0LG4pe24obnVsbCxlKX19LHsiLi9fc3RyZWFtX3RyYW5zZm9ybSI6MTksaW5oZXJpdHM6MTB9XSwxODpbZnVuY3Rpb24oZSx0KXsoZnVuY3Rpb24obixyKXsoZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7ZnVuY3Rpb24gYShlKXtyZXR1cm4gUC5mcm9tKGUpfWZ1bmN0aW9uIG8oZSl7cmV0dXJuIFAuaXNCdWZmZXIoZSl8fGUgaW5zdGFuY2VvZiBNfWZ1bmN0aW9uIGkoZSx0LG4pe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBlLnByZXBlbmRMaXN0ZW5lcj9lLnByZXBlbmRMaXN0ZW5lcih0LG4pOnZvaWQoZS5fZXZlbnRzJiZlLl9ldmVudHNbdF0/QXJyYXkuaXNBcnJheShlLl9ldmVudHNbdF0pP2UuX2V2ZW50c1t0XS51bnNoaWZ0KG4pOmUuX2V2ZW50c1t0XT1bbixlLl9ldmVudHNbdF1dOmUub24odCxuKSl9ZnVuY3Rpb24gZCh0LG4scil7QT1BfHxlKCIuL19zdHJlYW1fZHVwbGV4IiksdD10fHx7fSwiYm9vbGVhbiIhPXR5cGVvZiByJiYocj1uIGluc3RhbmNlb2YgQSksdGhpcy5vYmplY3RNb2RlPSEhdC5vYmplY3RNb2RlLHImJih0aGlzLm9iamVjdE1vZGU9dGhpcy5vYmplY3RNb2RlfHwhIXQucmVhZGFibGVPYmplY3RNb2RlKSx0aGlzLmhpZ2hXYXRlck1hcms9SCh0aGlzLHQsInJlYWRhYmxlSGlnaFdhdGVyTWFyayIsciksdGhpcy5idWZmZXI9bmV3IGosdGhpcy5sZW5ndGg9MCx0aGlzLnBpcGVzPW51bGwsdGhpcy5waXBlc0NvdW50PTAsdGhpcy5mbG93aW5nPW51bGwsdGhpcy5lbmRlZD0hMSx0aGlzLmVuZEVtaXR0ZWQ9ITEsdGhpcy5yZWFkaW5nPSExLHRoaXMuc3luYz0hMCx0aGlzLm5lZWRSZWFkYWJsZT0hMSx0aGlzLmVtaXR0ZWRSZWFkYWJsZT0hMSx0aGlzLnJlYWRhYmxlTGlzdGVuaW5nPSExLHRoaXMucmVzdW1lU2NoZWR1bGVkPSExLHRoaXMucGF1c2VkPSEwLHRoaXMuZW1pdENsb3NlPSExIT09dC5lbWl0Q2xvc2UsdGhpcy5hdXRvRGVzdHJveT0hIXQuYXV0b0Rlc3Ryb3ksdGhpcy5kZXN0cm95ZWQ9ITEsdGhpcy5kZWZhdWx0RW5jb2Rpbmc9dC5kZWZhdWx0RW5jb2Rpbmd8fCJ1dGY4Iix0aGlzLmF3YWl0RHJhaW49MCx0aGlzLnJlYWRpbmdNb3JlPSExLHRoaXMuZGVjb2Rlcj1udWxsLHRoaXMuZW5jb2Rpbmc9bnVsbCx0LmVuY29kaW5nJiYoIUYmJihGPWUoInN0cmluZ19kZWNvZGVyLyIpLlN0cmluZ0RlY29kZXIpLHRoaXMuZGVjb2Rlcj1uZXcgRih0LmVuY29kaW5nKSx0aGlzLmVuY29kaW5nPXQuZW5jb2RpbmcpfWZ1bmN0aW9uIHModCl7aWYoQT1BfHxlKCIuL19zdHJlYW1fZHVwbGV4IiksISh0aGlzIGluc3RhbmNlb2YgcykpcmV0dXJuIG5ldyBzKHQpO3ZhciBuPXRoaXMgaW5zdGFuY2VvZiBBO3RoaXMuX3JlYWRhYmxlU3RhdGU9bmV3IGQodCx0aGlzLG4pLHRoaXMucmVhZGFibGU9ITAsdCYmKCJmdW5jdGlvbiI9PXR5cGVvZiB0LnJlYWQmJih0aGlzLl9yZWFkPXQucmVhZCksImZ1bmN0aW9uIj09dHlwZW9mIHQuZGVzdHJveSYmKHRoaXMuX2Rlc3Ryb3k9dC5kZXN0cm95KSksSS5jYWxsKHRoaXMpfWZ1bmN0aW9uIGwoZSx0LG4scixvKXt4KCJyZWFkYWJsZUFkZENodW5rIix0KTt2YXIgaT1lLl9yZWFkYWJsZVN0YXRlO2lmKG51bGw9PT10KWkucmVhZGluZz0hMSxnKGUsaSk7ZWxzZXt2YXIgZDtpZihvfHwoZD11KGksdCkpLGQpWChlLGQpO2Vsc2UgaWYoIShpLm9iamVjdE1vZGV8fHQmJjA8dC5sZW5ndGgpKXJ8fChpLnJlYWRpbmc9ITEsbShlLGkpKTtlbHNlIGlmKCJzdHJpbmciPT10eXBlb2YgdHx8aS5vYmplY3RNb2RlfHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCk9PT1QLnByb3RvdHlwZXx8KHQ9YSh0KSkscilpLmVuZEVtaXR0ZWQ/WChlLG5ldyBLKTpjKGUsaSx0LCEwKTtlbHNlIGlmKGkuZW5kZWQpWChlLG5ldyB6KTtlbHNle2lmKGkuZGVzdHJveWVkKXJldHVybiExO2kucmVhZGluZz0hMSxpLmRlY29kZXImJiFuPyh0PWkuZGVjb2Rlci53cml0ZSh0KSxpLm9iamVjdE1vZGV8fDAhPT10Lmxlbmd0aD9jKGUsaSx0LCExKTptKGUsaSkpOmMoZSxpLHQsITEpfX1yZXR1cm4haS5lbmRlZCYmKGkubGVuZ3RoPGkuaGlnaFdhdGVyTWFya3x8MD09PWkubGVuZ3RoKX1mdW5jdGlvbiBjKGUsdCxuLHIpe3QuZmxvd2luZyYmMD09PXQubGVuZ3RoJiYhdC5zeW5jPyh0LmF3YWl0RHJhaW49MCxlLmVtaXQoImRhdGEiLG4pKToodC5sZW5ndGgrPXQub2JqZWN0TW9kZT8xOm4ubGVuZ3RoLHI/dC5idWZmZXIudW5zaGlmdChuKTp0LmJ1ZmZlci5wdXNoKG4pLHQubmVlZFJlYWRhYmxlJiZfKGUpKSxtKGUsdCl9ZnVuY3Rpb24gdShlLHQpe3ZhciBuO3JldHVybiBvKHQpfHwic3RyaW5nIj09dHlwZW9mIHR8fHZvaWQgMD09PXR8fGUub2JqZWN0TW9kZXx8KG49bmV3IFYoImNodW5rIixbInN0cmluZyIsIkJ1ZmZlciIsIlVpbnQ4QXJyYXkiXSx0KSksbn1mdW5jdGlvbiBwKGUpe3JldHVybiAxMDczNzQxODI0PD1lP2U9MTA3Mzc0MTgyNDooZS0tLGV8PWU+Pj4xLGV8PWU+Pj4yLGV8PWU+Pj40LGV8PWU+Pj44LGV8PWU+Pj4xNixlKyspLGV9ZnVuY3Rpb24gZihlLHQpe3JldHVybiAwPj1lfHwwPT09dC5sZW5ndGgmJnQuZW5kZWQ/MDp0Lm9iamVjdE1vZGU/MTplPT09ZT8oZT50LmhpZ2hXYXRlck1hcmsmJih0LmhpZ2hXYXRlck1hcms9cChlKSksZTw9dC5sZW5ndGg/ZTp0LmVuZGVkP3QubGVuZ3RoOih0Lm5lZWRSZWFkYWJsZT0hMCwwKSk6dC5mbG93aW5nJiZ0Lmxlbmd0aD90LmJ1ZmZlci5oZWFkLmRhdGEubGVuZ3RoOnQubGVuZ3RofWZ1bmN0aW9uIGcoZSx0KXtpZih4KCJvbkVvZkNodW5rIiksIXQuZW5kZWQpe2lmKHQuZGVjb2Rlcil7dmFyIG49dC5kZWNvZGVyLmVuZCgpO24mJm4ubGVuZ3RoJiYodC5idWZmZXIucHVzaChuKSx0Lmxlbmd0aCs9dC5vYmplY3RNb2RlPzE6bi5sZW5ndGgpfXQuZW5kZWQ9ITAsdC5zeW5jP18oZSk6KHQubmVlZFJlYWRhYmxlPSExLCF0LmVtaXR0ZWRSZWFkYWJsZSYmKHQuZW1pdHRlZFJlYWRhYmxlPSEwLGgoZSkpKX19ZnVuY3Rpb24gXyhlKXt2YXIgdD1lLl9yZWFkYWJsZVN0YXRlO3goImVtaXRSZWFkYWJsZSIsdC5uZWVkUmVhZGFibGUsdC5lbWl0dGVkUmVhZGFibGUpLHQubmVlZFJlYWRhYmxlPSExLHQuZW1pdHRlZFJlYWRhYmxlfHwoeCgiZW1pdFJlYWRhYmxlIix0LmZsb3dpbmcpLHQuZW1pdHRlZFJlYWRhYmxlPSEwLG4ubmV4dFRpY2soaCxlKSl9ZnVuY3Rpb24gaChlKXt2YXIgdD1lLl9yZWFkYWJsZVN0YXRlO3goImVtaXRSZWFkYWJsZV8iLHQuZGVzdHJveWVkLHQubGVuZ3RoLHQuZW5kZWQpLCF0LmRlc3Ryb3llZCYmKHQubGVuZ3RofHx0LmVuZGVkKSYmKGUuZW1pdCgicmVhZGFibGUiKSx0LmVtaXR0ZWRSZWFkYWJsZT0hMSksdC5uZWVkUmVhZGFibGU9IXQuZmxvd2luZyYmIXQuZW5kZWQmJnQubGVuZ3RoPD10LmhpZ2hXYXRlck1hcmssUyhlKX1mdW5jdGlvbiBtKGUsdCl7dC5yZWFkaW5nTW9yZXx8KHQucmVhZGluZ01vcmU9ITAsbi5uZXh0VGljayhiLGUsdCkpfWZ1bmN0aW9uIGIoZSx0KXtmb3IoOyF0LnJlYWRpbmcmJiF0LmVuZGVkJiYodC5sZW5ndGg8dC5oaWdoV2F0ZXJNYXJrfHx0LmZsb3dpbmcmJjA9PT10Lmxlbmd0aCk7KXt2YXIgbj10Lmxlbmd0aDtpZih4KCJtYXliZVJlYWRNb3JlIHJlYWQgMCIpLGUucmVhZCgwKSxuPT09dC5sZW5ndGgpYnJlYWt9dC5yZWFkaW5nTW9yZT0hMX1mdW5jdGlvbiB5KGUpe3JldHVybiBmdW5jdGlvbigpe3ZhciB0PWUuX3JlYWRhYmxlU3RhdGU7eCgicGlwZU9uRHJhaW4iLHQuYXdhaXREcmFpbiksdC5hd2FpdERyYWluJiZ0LmF3YWl0RHJhaW4tLSwwPT09dC5hd2FpdERyYWluJiZEKGUsImRhdGEiKSYmKHQuZmxvd2luZz0hMCxTKGUpKX19ZnVuY3Rpb24gQyhlKXt2YXIgdD1lLl9yZWFkYWJsZVN0YXRlO3QucmVhZGFibGVMaXN0ZW5pbmc9MDxlLmxpc3RlbmVyQ291bnQoInJlYWRhYmxlIiksdC5yZXN1bWVTY2hlZHVsZWQmJiF0LnBhdXNlZD90LmZsb3dpbmc9ITA6MDxlLmxpc3RlbmVyQ291bnQoImRhdGEiKSYmZS5yZXN1bWUoKX1mdW5jdGlvbiBSKGUpe3goInJlYWRhYmxlIG5leHR0aWNrIHJlYWQgMCIpLGUucmVhZCgwKX1mdW5jdGlvbiBFKGUsdCl7dC5yZXN1bWVTY2hlZHVsZWR8fCh0LnJlc3VtZVNjaGVkdWxlZD0hMCxuLm5leHRUaWNrKHcsZSx0KSl9ZnVuY3Rpb24gdyhlLHQpe3goInJlc3VtZSIsdC5yZWFkaW5nKSx0LnJlYWRpbmd8fGUucmVhZCgwKSx0LnJlc3VtZVNjaGVkdWxlZD0hMSxlLmVtaXQoInJlc3VtZSIpLFMoZSksdC5mbG93aW5nJiYhdC5yZWFkaW5nJiZlLnJlYWQoMCl9ZnVuY3Rpb24gUyhlKXt2YXIgdD1lLl9yZWFkYWJsZVN0YXRlO2Zvcih4KCJmbG93Iix0LmZsb3dpbmcpO3QuZmxvd2luZyYmbnVsbCE9PWUucmVhZCgpOyk7fWZ1bmN0aW9uIFQoZSx0KXtpZigwPT09dC5sZW5ndGgpcmV0dXJuIG51bGw7dmFyIG47cmV0dXJuIHQub2JqZWN0TW9kZT9uPXQuYnVmZmVyLnNoaWZ0KCk6IWV8fGU+PXQubGVuZ3RoPyhuPXQuZGVjb2Rlcj90LmJ1ZmZlci5qb2luKCIiKToxPT09dC5idWZmZXIubGVuZ3RoP3QuYnVmZmVyLmZpcnN0KCk6dC5idWZmZXIuY29uY2F0KHQubGVuZ3RoKSx0LmJ1ZmZlci5jbGVhcigpKTpuPXQuYnVmZmVyLmNvbnN1bWUoZSx0LmRlY29kZXIpLG59ZnVuY3Rpb24gdihlKXt2YXIgdD1lLl9yZWFkYWJsZVN0YXRlO3goImVuZFJlYWRhYmxlIix0LmVuZEVtaXR0ZWQpLHQuZW5kRW1pdHRlZHx8KHQuZW5kZWQ9ITAsbi5uZXh0VGljayhrLHQsZSkpfWZ1bmN0aW9uIGsoZSx0KXtpZih4KCJlbmRSZWFkYWJsZU5UIixlLmVuZEVtaXR0ZWQsZS5sZW5ndGgpLCFlLmVuZEVtaXR0ZWQmJjA9PT1lLmxlbmd0aCYmKGUuZW5kRW1pdHRlZD0hMCx0LnJlYWRhYmxlPSExLHQuZW1pdCgiZW5kIiksZS5hdXRvRGVzdHJveSkpe3ZhciBuPXQuX3dyaXRhYmxlU3RhdGU7KCFufHxuLmF1dG9EZXN0cm95JiZuLmZpbmlzaGVkKSYmdC5kZXN0cm95KCl9fWZ1bmN0aW9uIEwoZSx0KXtmb3IodmFyIG49MCxyPWUubGVuZ3RoO248cjtuKyspaWYoZVtuXT09PXQpcmV0dXJuIG47cmV0dXJuLTF9dC5leHBvcnRzPXM7dmFyIEE7cy5SZWFkYWJsZVN0YXRlPWQ7dmFyIHgsTj1lKCJldmVudHMiKS5FdmVudEVtaXR0ZXIsRD1mdW5jdGlvbihlLHQpe3JldHVybiBlLmxpc3RlbmVycyh0KS5sZW5ndGh9LEk9ZSgiLi9pbnRlcm5hbC9zdHJlYW1zL3N0cmVhbSIpLFA9ZSgiYnVmZmVyIikuQnVmZmVyLE09ci5VaW50OEFycmF5fHxmdW5jdGlvbigpe30sTz1lKCJ1dGlsIik7eD1PJiZPLmRlYnVnbG9nP08uZGVidWdsb2coInN0cmVhbSIpOmZ1bmN0aW9uKCl7fTt2YXIgRixCLFUsaj1lKCIuL2ludGVybmFsL3N0cmVhbXMvYnVmZmVyX2xpc3QiKSxxPWUoIi4vaW50ZXJuYWwvc3RyZWFtcy9kZXN0cm95IiksVz1lKCIuL2ludGVybmFsL3N0cmVhbXMvc3RhdGUiKSxIPVcuZ2V0SGlnaFdhdGVyTWFyayxZPWUoIi4uL2Vycm9ycyIpLmNvZGVzLFY9WS5FUlJfSU5WQUxJRF9BUkdfVFlQRSx6PVkuRVJSX1NUUkVBTV9QVVNIX0FGVEVSX0VPRixHPVkuRVJSX01FVEhPRF9OT1RfSU1QTEVNRU5URUQsSz1ZLkVSUl9TVFJFQU1fVU5TSElGVF9BRlRFUl9FTkRfRVZFTlQ7ZSgiaW5oZXJpdHMiKShzLEkpO3ZhciBYPXEuZXJyb3JPckRlc3Ryb3ksJD1bImVycm9yIiwiY2xvc2UiLCJkZXN0cm95IiwicGF1c2UiLCJyZXN1bWUiXTtPYmplY3QuZGVmaW5lUHJvcGVydHkocy5wcm90b3R5cGUsImRlc3Ryb3llZCIse2VudW1lcmFibGU6ITEsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHZvaWQgMCE9PXRoaXMuX3JlYWRhYmxlU3RhdGUmJnRoaXMuX3JlYWRhYmxlU3RhdGUuZGVzdHJveWVkfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fcmVhZGFibGVTdGF0ZSYmKHRoaXMuX3JlYWRhYmxlU3RhdGUuZGVzdHJveWVkPWUpfX0pLHMucHJvdG90eXBlLmRlc3Ryb3k9cS5kZXN0cm95LHMucHJvdG90eXBlLl91bmRlc3Ryb3k9cS51bmRlc3Ryb3kscy5wcm90b3R5cGUuX2Rlc3Ryb3k9ZnVuY3Rpb24oZSx0KXt0KGUpfSxzLnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKGUsdCl7dmFyIG4scj10aGlzLl9yZWFkYWJsZVN0YXRlO3JldHVybiByLm9iamVjdE1vZGU/bj0hMDoic3RyaW5nIj09dHlwZW9mIGUmJih0PXR8fHIuZGVmYXVsdEVuY29kaW5nLHQhPT1yLmVuY29kaW5nJiYoZT1QLmZyb20oZSx0KSx0PSIiKSxuPSEwKSxsKHRoaXMsZSx0LCExLG4pfSxzLnByb3RvdHlwZS51bnNoaWZ0PWZ1bmN0aW9uKGUpe3JldHVybiBsKHRoaXMsZSxudWxsLCEwLCExKX0scy5wcm90b3R5cGUuaXNQYXVzZWQ9ZnVuY3Rpb24oKXtyZXR1cm4hMT09PXRoaXMuX3JlYWRhYmxlU3RhdGUuZmxvd2luZ30scy5wcm90b3R5cGUuc2V0RW5jb2Rpbmc9ZnVuY3Rpb24odCl7Rnx8KEY9ZSgic3RyaW5nX2RlY29kZXIvIikuU3RyaW5nRGVjb2Rlcik7dmFyIG49bmV3IEYodCk7dGhpcy5fcmVhZGFibGVTdGF0ZS5kZWNvZGVyPW4sdGhpcy5fcmVhZGFibGVTdGF0ZS5lbmNvZGluZz10aGlzLl9yZWFkYWJsZVN0YXRlLmRlY29kZXIuZW5jb2Rpbmc7Zm9yKHZhciByPXRoaXMuX3JlYWRhYmxlU3RhdGUuYnVmZmVyLmhlYWQsYT0iIjtudWxsIT09cjspYSs9bi53cml0ZShyLmRhdGEpLHI9ci5uZXh0O3JldHVybiB0aGlzLl9yZWFkYWJsZVN0YXRlLmJ1ZmZlci5jbGVhcigpLCIiIT09YSYmdGhpcy5fcmVhZGFibGVTdGF0ZS5idWZmZXIucHVzaChhKSx0aGlzLl9yZWFkYWJsZVN0YXRlLmxlbmd0aD1hLmxlbmd0aCx0aGlzfTtzLnByb3RvdHlwZS5yZWFkPWZ1bmN0aW9uKGUpe3goInJlYWQiLGUpLGU9cGFyc2VJbnQoZSwxMCk7dmFyIHQ9dGhpcy5fcmVhZGFibGVTdGF0ZSxyPWU7aWYoMCE9PWUmJih0LmVtaXR0ZWRSZWFkYWJsZT0hMSksMD09PWUmJnQubmVlZFJlYWRhYmxlJiYoKDA9PT10LmhpZ2hXYXRlck1hcms/MDx0Lmxlbmd0aDp0Lmxlbmd0aD49dC5oaWdoV2F0ZXJNYXJrKXx8dC5lbmRlZCkpcmV0dXJuIHgoInJlYWQ6IGVtaXRSZWFkYWJsZSIsdC5sZW5ndGgsdC5lbmRlZCksMD09PXQubGVuZ3RoJiZ0LmVuZGVkP3YodGhpcyk6Xyh0aGlzKSxudWxsO2lmKGU9ZihlLHQpLDA9PT1lJiZ0LmVuZGVkKXJldHVybiAwPT09dC5sZW5ndGgmJnYodGhpcyksbnVsbDt2YXIgYT10Lm5lZWRSZWFkYWJsZTt4KCJuZWVkIHJlYWRhYmxlIixhKSwoMD09PXQubGVuZ3RofHx0Lmxlbmd0aC1lPHQuaGlnaFdhdGVyTWFyaykmJihhPSEwLHgoImxlbmd0aCBsZXNzIHRoYW4gd2F0ZXJtYXJrIixhKSksdC5lbmRlZHx8dC5yZWFkaW5nPyhhPSExLHgoInJlYWRpbmcgb3IgZW5kZWQiLGEpKTphJiYoeCgiZG8gcmVhZCIpLHQucmVhZGluZz0hMCx0LnN5bmM9ITAsMD09PXQubGVuZ3RoJiYodC5uZWVkUmVhZGFibGU9ITApLHRoaXMuX3JlYWQodC5oaWdoV2F0ZXJNYXJrKSx0LnN5bmM9ITEsIXQucmVhZGluZyYmKGU9ZihyLHQpKSk7dmFyIG87cmV0dXJuIG89MDxlP1QoZSx0KTpudWxsLG51bGw9PT1vPyh0Lm5lZWRSZWFkYWJsZT10Lmxlbmd0aDw9dC5oaWdoV2F0ZXJNYXJrLGU9MCk6KHQubGVuZ3RoLT1lLHQuYXdhaXREcmFpbj0wKSwwPT09dC5sZW5ndGgmJighdC5lbmRlZCYmKHQubmVlZFJlYWRhYmxlPSEwKSxyIT09ZSYmdC5lbmRlZCYmdih0aGlzKSksbnVsbCE9PW8mJnRoaXMuZW1pdCgiZGF0YSIsbyksb30scy5wcm90b3R5cGUuX3JlYWQ9ZnVuY3Rpb24oKXtYKHRoaXMsbmV3IEcoIl9yZWFkKCkiKSl9LHMucHJvdG90eXBlLnBpcGU9ZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiByKGUsdCl7eCgib251bnBpcGUiKSxlPT09cCYmdCYmITE9PT10Lmhhc1VucGlwZWQmJih0Lmhhc1VucGlwZWQ9ITAsbygpKX1mdW5jdGlvbiBhKCl7eCgib25lbmQiKSxlLmVuZCgpfWZ1bmN0aW9uIG8oKXt4KCJjbGVhbnVwIiksZS5yZW1vdmVMaXN0ZW5lcigiY2xvc2UiLGwpLGUucmVtb3ZlTGlzdGVuZXIoImZpbmlzaCIsYyksZS5yZW1vdmVMaXN0ZW5lcigiZHJhaW4iLGgpLGUucmVtb3ZlTGlzdGVuZXIoImVycm9yIixzKSxlLnJlbW92ZUxpc3RlbmVyKCJ1bnBpcGUiLHIpLHAucmVtb3ZlTGlzdGVuZXIoImVuZCIsYSkscC5yZW1vdmVMaXN0ZW5lcigiZW5kIix1KSxwLnJlbW92ZUxpc3RlbmVyKCJkYXRhIixkKSxtPSEwLGYuYXdhaXREcmFpbiYmKCFlLl93cml0YWJsZVN0YXRlfHxlLl93cml0YWJsZVN0YXRlLm5lZWREcmFpbikmJmgoKX1mdW5jdGlvbiBkKHQpe3goIm9uZGF0YSIpO3ZhciBuPWUud3JpdGUodCk7eCgiZGVzdC53cml0ZSIsbiksITE9PT1uJiYoKDE9PT1mLnBpcGVzQ291bnQmJmYucGlwZXM9PT1lfHwxPGYucGlwZXNDb3VudCYmLTEhPT1MKGYucGlwZXMsZSkpJiYhbSYmKHgoImZhbHNlIHdyaXRlIHJlc3BvbnNlLCBwYXVzZSIsZi5hd2FpdERyYWluKSxmLmF3YWl0RHJhaW4rKykscC5wYXVzZSgpKX1mdW5jdGlvbiBzKHQpe3goIm9uZXJyb3IiLHQpLHUoKSxlLnJlbW92ZUxpc3RlbmVyKCJlcnJvciIscyksMD09PUQoZSwiZXJyb3IiKSYmWChlLHQpfWZ1bmN0aW9uIGwoKXtlLnJlbW92ZUxpc3RlbmVyKCJmaW5pc2giLGMpLHUoKX1mdW5jdGlvbiBjKCl7eCgib25maW5pc2giKSxlLnJlbW92ZUxpc3RlbmVyKCJjbG9zZSIsbCksdSgpfWZ1bmN0aW9uIHUoKXt4KCJ1bnBpcGUiKSxwLnVucGlwZShlKX12YXIgcD10aGlzLGY9dGhpcy5fcmVhZGFibGVTdGF0ZTtzd2l0Y2goZi5waXBlc0NvdW50KXtjYXNlIDA6Zi5waXBlcz1lO2JyZWFrO2Nhc2UgMTpmLnBpcGVzPVtmLnBpcGVzLGVdO2JyZWFrO2RlZmF1bHQ6Zi5waXBlcy5wdXNoKGUpO31mLnBpcGVzQ291bnQrPTEseCgicGlwZSBjb3VudD0lZCBvcHRzPSVqIixmLnBpcGVzQ291bnQsdCk7dmFyIGc9KCF0fHwhMSE9PXQuZW5kKSYmZSE9PW4uc3Rkb3V0JiZlIT09bi5zdGRlcnIsXz1nP2E6dTtmLmVuZEVtaXR0ZWQ/bi5uZXh0VGljayhfKTpwLm9uY2UoImVuZCIsXyksZS5vbigidW5waXBlIixyKTt2YXIgaD15KHApO2Uub24oImRyYWluIixoKTt2YXIgbT0hMTtyZXR1cm4gcC5vbigiZGF0YSIsZCksaShlLCJlcnJvciIscyksZS5vbmNlKCJjbG9zZSIsbCksZS5vbmNlKCJmaW5pc2giLGMpLGUuZW1pdCgicGlwZSIscCksZi5mbG93aW5nfHwoeCgicGlwZSByZXN1bWUiKSxwLnJlc3VtZSgpKSxlfSxzLnByb3RvdHlwZS51bnBpcGU9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fcmVhZGFibGVTdGF0ZSxuPXtoYXNVbnBpcGVkOiExfTtpZigwPT09dC5waXBlc0NvdW50KXJldHVybiB0aGlzO2lmKDE9PT10LnBpcGVzQ291bnQpcmV0dXJuIGUmJmUhPT10LnBpcGVzP3RoaXM6KGV8fChlPXQucGlwZXMpLHQucGlwZXM9bnVsbCx0LnBpcGVzQ291bnQ9MCx0LmZsb3dpbmc9ITEsZSYmZS5lbWl0KCJ1bnBpcGUiLHRoaXMsbiksdGhpcyk7aWYoIWUpe3ZhciByPXQucGlwZXMsYT10LnBpcGVzQ291bnQ7dC5waXBlcz1udWxsLHQucGlwZXNDb3VudD0wLHQuZmxvd2luZz0hMTtmb3IodmFyIG89MDtvPGE7bysrKXJbb10uZW1pdCgidW5waXBlIix0aGlzLHtoYXNVbnBpcGVkOiExfSk7cmV0dXJuIHRoaXN9dmFyIGQ9TCh0LnBpcGVzLGUpO3JldHVybi0xPT09ZD90aGlzOih0LnBpcGVzLnNwbGljZShkLDEpLHQucGlwZXNDb3VudC09MSwxPT09dC5waXBlc0NvdW50JiYodC5waXBlcz10LnBpcGVzWzBdKSxlLmVtaXQoInVucGlwZSIsdGhpcyxuKSx0aGlzKX0scy5wcm90b3R5cGUub249ZnVuY3Rpb24oZSx0KXt2YXIgcj1JLnByb3RvdHlwZS5vbi5jYWxsKHRoaXMsZSx0KSxhPXRoaXMuX3JlYWRhYmxlU3RhdGU7cmV0dXJuImRhdGEiPT09ZT8oYS5yZWFkYWJsZUxpc3RlbmluZz0wPHRoaXMubGlzdGVuZXJDb3VudCgicmVhZGFibGUiKSwhMSE9PWEuZmxvd2luZyYmdGhpcy5yZXN1bWUoKSk6InJlYWRhYmxlIj09ZSYmIWEuZW5kRW1pdHRlZCYmIWEucmVhZGFibGVMaXN0ZW5pbmcmJihhLnJlYWRhYmxlTGlzdGVuaW5nPWEubmVlZFJlYWRhYmxlPSEwLGEuZmxvd2luZz0hMSxhLmVtaXR0ZWRSZWFkYWJsZT0hMSx4KCJvbiByZWFkYWJsZSIsYS5sZW5ndGgsYS5yZWFkaW5nKSxhLmxlbmd0aD9fKHRoaXMpOiFhLnJlYWRpbmcmJm4ubmV4dFRpY2soUix0aGlzKSkscn0scy5wcm90b3R5cGUuYWRkTGlzdGVuZXI9cy5wcm90b3R5cGUub24scy5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXI9ZnVuY3Rpb24oZSx0KXt2YXIgcj1JLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lci5jYWxsKHRoaXMsZSx0KTtyZXR1cm4icmVhZGFibGUiPT09ZSYmbi5uZXh0VGljayhDLHRoaXMpLHJ9LHMucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycz1mdW5jdGlvbihlKXt2YXIgdD1JLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnMuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybigicmVhZGFibGUiPT09ZXx8dm9pZCAwPT09ZSkmJm4ubmV4dFRpY2soQyx0aGlzKSx0fSxzLnByb3RvdHlwZS5yZXN1bWU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9yZWFkYWJsZVN0YXRlO3JldHVybiBlLmZsb3dpbmd8fCh4KCJyZXN1bWUiKSxlLmZsb3dpbmc9IWUucmVhZGFibGVMaXN0ZW5pbmcsRSh0aGlzLGUpKSxlLnBhdXNlZD0hMSx0aGlzfSxzLnByb3RvdHlwZS5wYXVzZT1mdW5jdGlvbigpe3JldHVybiB4KCJjYWxsIHBhdXNlIGZsb3dpbmc9JWoiLHRoaXMuX3JlYWRhYmxlU3RhdGUuZmxvd2luZyksITEhPT10aGlzLl9yZWFkYWJsZVN0YXRlLmZsb3dpbmcmJih4KCJwYXVzZSIpLHRoaXMuX3JlYWRhYmxlU3RhdGUuZmxvd2luZz0hMSx0aGlzLmVtaXQoInBhdXNlIikpLHRoaXMuX3JlYWRhYmxlU3RhdGUucGF1c2VkPSEwLHRoaXN9LHMucHJvdG90eXBlLndyYXA9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXRoaXMuX3JlYWRhYmxlU3RhdGUsYT0hMTtmb3IodmFyIG8gaW4gZS5vbigiZW5kIixmdW5jdGlvbigpe2lmKHgoIndyYXBwZWQgZW5kIiksci5kZWNvZGVyJiYhci5lbmRlZCl7dmFyIGU9ci5kZWNvZGVyLmVuZCgpO2UmJmUubGVuZ3RoJiZ0LnB1c2goZSl9dC5wdXNoKG51bGwpfSksZS5vbigiZGF0YSIsZnVuY3Rpb24obil7aWYoKHgoIndyYXBwZWQgZGF0YSIpLHIuZGVjb2RlciYmKG49ci5kZWNvZGVyLndyaXRlKG4pKSwhKHIub2JqZWN0TW9kZSYmKG51bGw9PT1ufHx2b2lkIDA9PT1uKSkpJiYoci5vYmplY3RNb2RlfHxuJiZuLmxlbmd0aCkpe3ZhciBvPXQucHVzaChuKTtvfHwoYT0hMCxlLnBhdXNlKCkpfX0pLGUpdm9pZCAwPT09dGhpc1tvXSYmImZ1bmN0aW9uIj09dHlwZW9mIGVbb10mJih0aGlzW29dPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBlW3RdLmFwcGx5KGUsYXJndW1lbnRzKX19KG8pKTtmb3IodmFyIGk9MDtpPCQubGVuZ3RoO2krKyllLm9uKCRbaV0sdGhpcy5lbWl0LmJpbmQodGhpcywkW2ldKSk7cmV0dXJuIHRoaXMuX3JlYWQ9ZnVuY3Rpb24odCl7eCgid3JhcHBlZCBfcmVhZCIsdCksYSYmKGE9ITEsZS5yZXN1bWUoKSl9LHRoaXN9LCJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJihzLnByb3RvdHlwZVtTeW1ib2wuYXN5bmNJdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdm9pZCAwPT09QiYmKEI9ZSgiLi9pbnRlcm5hbC9zdHJlYW1zL2FzeW5jX2l0ZXJhdG9yIikpLEIodGhpcyl9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkocy5wcm90b3R5cGUsInJlYWRhYmxlSGlnaFdhdGVyTWFyayIse2VudW1lcmFibGU6ITEsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlYWRhYmxlU3RhdGUuaGlnaFdhdGVyTWFya319KSxPYmplY3QuZGVmaW5lUHJvcGVydHkocy5wcm90b3R5cGUsInJlYWRhYmxlQnVmZmVyIix7ZW51bWVyYWJsZTohMSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVhZGFibGVTdGF0ZSYmdGhpcy5fcmVhZGFibGVTdGF0ZS5idWZmZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHMucHJvdG90eXBlLCJyZWFkYWJsZUZsb3dpbmciLHtlbnVtZXJhYmxlOiExLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZWFkYWJsZVN0YXRlLmZsb3dpbmd9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9yZWFkYWJsZVN0YXRlJiYodGhpcy5fcmVhZGFibGVTdGF0ZS5mbG93aW5nPWUpfX0pLHMuX2Zyb21MaXN0PVQsT2JqZWN0LmRlZmluZVByb3BlcnR5KHMucHJvdG90eXBlLCJyZWFkYWJsZUxlbmd0aCIse2VudW1lcmFibGU6ITEsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlYWRhYmxlU3RhdGUubGVuZ3RofX0pLCJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJihzLmZyb209ZnVuY3Rpb24odCxuKXtyZXR1cm4gdm9pZCAwPT09VSYmKFU9ZSgiLi9pbnRlcm5hbC9zdHJlYW1zL2Zyb20iKSksVShzLHQsbil9KX0pLmNhbGwodGhpcyl9KS5jYWxsKHRoaXMsZSgiX3Byb2Nlc3MiKSwidW5kZWZpbmVkIj09dHlwZW9mIGdsb2JhbD8idW5kZWZpbmVkIj09dHlwZW9mIHNlbGY/InVuZGVmaW5lZCI9PXR5cGVvZiB3aW5kb3c/e306d2luZG93OnNlbGY6Z2xvYmFsKX0seyIuLi9lcnJvcnMiOjE1LCIuL19zdHJlYW1fZHVwbGV4IjoxNiwiLi9pbnRlcm5hbC9zdHJlYW1zL2FzeW5jX2l0ZXJhdG9yIjoyMSwiLi9pbnRlcm5hbC9zdHJlYW1zL2J1ZmZlcl9saXN0IjoyMiwiLi9pbnRlcm5hbC9zdHJlYW1zL2Rlc3Ryb3kiOjIzLCIuL2ludGVybmFsL3N0cmVhbXMvZnJvbSI6MjUsIi4vaW50ZXJuYWwvc3RyZWFtcy9zdGF0ZSI6MjcsIi4vaW50ZXJuYWwvc3RyZWFtcy9zdHJlYW0iOjI4LF9wcm9jZXNzOjEyLGJ1ZmZlcjozLGV2ZW50czo3LGluaGVyaXRzOjEwLCJzdHJpbmdfZGVjb2Rlci8iOjMxLHV0aWw6Mn1dLDE5OltmdW5jdGlvbihlLHQpeyd1c2Ugc3RyaWN0JztmdW5jdGlvbiBuKGUsdCl7dmFyIG49dGhpcy5fdHJhbnNmb3JtU3RhdGU7bi50cmFuc2Zvcm1pbmc9ITE7dmFyIHI9bi53cml0ZWNiO2lmKG51bGw9PT1yKXJldHVybiB0aGlzLmVtaXQoImVycm9yIixuZXcgcyk7bi53cml0ZWNodW5rPW51bGwsbi53cml0ZWNiPW51bGwsbnVsbCE9dCYmdGhpcy5wdXNoKHQpLHIoZSk7dmFyIGE9dGhpcy5fcmVhZGFibGVTdGF0ZTthLnJlYWRpbmc9ITEsKGEubmVlZFJlYWRhYmxlfHxhLmxlbmd0aDxhLmhpZ2hXYXRlck1hcmspJiZ0aGlzLl9yZWFkKGEuaGlnaFdhdGVyTWFyayl9ZnVuY3Rpb24gcihlKXtyZXR1cm4gdGhpcyBpbnN0YW5jZW9mIHI/dm9pZCh1LmNhbGwodGhpcyxlKSx0aGlzLl90cmFuc2Zvcm1TdGF0ZT17YWZ0ZXJUcmFuc2Zvcm06bi5iaW5kKHRoaXMpLG5lZWRUcmFuc2Zvcm06ITEsdHJhbnNmb3JtaW5nOiExLHdyaXRlY2I6bnVsbCx3cml0ZWNodW5rOm51bGwsd3JpdGVlbmNvZGluZzpudWxsfSx0aGlzLl9yZWFkYWJsZVN0YXRlLm5lZWRSZWFkYWJsZT0hMCx0aGlzLl9yZWFkYWJsZVN0YXRlLnN5bmM9ITEsZSYmKCJmdW5jdGlvbiI9PXR5cGVvZiBlLnRyYW5zZm9ybSYmKHRoaXMuX3RyYW5zZm9ybT1lLnRyYW5zZm9ybSksImZ1bmN0aW9uIj09dHlwZW9mIGUuZmx1c2gmJih0aGlzLl9mbHVzaD1lLmZsdXNoKSksdGhpcy5vbigicHJlZmluaXNoIixhKSk6bmV3IHIoZSl9ZnVuY3Rpb24gYSgpe3ZhciBlPXRoaXM7ImZ1bmN0aW9uIiE9dHlwZW9mIHRoaXMuX2ZsdXNofHx0aGlzLl9yZWFkYWJsZVN0YXRlLmRlc3Ryb3llZD9vKHRoaXMsbnVsbCxudWxsKTp0aGlzLl9mbHVzaChmdW5jdGlvbih0LG4pe28oZSx0LG4pfSl9ZnVuY3Rpb24gbyhlLHQsbil7aWYodClyZXR1cm4gZS5lbWl0KCJlcnJvciIsdCk7aWYobnVsbCE9biYmZS5wdXNoKG4pLGUuX3dyaXRhYmxlU3RhdGUubGVuZ3RoKXRocm93IG5ldyBjO2lmKGUuX3RyYW5zZm9ybVN0YXRlLnRyYW5zZm9ybWluZyl0aHJvdyBuZXcgbDtyZXR1cm4gZS5wdXNoKG51bGwpfXQuZXhwb3J0cz1yO3ZhciBpPWUoIi4uL2Vycm9ycyIpLmNvZGVzLGQ9aS5FUlJfTUVUSE9EX05PVF9JTVBMRU1FTlRFRCxzPWkuRVJSX01VTFRJUExFX0NBTExCQUNLLGw9aS5FUlJfVFJBTlNGT1JNX0FMUkVBRFlfVFJBTlNGT1JNSU5HLGM9aS5FUlJfVFJBTlNGT1JNX1dJVEhfTEVOR1RIXzAsdT1lKCIuL19zdHJlYW1fZHVwbGV4Iik7ZSgiaW5oZXJpdHMiKShyLHUpLHIucHJvdG90eXBlLnB1c2g9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5fdHJhbnNmb3JtU3RhdGUubmVlZFRyYW5zZm9ybT0hMSx1LnByb3RvdHlwZS5wdXNoLmNhbGwodGhpcyxlLHQpfSxyLnByb3RvdHlwZS5fdHJhbnNmb3JtPWZ1bmN0aW9uKGUsdCxuKXtuKG5ldyBkKCJfdHJhbnNmb3JtKCkiKSl9LHIucHJvdG90eXBlLl93cml0ZT1mdW5jdGlvbihlLHQsbil7dmFyIHI9dGhpcy5fdHJhbnNmb3JtU3RhdGU7aWYoci53cml0ZWNiPW4sci53cml0ZWNodW5rPWUsci53cml0ZWVuY29kaW5nPXQsIXIudHJhbnNmb3JtaW5nKXt2YXIgYT10aGlzLl9yZWFkYWJsZVN0YXRlOyhyLm5lZWRUcmFuc2Zvcm18fGEubmVlZFJlYWRhYmxlfHxhLmxlbmd0aDxhLmhpZ2hXYXRlck1hcmspJiZ0aGlzLl9yZWFkKGEuaGlnaFdhdGVyTWFyayl9fSxyLnByb3RvdHlwZS5fcmVhZD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuX3RyYW5zZm9ybVN0YXRlO251bGw9PT1lLndyaXRlY2h1bmt8fGUudHJhbnNmb3JtaW5nP2UubmVlZFRyYW5zZm9ybT0hMDooZS50cmFuc2Zvcm1pbmc9ITAsdGhpcy5fdHJhbnNmb3JtKGUud3JpdGVjaHVuayxlLndyaXRlZW5jb2RpbmcsZS5hZnRlclRyYW5zZm9ybSkpfSxyLnByb3RvdHlwZS5fZGVzdHJveT1mdW5jdGlvbihlLHQpe3UucHJvdG90eXBlLl9kZXN0cm95LmNhbGwodGhpcyxlLGZ1bmN0aW9uKGUpe3QoZSl9KX19LHsiLi4vZXJyb3JzIjoxNSwiLi9fc3RyZWFtX2R1cGxleCI6MTYsaW5oZXJpdHM6MTB9XSwyMDpbZnVuY3Rpb24oZSx0KXsoZnVuY3Rpb24obixyKXsoZnVuY3Rpb24oKXsndXNlIHN0cmljdCc7ZnVuY3Rpb24gYShlKXt2YXIgdD10aGlzO3RoaXMubmV4dD1udWxsLHRoaXMuZW50cnk9bnVsbCx0aGlzLmZpbmlzaD1mdW5jdGlvbigpe3YodCxlKX19ZnVuY3Rpb24gbyhlKXtyZXR1cm4geC5mcm9tKGUpfWZ1bmN0aW9uIGkoZSl7cmV0dXJuIHguaXNCdWZmZXIoZSl8fGUgaW5zdGFuY2VvZiBOfWZ1bmN0aW9uIGQoKXt9ZnVuY3Rpb24gcyh0LG4scil7az1rfHxlKCIuL19zdHJlYW1fZHVwbGV4IiksdD10fHx7fSwiYm9vbGVhbiIhPXR5cGVvZiByJiYocj1uIGluc3RhbmNlb2YgayksdGhpcy5vYmplY3RNb2RlPSEhdC5vYmplY3RNb2RlLHImJih0aGlzLm9iamVjdE1vZGU9dGhpcy5vYmplY3RNb2RlfHwhIXQud3JpdGFibGVPYmplY3RNb2RlKSx0aGlzLmhpZ2hXYXRlck1hcms9UCh0aGlzLHQsIndyaXRhYmxlSGlnaFdhdGVyTWFyayIsciksdGhpcy5maW5hbENhbGxlZD0hMSx0aGlzLm5lZWREcmFpbj0hMSx0aGlzLmVuZGluZz0hMSx0aGlzLmVuZGVkPSExLHRoaXMuZmluaXNoZWQ9ITEsdGhpcy5kZXN0cm95ZWQ9ITE7dmFyIG89ITE9PT10LmRlY29kZVN0cmluZ3M7dGhpcy5kZWNvZGVTdHJpbmdzPSFvLHRoaXMuZGVmYXVsdEVuY29kaW5nPXQuZGVmYXVsdEVuY29kaW5nfHwidXRmOCIsdGhpcy5sZW5ndGg9MCx0aGlzLndyaXRpbmc9ITEsdGhpcy5jb3JrZWQ9MCx0aGlzLnN5bmM9ITAsdGhpcy5idWZmZXJQcm9jZXNzaW5nPSExLHRoaXMub253cml0ZT1mdW5jdGlvbihlKXttKG4sZSl9LHRoaXMud3JpdGVjYj1udWxsLHRoaXMud3JpdGVsZW49MCx0aGlzLmJ1ZmZlcmVkUmVxdWVzdD1udWxsLHRoaXMubGFzdEJ1ZmZlcmVkUmVxdWVzdD1udWxsLHRoaXMucGVuZGluZ2NiPTAsdGhpcy5wcmVmaW5pc2hlZD0hMSx0aGlzLmVycm9yRW1pdHRlZD0hMSx0aGlzLmVtaXRDbG9zZT0hMSE9PXQuZW1pdENsb3NlLHRoaXMuYXV0b0Rlc3Ryb3k9ISF0LmF1dG9EZXN0cm95LHRoaXMuYnVmZmVyZWRSZXF1ZXN0Q291bnQ9MCx0aGlzLmNvcmtlZFJlcXVlc3RzRnJlZT1uZXcgYSh0aGlzKX1mdW5jdGlvbiBsKHQpe2s9a3x8ZSgiLi9fc3RyZWFtX2R1cGxleCIpO3ZhciBuPXRoaXMgaW5zdGFuY2VvZiBrO3JldHVybiBufHxWLmNhbGwobCx0aGlzKT92b2lkKHRoaXMuX3dyaXRhYmxlU3RhdGU9bmV3IHModCx0aGlzLG4pLHRoaXMud3JpdGFibGU9ITAsdCYmKCJmdW5jdGlvbiI9PXR5cGVvZiB0LndyaXRlJiYodGhpcy5fd3JpdGU9dC53cml0ZSksImZ1bmN0aW9uIj09dHlwZW9mIHQud3JpdGV2JiYodGhpcy5fd3JpdGV2PXQud3JpdGV2KSwiZnVuY3Rpb24iPT10eXBlb2YgdC5kZXN0cm95JiYodGhpcy5fZGVzdHJveT10LmRlc3Ryb3kpLCJmdW5jdGlvbiI9PXR5cGVvZiB0LmZpbmFsJiYodGhpcy5fZmluYWw9dC5maW5hbCkpLEEuY2FsbCh0aGlzKSk6bmV3IGwodCl9ZnVuY3Rpb24gYyhlLHQpe3ZhciByPW5ldyBXO1koZSxyKSxuLm5leHRUaWNrKHQscil9ZnVuY3Rpb24gdShlLHQscixhKXt2YXIgbztyZXR1cm4gbnVsbD09PXI/bz1uZXcgcToic3RyaW5nIiE9dHlwZW9mIHImJiF0Lm9iamVjdE1vZGUmJihvPW5ldyBPKCJjaHVuayIsWyJzdHJpbmciLCJCdWZmZXIiXSxyKSksIW98fChZKGUsbyksbi5uZXh0VGljayhhLG8pLCExKX1mdW5jdGlvbiBwKGUsdCxuKXtyZXR1cm4gZS5vYmplY3RNb2RlfHwhMT09PWUuZGVjb2RlU3RyaW5nc3x8InN0cmluZyIhPXR5cGVvZiB0fHwodD14LmZyb20odCxuKSksdH1mdW5jdGlvbiBmKGUsdCxuLHIsYSxvKXtpZighbil7dmFyIGk9cCh0LHIsYSk7ciE9PWkmJihuPSEwLGE9ImJ1ZmZlciIscj1pKX12YXIgZD10Lm9iamVjdE1vZGU/MTpyLmxlbmd0aDt0Lmxlbmd0aCs9ZDt2YXIgcz10Lmxlbmd0aDx0LmhpZ2hXYXRlck1hcms7aWYoc3x8KHQubmVlZERyYWluPSEwKSx0LndyaXRpbmd8fHQuY29ya2VkKXt2YXIgbD10Lmxhc3RCdWZmZXJlZFJlcXVlc3Q7dC5sYXN0QnVmZmVyZWRSZXF1ZXN0PXtjaHVuazpyLGVuY29kaW5nOmEsaXNCdWY6bixjYWxsYmFjazpvLG5leHQ6bnVsbH0sbD9sLm5leHQ9dC5sYXN0QnVmZmVyZWRSZXF1ZXN0OnQuYnVmZmVyZWRSZXF1ZXN0PXQubGFzdEJ1ZmZlcmVkUmVxdWVzdCx0LmJ1ZmZlcmVkUmVxdWVzdENvdW50Kz0xfWVsc2UgZyhlLHQsITEsZCxyLGEsbyk7cmV0dXJuIHN9ZnVuY3Rpb24gZyhlLHQsbixyLGEsbyxpKXt0LndyaXRlbGVuPXIsdC53cml0ZWNiPWksdC53cml0aW5nPSEwLHQuc3luYz0hMCx0LmRlc3Ryb3llZD90Lm9ud3JpdGUobmV3IGooIndyaXRlIikpOm4/ZS5fd3JpdGV2KGEsdC5vbndyaXRlKTplLl93cml0ZShhLG8sdC5vbndyaXRlKSx0LnN5bmM9ITF9ZnVuY3Rpb24gXyhlLHQscixhLG8pey0tdC5wZW5kaW5nY2Iscj8obi5uZXh0VGljayhvLGEpLG4ubmV4dFRpY2soUyxlLHQpLGUuX3dyaXRhYmxlU3RhdGUuZXJyb3JFbWl0dGVkPSEwLFkoZSxhKSk6KG8oYSksZS5fd3JpdGFibGVTdGF0ZS5lcnJvckVtaXR0ZWQ9ITAsWShlLGEpLFMoZSx0KSl9ZnVuY3Rpb24gaChlKXtlLndyaXRpbmc9ITEsZS53cml0ZWNiPW51bGwsZS5sZW5ndGgtPWUud3JpdGVsZW4sZS53cml0ZWxlbj0wfWZ1bmN0aW9uIG0oZSx0KXt2YXIgcj1lLl93cml0YWJsZVN0YXRlLGE9ci5zeW5jLG89ci53cml0ZWNiO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBvKXRocm93IG5ldyBCO2lmKGgociksdClfKGUscixhLHQsbyk7ZWxzZXt2YXIgaT1SKHIpfHxlLmRlc3Ryb3llZDtpfHxyLmNvcmtlZHx8ci5idWZmZXJQcm9jZXNzaW5nfHwhci5idWZmZXJlZFJlcXVlc3R8fEMoZSxyKSxhP24ubmV4dFRpY2soYixlLHIsaSxvKTpiKGUscixpLG8pfX1mdW5jdGlvbiBiKGUsdCxuLHIpe258fHkoZSx0KSx0LnBlbmRpbmdjYi0tLHIoKSxTKGUsdCl9ZnVuY3Rpb24geShlLHQpezA9PT10Lmxlbmd0aCYmdC5uZWVkRHJhaW4mJih0Lm5lZWREcmFpbj0hMSxlLmVtaXQoImRyYWluIikpfWZ1bmN0aW9uIEMoZSx0KXt0LmJ1ZmZlclByb2Nlc3Npbmc9ITA7dmFyIG49dC5idWZmZXJlZFJlcXVlc3Q7aWYoZS5fd3JpdGV2JiZuJiZuLm5leHQpe3ZhciByPXQuYnVmZmVyZWRSZXF1ZXN0Q291bnQsbz1BcnJheShyKSxpPXQuY29ya2VkUmVxdWVzdHNGcmVlO2kuZW50cnk9bjtmb3IodmFyIGQ9MCxzPSEwO247KW9bZF09bixuLmlzQnVmfHwocz0hMSksbj1uLm5leHQsZCs9MTtvLmFsbEJ1ZmZlcnM9cyxnKGUsdCwhMCx0Lmxlbmd0aCxvLCIiLGkuZmluaXNoKSx0LnBlbmRpbmdjYisrLHQubGFzdEJ1ZmZlcmVkUmVxdWVzdD1udWxsLGkubmV4dD8odC5jb3JrZWRSZXF1ZXN0c0ZyZWU9aS5uZXh0LGkubmV4dD1udWxsKTp0LmNvcmtlZFJlcXVlc3RzRnJlZT1uZXcgYSh0KSx0LmJ1ZmZlcmVkUmVxdWVzdENvdW50PTB9ZWxzZXtmb3IoO247KXt2YXIgbD1uLmNodW5rLGM9bi5lbmNvZGluZyx1PW4uY2FsbGJhY2sscD10Lm9iamVjdE1vZGU/MTpsLmxlbmd0aDtpZihnKGUsdCwhMSxwLGwsYyx1KSxuPW4ubmV4dCx0LmJ1ZmZlcmVkUmVxdWVzdENvdW50LS0sdC53cml0aW5nKWJyZWFrfW51bGw9PT1uJiYodC5sYXN0QnVmZmVyZWRSZXF1ZXN0PW51bGwpfXQuYnVmZmVyZWRSZXF1ZXN0PW4sdC5idWZmZXJQcm9jZXNzaW5nPSExfWZ1bmN0aW9uIFIoZSl7cmV0dXJuIGUuZW5kaW5nJiYwPT09ZS5sZW5ndGgmJm51bGw9PT1lLmJ1ZmZlcmVkUmVxdWVzdCYmIWUuZmluaXNoZWQmJiFlLndyaXRpbmd9ZnVuY3Rpb24gRShlLHQpe2UuX2ZpbmFsKGZ1bmN0aW9uKG4pe3QucGVuZGluZ2NiLS0sbiYmWShlLG4pLHQucHJlZmluaXNoZWQ9ITAsZS5lbWl0KCJwcmVmaW5pc2giKSxTKGUsdCl9KX1mdW5jdGlvbiB3KGUsdCl7dC5wcmVmaW5pc2hlZHx8dC5maW5hbENhbGxlZHx8KCJmdW5jdGlvbiIhPXR5cGVvZiBlLl9maW5hbHx8dC5kZXN0cm95ZWQ/KHQucHJlZmluaXNoZWQ9ITAsZS5lbWl0KCJwcmVmaW5pc2giKSk6KHQucGVuZGluZ2NiKyssdC5maW5hbENhbGxlZD0hMCxuLm5leHRUaWNrKEUsZSx0KSkpfWZ1bmN0aW9uIFMoZSx0KXt2YXIgbj1SKHQpO2lmKG4mJih3KGUsdCksMD09PXQucGVuZGluZ2NiJiYodC5maW5pc2hlZD0hMCxlLmVtaXQoImZpbmlzaCIpLHQuYXV0b0Rlc3Ryb3kpKSl7dmFyIHI9ZS5fcmVhZGFibGVTdGF0ZTsoIXJ8fHIuYXV0b0Rlc3Ryb3kmJnIuZW5kRW1pdHRlZCkmJmUuZGVzdHJveSgpfXJldHVybiBufWZ1bmN0aW9uIFQoZSx0LHIpe3QuZW5kaW5nPSEwLFMoZSx0KSxyJiYodC5maW5pc2hlZD9uLm5leHRUaWNrKHIpOmUub25jZSgiZmluaXNoIixyKSksdC5lbmRlZD0hMCxlLndyaXRhYmxlPSExfWZ1bmN0aW9uIHYoZSx0LG4pe3ZhciByPWUuZW50cnk7Zm9yKGUuZW50cnk9bnVsbDtyOyl7dmFyIGE9ci5jYWxsYmFjazt0LnBlbmRpbmdjYi0tLGEobikscj1yLm5leHR9dC5jb3JrZWRSZXF1ZXN0c0ZyZWUubmV4dD1lfXQuZXhwb3J0cz1sO3ZhciBrO2wuV3JpdGFibGVTdGF0ZT1zO3ZhciBMPXtkZXByZWNhdGU6ZSgidXRpbC1kZXByZWNhdGUiKX0sQT1lKCIuL2ludGVybmFsL3N0cmVhbXMvc3RyZWFtIikseD1lKCJidWZmZXIiKS5CdWZmZXIsTj1yLlVpbnQ4QXJyYXl8fGZ1bmN0aW9uKCl7fSxEPWUoIi4vaW50ZXJuYWwvc3RyZWFtcy9kZXN0cm95IiksST1lKCIuL2ludGVybmFsL3N0cmVhbXMvc3RhdGUiKSxQPUkuZ2V0SGlnaFdhdGVyTWFyayxNPWUoIi4uL2Vycm9ycyIpLmNvZGVzLE89TS5FUlJfSU5WQUxJRF9BUkdfVFlQRSxGPU0uRVJSX01FVEhPRF9OT1RfSU1QTEVNRU5URUQsQj1NLkVSUl9NVUxUSVBMRV9DQUxMQkFDSyxVPU0uRVJSX1NUUkVBTV9DQU5OT1RfUElQRSxqPU0uRVJSX1NUUkVBTV9ERVNUUk9ZRUQscT1NLkVSUl9TVFJFQU1fTlVMTF9WQUxVRVMsVz1NLkVSUl9TVFJFQU1fV1JJVEVfQUZURVJfRU5ELEg9TS5FUlJfVU5LTk9XTl9FTkNPRElORyxZPUQuZXJyb3JPckRlc3Ryb3k7ZSgiaW5oZXJpdHMiKShsLEEpLHMucHJvdG90eXBlLmdldEJ1ZmZlcj1mdW5jdGlvbigpe2Zvcih2YXIgZT10aGlzLmJ1ZmZlcmVkUmVxdWVzdCx0PVtdO2U7KXQucHVzaChlKSxlPWUubmV4dDtyZXR1cm4gdH0sZnVuY3Rpb24oKXt0cnl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHMucHJvdG90eXBlLCJidWZmZXIiLHtnZXQ6TC5kZXByZWNhdGUoZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRCdWZmZXIoKX0sIl93cml0YWJsZVN0YXRlLmJ1ZmZlciBpcyBkZXByZWNhdGVkLiBVc2UgX3dyaXRhYmxlU3RhdGUuZ2V0QnVmZmVyIGluc3RlYWQuIiwiREVQMDAwMyIpfSl9Y2F0Y2goZSl7fX0oKTt2YXIgVjsiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZTeW1ib2wuaGFzSW5zdGFuY2UmJiJmdW5jdGlvbiI9PXR5cGVvZiBGdW5jdGlvbi5wcm90b3R5cGVbU3ltYm9sLmhhc0luc3RhbmNlXT8oVj1GdW5jdGlvbi5wcm90b3R5cGVbU3ltYm9sLmhhc0luc3RhbmNlXSxPYmplY3QuZGVmaW5lUHJvcGVydHkobCxTeW1ib2wuaGFzSW5zdGFuY2Use3ZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiEhVi5jYWxsKHRoaXMsZSl8fCEodGhpcyE9PWwpJiZlJiZlLl93cml0YWJsZVN0YXRlIGluc3RhbmNlb2Ygc319KSk6Vj1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIHRoaXN9LGwucHJvdG90eXBlLnBpcGU9ZnVuY3Rpb24oKXtZKHRoaXMsbmV3IFUpfSxsLnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbihlLHQsbil7dmFyIHI9dGhpcy5fd3JpdGFibGVTdGF0ZSxhPSExLHM9IXIub2JqZWN0TW9kZSYmaShlKTtyZXR1cm4gcyYmIXguaXNCdWZmZXIoZSkmJihlPW8oZSkpLCJmdW5jdGlvbiI9PXR5cGVvZiB0JiYobj10LHQ9bnVsbCkscz90PSJidWZmZXIiOiF0JiYodD1yLmRlZmF1bHRFbmNvZGluZyksImZ1bmN0aW9uIiE9dHlwZW9mIG4mJihuPWQpLHIuZW5kaW5nP2ModGhpcyxuKTooc3x8dSh0aGlzLHIsZSxuKSkmJihyLnBlbmRpbmdjYisrLGE9Zih0aGlzLHIscyxlLHQsbikpLGF9LGwucHJvdG90eXBlLmNvcms9ZnVuY3Rpb24oKXt0aGlzLl93cml0YWJsZVN0YXRlLmNvcmtlZCsrfSxsLnByb3RvdHlwZS51bmNvcms9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl93cml0YWJsZVN0YXRlO2UuY29ya2VkJiYoZS5jb3JrZWQtLSwhZS53cml0aW5nJiYhZS5jb3JrZWQmJiFlLmJ1ZmZlclByb2Nlc3NpbmcmJmUuYnVmZmVyZWRSZXF1ZXN0JiZDKHRoaXMsZSkpfSxsLnByb3RvdHlwZS5zZXREZWZhdWx0RW5jb2Rpbmc9ZnVuY3Rpb24oZSl7aWYoInN0cmluZyI9PXR5cGVvZiBlJiYoZT1lLnRvTG93ZXJDYXNlKCkpLCEoLTE8WyJoZXgiLCJ1dGY4IiwidXRmLTgiLCJhc2NpaSIsImJpbmFyeSIsImJhc2U2NCIsInVjczIiLCJ1Y3MtMiIsInV0ZjE2bGUiLCJ1dGYtMTZsZSIsInJhdyJdLmluZGV4T2YoKGUrIiIpLnRvTG93ZXJDYXNlKCkpKSl0aHJvdyBuZXcgSChlKTtyZXR1cm4gdGhpcy5fd3JpdGFibGVTdGF0ZS5kZWZhdWx0RW5jb2Rpbmc9ZSx0aGlzfSxPYmplY3QuZGVmaW5lUHJvcGVydHkobC5wcm90b3R5cGUsIndyaXRhYmxlQnVmZmVyIix7ZW51bWVyYWJsZTohMSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fd3JpdGFibGVTdGF0ZSYmdGhpcy5fd3JpdGFibGVTdGF0ZS5nZXRCdWZmZXIoKX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkobC5wcm90b3R5cGUsIndyaXRhYmxlSGlnaFdhdGVyTWFyayIse2VudW1lcmFibGU6ITEsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3dyaXRhYmxlU3RhdGUuaGlnaFdhdGVyTWFya319KSxsLnByb3RvdHlwZS5fd3JpdGU9ZnVuY3Rpb24oZSx0LG4pe24obmV3IEYoIl93cml0ZSgpIikpfSxsLnByb3RvdHlwZS5fd3JpdGV2PW51bGwsbC5wcm90b3R5cGUuZW5kPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj10aGlzLl93cml0YWJsZVN0YXRlO3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBlPyhuPWUsZT1udWxsLHQ9bnVsbCk6ImZ1bmN0aW9uIj09dHlwZW9mIHQmJihuPXQsdD1udWxsKSxudWxsIT09ZSYmdm9pZCAwIT09ZSYmdGhpcy53cml0ZShlLHQpLHIuY29ya2VkJiYoci5jb3JrZWQ9MSx0aGlzLnVuY29yaygpKSxyLmVuZGluZ3x8VCh0aGlzLHIsbiksdGhpc30sT2JqZWN0LmRlZmluZVByb3BlcnR5KGwucHJvdG90eXBlLCJ3cml0YWJsZUxlbmd0aCIse2VudW1lcmFibGU6ITEsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3dyaXRhYmxlU3RhdGUubGVuZ3RofX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShsLnByb3RvdHlwZSwiZGVzdHJveWVkIix7ZW51bWVyYWJsZTohMSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdm9pZCAwIT09dGhpcy5fd3JpdGFibGVTdGF0ZSYmdGhpcy5fd3JpdGFibGVTdGF0ZS5kZXN0cm95ZWR9LHNldDpmdW5jdGlvbihlKXt0aGlzLl93cml0YWJsZVN0YXRlJiYodGhpcy5fd3JpdGFibGVTdGF0ZS5kZXN0cm95ZWQ9ZSl9fSksbC5wcm90b3R5cGUuZGVzdHJveT1ELmRlc3Ryb3ksbC5wcm90b3R5cGUuX3VuZGVzdHJveT1ELnVuZGVzdHJveSxsLnByb3RvdHlwZS5fZGVzdHJveT1mdW5jdGlvbihlLHQpe3QoZSl9fSkuY2FsbCh0aGlzKX0pLmNhbGwodGhpcyxlKCJfcHJvY2VzcyIpLCJ1bmRlZmluZWQiPT10eXBlb2YgZ2xvYmFsPyJ1bmRlZmluZWQiPT10eXBlb2Ygc2VsZj8idW5kZWZpbmVkIj09dHlwZW9mIHdpbmRvdz97fTp3aW5kb3c6c2VsZjpnbG9iYWwpfSx7Ii4uL2Vycm9ycyI6MTUsIi4vX3N0cmVhbV9kdXBsZXgiOjE2LCIuL2ludGVybmFsL3N0cmVhbXMvZGVzdHJveSI6MjMsIi4vaW50ZXJuYWwvc3RyZWFtcy9zdGF0ZSI6MjcsIi4vaW50ZXJuYWwvc3RyZWFtcy9zdHJlYW0iOjI4LF9wcm9jZXNzOjEyLGJ1ZmZlcjozLGluaGVyaXRzOjEwLCJ1dGlsLWRlcHJlY2F0ZSI6MzJ9XSwyMTpbZnVuY3Rpb24oZSx0KXsoZnVuY3Rpb24obil7KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnO2Z1bmN0aW9uIHIoZSx0LG4pe3JldHVybiB0IGluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7dmFsdWU6bixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbdF09bixlfWZ1bmN0aW9uIGEoZSx0KXtyZXR1cm57dmFsdWU6ZSxkb25lOnR9fWZ1bmN0aW9uIG8oZSl7dmFyIHQ9ZVtjXTtpZihudWxsIT09dCl7dmFyIG49ZVtoXS5yZWFkKCk7bnVsbCE9PW4mJihlW2ddPW51bGwsZVtjXT1udWxsLGVbdV09bnVsbCx0KGEobiwhMSkpKX19ZnVuY3Rpb24gaShlKXtuLm5leHRUaWNrKG8sZSl9ZnVuY3Rpb24gZChlLHQpe3JldHVybiBmdW5jdGlvbihuLHIpe2UudGhlbihmdW5jdGlvbigpe3JldHVybiB0W2ZdP3ZvaWQgbihhKHZvaWQgMCwhMCkpOnZvaWQgdFtfXShuLHIpfSxyKX19dmFyIHMsbD1lKCIuL2VuZC1vZi1zdHJlYW0iKSxjPVN5bWJvbCgibGFzdFJlc29sdmUiKSx1PVN5bWJvbCgibGFzdFJlamVjdCIpLHA9U3ltYm9sKCJlcnJvciIpLGY9U3ltYm9sKCJlbmRlZCIpLGc9U3ltYm9sKCJsYXN0UHJvbWlzZSIpLF89U3ltYm9sKCJoYW5kbGVQcm9taXNlIiksaD1TeW1ib2woInN0cmVhbSIpLG09T2JqZWN0LmdldFByb3RvdHlwZU9mKGZ1bmN0aW9uKCl7fSksYj1PYmplY3Quc2V0UHJvdG90eXBlT2YoKHM9e2dldCBzdHJlYW0oKXtyZXR1cm4gdGhpc1toXX0sbmV4dDpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD10aGlzW3BdO2lmKG51bGwhPT10KXJldHVybiBQcm9taXNlLnJlamVjdCh0KTtpZih0aGlzW2ZdKXJldHVybiBQcm9taXNlLnJlc29sdmUoYSh2b2lkIDAsITApKTtpZih0aGlzW2hdLmRlc3Ryb3llZClyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24odCxyKXtuLm5leHRUaWNrKGZ1bmN0aW9uKCl7ZVtwXT9yKGVbcF0pOnQoYSh2b2lkIDAsITApKX0pfSk7dmFyIHIsbz10aGlzW2ddO2lmKG8pcj1uZXcgUHJvbWlzZShkKG8sdGhpcykpO2Vsc2V7dmFyIGk9dGhpc1toXS5yZWFkKCk7aWYobnVsbCE9PWkpcmV0dXJuIFByb21pc2UucmVzb2x2ZShhKGksITEpKTtyPW5ldyBQcm9taXNlKHRoaXNbX10pfXJldHVybiB0aGlzW2ddPXIscn19LHIocyxTeW1ib2wuYXN5bmNJdGVyYXRvcixmdW5jdGlvbigpe3JldHVybiB0aGlzfSkscihzLCJyZXR1cm4iLGZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24odCxuKXtlW2hdLmRlc3Ryb3kobnVsbCxmdW5jdGlvbihlKXtyZXR1cm4gZT92b2lkIG4oZSk6dm9pZCB0KGEodm9pZCAwLCEwKSl9KX0pfSkscyksbSk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0LG49T2JqZWN0LmNyZWF0ZShiLCh0PXt9LHIodCxoLHt2YWx1ZTplLHdyaXRhYmxlOiEwfSkscih0LGMse3ZhbHVlOm51bGwsd3JpdGFibGU6ITB9KSxyKHQsdSx7dmFsdWU6bnVsbCx3cml0YWJsZTohMH0pLHIodCxwLHt2YWx1ZTpudWxsLHdyaXRhYmxlOiEwfSkscih0LGYse3ZhbHVlOmUuX3JlYWRhYmxlU3RhdGUuZW5kRW1pdHRlZCx3cml0YWJsZTohMH0pLHIodCxfLHt2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPW5baF0ucmVhZCgpO3I/KG5bZ109bnVsbCxuW2NdPW51bGwsblt1XT1udWxsLGUoYShyLCExKSkpOihuW2NdPWUsblt1XT10KX0sd3JpdGFibGU6ITB9KSx0KSk7cmV0dXJuIG5bZ109bnVsbCxsKGUsZnVuY3Rpb24oZSl7aWYoZSYmIkVSUl9TVFJFQU1fUFJFTUFUVVJFX0NMT1NFIiE9PWUuY29kZSl7dmFyIHQ9blt1XTtyZXR1cm4gbnVsbCE9PXQmJihuW2ddPW51bGwsbltjXT1udWxsLG5bdV09bnVsbCx0KGUpKSx2b2lkKG5bcF09ZSl9dmFyIHI9bltjXTtudWxsIT09ciYmKG5bZ109bnVsbCxuW2NdPW51bGwsblt1XT1udWxsLHIoYSh2b2lkIDAsITApKSksbltmXT0hMH0pLGUub24oInJlYWRhYmxlIixpLmJpbmQobnVsbCxuKSksbn19KS5jYWxsKHRoaXMpfSkuY2FsbCh0aGlzLGUoIl9wcm9jZXNzIikpfSx7Ii4vZW5kLW9mLXN0cmVhbSI6MjQsX3Byb2Nlc3M6MTJ9XSwyMjpbZnVuY3Rpb24oZSx0KXsndXNlIHN0cmljdCc7ZnVuY3Rpb24gbihlLHQpe3ZhciBuPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciByPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKHI9ci5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpLG4ucHVzaC5hcHBseShuLHIpfXJldHVybiBufWZ1bmN0aW9uIHIoZSl7Zm9yKHZhciB0LHI9MTtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKXQ9bnVsbD09YXJndW1lbnRzW3JdP3t9OmFyZ3VtZW50c1tyXSxyJTI/bihPYmplY3QodCksITApLmZvckVhY2goZnVuY3Rpb24obil7YShlLG4sdFtuXSl9KTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHQpKTpuKE9iamVjdCh0KSkuZm9yRWFjaChmdW5jdGlvbihuKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxuLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxuKSl9KTtyZXR1cm4gZX1mdW5jdGlvbiBhKGUsdCxuKXtyZXR1cm4gdCBpbiBlP09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse3ZhbHVlOm4sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTplW3RdPW4sZX1mdW5jdGlvbiBvKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIil9ZnVuY3Rpb24gaShlLHQpe2Zvcih2YXIgbixyPTA7cjx0Lmxlbmd0aDtyKyspbj10W3JdLG4uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLCJ2YWx1ZSJpbiBuJiYobi53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbi5rZXksbil9ZnVuY3Rpb24gZChlLHQsbil7cmV0dXJuIHQmJmkoZS5wcm90b3R5cGUsdCksbiYmaShlLG4pLGV9ZnVuY3Rpb24gcyhlLHQsbil7dS5wcm90b3R5cGUuY29weS5jYWxsKGUsdCxuKX12YXIgbD1lKCJidWZmZXIiKSx1PWwuQnVmZmVyLHA9ZSgidXRpbCIpLGY9cC5pbnNwZWN0LGc9ZiYmZi5jdXN0b218fCJpbnNwZWN0Ijt0LmV4cG9ydHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7byh0aGlzLGUpLHRoaXMuaGVhZD1udWxsLHRoaXMudGFpbD1udWxsLHRoaXMubGVuZ3RoPTB9cmV0dXJuIGQoZSxbe2tleToicHVzaCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9e2RhdGE6ZSxuZXh0Om51bGx9OzA8dGhpcy5sZW5ndGg/dGhpcy50YWlsLm5leHQ9dDp0aGlzLmhlYWQ9dCx0aGlzLnRhaWw9dCwrK3RoaXMubGVuZ3RofX0se2tleToidW5zaGlmdCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9e2RhdGE6ZSxuZXh0OnRoaXMuaGVhZH07MD09PXRoaXMubGVuZ3RoJiYodGhpcy50YWlsPXQpLHRoaXMuaGVhZD10LCsrdGhpcy5sZW5ndGh9fSx7a2V5OiJzaGlmdCIsdmFsdWU6ZnVuY3Rpb24oKXtpZigwIT09dGhpcy5sZW5ndGgpe3ZhciBlPXRoaXMuaGVhZC5kYXRhO3JldHVybiB0aGlzLmhlYWQ9MT09PXRoaXMubGVuZ3RoP3RoaXMudGFpbD1udWxsOnRoaXMuaGVhZC5uZXh0LC0tdGhpcy5sZW5ndGgsZX19fSx7a2V5OiJjbGVhciIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmhlYWQ9dGhpcy50YWlsPW51bGwsdGhpcy5sZW5ndGg9MH19LHtrZXk6ImpvaW4iLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKDA9PT10aGlzLmxlbmd0aClyZXR1cm4iIjtmb3IodmFyIHQ9dGhpcy5oZWFkLG49IiIrdC5kYXRhO3Q9dC5uZXh0OyluKz1lK3QuZGF0YTtyZXR1cm4gbn19LHtrZXk6ImNvbmNhdCIsdmFsdWU6ZnVuY3Rpb24oZSl7aWYoMD09PXRoaXMubGVuZ3RoKXJldHVybiB1LmFsbG9jKDApO2Zvcih2YXIgdD11LmFsbG9jVW5zYWZlKGU+Pj4wKSxuPXRoaXMuaGVhZCxyPTA7bjspcyhuLmRhdGEsdCxyKSxyKz1uLmRhdGEubGVuZ3RoLG49bi5uZXh0O3JldHVybiB0fX0se2tleToiY29uc3VtZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgbjtyZXR1cm4gZTx0aGlzLmhlYWQuZGF0YS5sZW5ndGg/KG49dGhpcy5oZWFkLmRhdGEuc2xpY2UoMCxlKSx0aGlzLmhlYWQuZGF0YT10aGlzLmhlYWQuZGF0YS5zbGljZShlKSk6ZT09PXRoaXMuaGVhZC5kYXRhLmxlbmd0aD9uPXRoaXMuc2hpZnQoKTpuPXQ/dGhpcy5fZ2V0U3RyaW5nKGUpOnRoaXMuX2dldEJ1ZmZlcihlKSxufX0se2tleToiZmlyc3QiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaGVhZC5kYXRhfX0se2tleToiX2dldFN0cmluZyIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5oZWFkLHI9MSxhPXQuZGF0YTtmb3IoZS09YS5sZW5ndGg7dD10Lm5leHQ7KXt2YXIgbz10LmRhdGEsaT1lPm8ubGVuZ3RoP28ubGVuZ3RoOmU7aWYoYSs9aT09PW8ubGVuZ3RoP286by5zbGljZSgwLGUpLGUtPWksMD09PWUpe2k9PT1vLmxlbmd0aD8oKytyLHRoaXMuaGVhZD10Lm5leHQ/dC5uZXh0OnRoaXMudGFpbD1udWxsKToodGhpcy5oZWFkPXQsdC5kYXRhPW8uc2xpY2UoaSkpO2JyZWFrfSsrcn1yZXR1cm4gdGhpcy5sZW5ndGgtPXIsYX19LHtrZXk6Il9nZXRCdWZmZXIiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXUuYWxsb2NVbnNhZmUoZSkscj10aGlzLmhlYWQsYT0xO2ZvcihyLmRhdGEuY29weSh0KSxlLT1yLmRhdGEubGVuZ3RoO3I9ci5uZXh0Oyl7dmFyIG89ci5kYXRhLGk9ZT5vLmxlbmd0aD9vLmxlbmd0aDplO2lmKG8uY29weSh0LHQubGVuZ3RoLWUsMCxpKSxlLT1pLDA9PT1lKXtpPT09by5sZW5ndGg/KCsrYSx0aGlzLmhlYWQ9ci5uZXh0P3IubmV4dDp0aGlzLnRhaWw9bnVsbCk6KHRoaXMuaGVhZD1yLHIuZGF0YT1vLnNsaWNlKGkpKTticmVha30rK2F9cmV0dXJuIHRoaXMubGVuZ3RoLT1hLHR9fSx7a2V5OmcsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZih0aGlzLHIoe30sdCx7ZGVwdGg6MCxjdXN0b21JbnNwZWN0OiExfSkpfX1dKSxlfSgpfSx7YnVmZmVyOjMsdXRpbDoyfV0sMjM6W2Z1bmN0aW9uKGUsdCl7KGZ1bmN0aW9uKGUpeyhmdW5jdGlvbigpeyd1c2Ugc3RyaWN0JztmdW5jdGlvbiBuKGUsdCl7YShlLHQpLHIoZSl9ZnVuY3Rpb24gcihlKXtlLl93cml0YWJsZVN0YXRlJiYhZS5fd3JpdGFibGVTdGF0ZS5lbWl0Q2xvc2V8fGUuX3JlYWRhYmxlU3RhdGUmJiFlLl9yZWFkYWJsZVN0YXRlLmVtaXRDbG9zZXx8ZS5lbWl0KCJjbG9zZSIpfWZ1bmN0aW9uIGEoZSx0KXtlLmVtaXQoImVycm9yIix0KX10LmV4cG9ydHM9e2Rlc3Ryb3k6ZnVuY3Rpb24odCxvKXt2YXIgaT10aGlzLGQ9dGhpcy5fcmVhZGFibGVTdGF0ZSYmdGhpcy5fcmVhZGFibGVTdGF0ZS5kZXN0cm95ZWQscz10aGlzLl93cml0YWJsZVN0YXRlJiZ0aGlzLl93cml0YWJsZVN0YXRlLmRlc3Ryb3llZDtyZXR1cm4gZHx8cz8obz9vKHQpOnQmJih0aGlzLl93cml0YWJsZVN0YXRlPyF0aGlzLl93cml0YWJsZVN0YXRlLmVycm9yRW1pdHRlZCYmKHRoaXMuX3dyaXRhYmxlU3RhdGUuZXJyb3JFbWl0dGVkPSEwLGUubmV4dFRpY2soYSx0aGlzLHQpKTplLm5leHRUaWNrKGEsdGhpcyx0KSksdGhpcyk6KHRoaXMuX3JlYWRhYmxlU3RhdGUmJih0aGlzLl9yZWFkYWJsZVN0YXRlLmRlc3Ryb3llZD0hMCksdGhpcy5fd3JpdGFibGVTdGF0ZSYmKHRoaXMuX3dyaXRhYmxlU3RhdGUuZGVzdHJveWVkPSEwKSx0aGlzLl9kZXN0cm95KHR8fG51bGwsZnVuY3Rpb24odCl7IW8mJnQ/aS5fd3JpdGFibGVTdGF0ZT9pLl93cml0YWJsZVN0YXRlLmVycm9yRW1pdHRlZD9lLm5leHRUaWNrKHIsaSk6KGkuX3dyaXRhYmxlU3RhdGUuZXJyb3JFbWl0dGVkPSEwLGUubmV4dFRpY2sobixpLHQpKTplLm5leHRUaWNrKG4saSx0KTpvPyhlLm5leHRUaWNrKHIsaSksbyh0KSk6ZS5uZXh0VGljayhyLGkpfSksdGhpcyl9LHVuZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuX3JlYWRhYmxlU3RhdGUmJih0aGlzLl9yZWFkYWJsZVN0YXRlLmRlc3Ryb3llZD0hMSx0aGlzLl9yZWFkYWJsZVN0YXRlLnJlYWRpbmc9ITEsdGhpcy5fcmVhZGFibGVTdGF0ZS5lbmRlZD0hMSx0aGlzLl9yZWFkYWJsZVN0YXRlLmVuZEVtaXR0ZWQ9ITEpLHRoaXMuX3dyaXRhYmxlU3RhdGUmJih0aGlzLl93cml0YWJsZVN0YXRlLmRlc3Ryb3llZD0hMSx0aGlzLl93cml0YWJsZVN0YXRlLmVuZGVkPSExLHRoaXMuX3dyaXRhYmxlU3RhdGUuZW5kaW5nPSExLHRoaXMuX3dyaXRhYmxlU3RhdGUuZmluYWxDYWxsZWQ9ITEsdGhpcy5fd3JpdGFibGVTdGF0ZS5wcmVmaW5pc2hlZD0hMSx0aGlzLl93cml0YWJsZVN0YXRlLmZpbmlzaGVkPSExLHRoaXMuX3dyaXRhYmxlU3RhdGUuZXJyb3JFbWl0dGVkPSExKX0sZXJyb3JPckRlc3Ryb3k6ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLl9yZWFkYWJsZVN0YXRlLHI9ZS5fd3JpdGFibGVTdGF0ZTtuJiZuLmF1dG9EZXN0cm95fHxyJiZyLmF1dG9EZXN0cm95P2UuZGVzdHJveSh0KTplLmVtaXQoImVycm9yIix0KX19fSkuY2FsbCh0aGlzKX0pLmNhbGwodGhpcyxlKCJfcHJvY2VzcyIpKX0se19wcm9jZXNzOjEyfV0sMjQ6W2Z1bmN0aW9uKGUsdCl7J3VzZSBzdHJpY3QnO2Z1bmN0aW9uIG4oZSl7dmFyIHQ9ITE7cmV0dXJuIGZ1bmN0aW9uKCl7aWYoIXQpe3Q9ITA7Zm9yKHZhciBuPWFyZ3VtZW50cy5sZW5ndGgscj1BcnJheShuKSxhPTA7YTxuO2ErKylyW2FdPWFyZ3VtZW50c1thXTtlLmFwcGx5KHRoaXMscil9fX1mdW5jdGlvbiByKCl7fWZ1bmN0aW9uIGEoZSl7cmV0dXJuIGUuc2V0SGVhZGVyJiYiZnVuY3Rpb24iPT10eXBlb2YgZS5hYm9ydH1mdW5jdGlvbiBvKGUsdCxkKXtpZigiZnVuY3Rpb24iPT10eXBlb2YgdClyZXR1cm4gbyhlLG51bGwsdCk7dHx8KHQ9e30pLGQ9bihkfHxyKTt2YXIgcz10LnJlYWRhYmxlfHwhMSE9PXQucmVhZGFibGUmJmUucmVhZGFibGUsbD10LndyaXRhYmxlfHwhMSE9PXQud3JpdGFibGUmJmUud3JpdGFibGUsYz1mdW5jdGlvbigpe2Uud3JpdGFibGV8fHAoKX0sdT1lLl93cml0YWJsZVN0YXRlJiZlLl93cml0YWJsZVN0YXRlLmZpbmlzaGVkLHA9ZnVuY3Rpb24oKXtsPSExLHU9ITAsc3x8ZC5jYWxsKGUpfSxmPWUuX3JlYWRhYmxlU3RhdGUmJmUuX3JlYWRhYmxlU3RhdGUuZW5kRW1pdHRlZCxnPWZ1bmN0aW9uKCl7cz0hMSxmPSEwLGx8fGQuY2FsbChlKX0sXz1mdW5jdGlvbih0KXtkLmNhbGwoZSx0KX0saD1mdW5jdGlvbigpe3ZhciB0O3JldHVybiBzJiYhZj8oZS5fcmVhZGFibGVTdGF0ZSYmZS5fcmVhZGFibGVTdGF0ZS5lbmRlZHx8KHQ9bmV3IGkpLGQuY2FsbChlLHQpKTpsJiYhdT8oZS5fd3JpdGFibGVTdGF0ZSYmZS5fd3JpdGFibGVTdGF0ZS5lbmRlZHx8KHQ9bmV3IGkpLGQuY2FsbChlLHQpKTp2b2lkIDB9LG09ZnVuY3Rpb24oKXtlLnJlcS5vbigiZmluaXNoIixwKX07cmV0dXJuIGEoZSk/KGUub24oImNvbXBsZXRlIixwKSxlLm9uKCJhYm9ydCIsaCksZS5yZXE/bSgpOmUub24oInJlcXVlc3QiLG0pKTpsJiYhZS5fd3JpdGFibGVTdGF0ZSYmKGUub24oImVuZCIsYyksZS5vbigiY2xvc2UiLGMpKSxlLm9uKCJlbmQiLGcpLGUub24oImZpbmlzaCIscCksITEhPT10LmVycm9yJiZlLm9uKCJlcnJvciIsXyksZS5vbigiY2xvc2UiLGgpLGZ1bmN0aW9uKCl7ZS5yZW1vdmVMaXN0ZW5lcigiY29tcGxldGUiLHApLGUucmVtb3ZlTGlzdGVuZXIoImFib3J0IixoKSxlLnJlbW92ZUxpc3RlbmVyKCJyZXF1ZXN0IixtKSxlLnJlcSYmZS5yZXEucmVtb3ZlTGlzdGVuZXIoImZpbmlzaCIscCksZS5yZW1vdmVMaXN0ZW5lcigiZW5kIixjKSxlLnJlbW92ZUxpc3RlbmVyKCJjbG9zZSIsYyksZS5yZW1vdmVMaXN0ZW5lcigiZmluaXNoIixwKSxlLnJlbW92ZUxpc3RlbmVyKCJlbmQiLGcpLGUucmVtb3ZlTGlzdGVuZXIoImVycm9yIixfKSxlLnJlbW92ZUxpc3RlbmVyKCJjbG9zZSIsaCl9fXZhciBpPWUoIi4uLy4uLy4uL2Vycm9ycyIpLmNvZGVzLkVSUl9TVFJFQU1fUFJFTUFUVVJFX0NMT1NFO3QuZXhwb3J0cz1vfSx7Ii4uLy4uLy4uL2Vycm9ycyI6MTV9XSwyNTpbZnVuY3Rpb24oZSx0KXt0LmV4cG9ydHM9ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoIlJlYWRhYmxlLmZyb20gaXMgbm90IGF2YWlsYWJsZSBpbiB0aGUgYnJvd3NlciIpfX0se31dLDI2OltmdW5jdGlvbihlLHQpeyd1c2Ugc3RyaWN0JztmdW5jdGlvbiBuKGUpe3ZhciB0PSExO3JldHVybiBmdW5jdGlvbigpe3R8fCh0PSEwLGUuYXBwbHkodm9pZCAwLGFyZ3VtZW50cykpfX1mdW5jdGlvbiByKGUpe2lmKGUpdGhyb3cgZX1mdW5jdGlvbiBhKGUpe3JldHVybiBlLnNldEhlYWRlciYmImZ1bmN0aW9uIj09dHlwZW9mIGUuYWJvcnR9ZnVuY3Rpb24gbyh0LHIsbyxpKXtpPW4oaSk7dmFyIGQ9ITE7dC5vbigiY2xvc2UiLGZ1bmN0aW9uKCl7ZD0hMH0pLGw9PT12b2lkIDAmJihsPWUoIi4vZW5kLW9mLXN0cmVhbSIpKSxsKHQse3JlYWRhYmxlOnIsd3JpdGFibGU6b30sZnVuY3Rpb24oZSl7cmV0dXJuIGU/aShlKTp2b2lkKGQ9ITAsaSgpKX0pO3ZhciBzPSExO3JldHVybiBmdW5jdGlvbihlKXtpZighZClyZXR1cm4gcz92b2lkIDA6KHM9ITAsYSh0KT90LmFib3J0KCk6ImZ1bmN0aW9uIj09dHlwZW9mIHQuZGVzdHJveT90LmRlc3Ryb3koKTp2b2lkIGkoZXx8bmV3IHAoInBpcGUiKSkpfX1mdW5jdGlvbiBpKGUpe2UoKX1mdW5jdGlvbiBkKGUsdCl7cmV0dXJuIGUucGlwZSh0KX1mdW5jdGlvbiBzKGUpe3JldHVybiBlLmxlbmd0aD8iZnVuY3Rpb24iPT10eXBlb2YgZVtlLmxlbmd0aC0xXT9lLnBvcCgpOnI6cn12YXIgbCxjPWUoIi4uLy4uLy4uL2Vycm9ycyIpLmNvZGVzLHU9Yy5FUlJfTUlTU0lOR19BUkdTLHA9Yy5FUlJfU1RSRUFNX0RFU1RST1lFRDt0LmV4cG9ydHM9ZnVuY3Rpb24oKXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCx0PUFycmF5KGUpLG49MDtuPGU7bisrKXRbbl09YXJndW1lbnRzW25dO3ZhciByPXModCk7aWYoQXJyYXkuaXNBcnJheSh0WzBdKSYmKHQ9dFswXSksMj50Lmxlbmd0aCl0aHJvdyBuZXcgdSgic3RyZWFtcyIpO3ZhciBhLGw9dC5tYXAoZnVuY3Rpb24oZSxuKXt2YXIgZD1uPHQubGVuZ3RoLTE7cmV0dXJuIG8oZSxkLDA8bixmdW5jdGlvbihlKXthfHwoYT1lKSxlJiZsLmZvckVhY2goaSksZHx8KGwuZm9yRWFjaChpKSxyKGEpKX0pfSk7cmV0dXJuIHQucmVkdWNlKGQpfX0seyIuLi8uLi8uLi9lcnJvcnMiOjE1LCIuL2VuZC1vZi1zdHJlYW0iOjI0fV0sMjc6W2Z1bmN0aW9uKGUsbil7J3VzZSBzdHJpY3QnO2Z1bmN0aW9uIHIoZSx0LG4pe3JldHVybiBudWxsPT1lLmhpZ2hXYXRlck1hcms/dD9lW25dOm51bGw6ZS5oaWdoV2F0ZXJNYXJrfXZhciBhPWUoIi4uLy4uLy4uL2Vycm9ycyIpLmNvZGVzLkVSUl9JTlZBTElEX09QVF9WQUxVRTtuLmV4cG9ydHM9e2dldEhpZ2hXYXRlck1hcms6ZnVuY3Rpb24oZSxuLG8saSl7dmFyIGQ9cihuLGksbyk7aWYobnVsbCE9ZCl7aWYoIShpc0Zpbml0ZShkKSYmdChkKT09PWQpfHwwPmQpe3ZhciBzPWk/bzoiaGlnaFdhdGVyTWFyayI7dGhyb3cgbmV3IGEocyxkKX1yZXR1cm4gdChkKX1yZXR1cm4gZS5vYmplY3RNb2RlPzE2OjE2Mzg0fX19LHsiLi4vLi4vLi4vZXJyb3JzIjoxNX1dLDI4OltmdW5jdGlvbihlLHQpe3QuZXhwb3J0cz1lKCJldmVudHMiKS5FdmVudEVtaXR0ZXJ9LHtldmVudHM6N31dLDI5OltmdW5jdGlvbihlLHQsbil7bj10LmV4cG9ydHM9ZSgiLi9saWIvX3N0cmVhbV9yZWFkYWJsZS5qcyIpLG4uU3RyZWFtPW4sbi5SZWFkYWJsZT1uLG4uV3JpdGFibGU9ZSgiLi9saWIvX3N0cmVhbV93cml0YWJsZS5qcyIpLG4uRHVwbGV4PWUoIi4vbGliL19zdHJlYW1fZHVwbGV4LmpzIiksbi5UcmFuc2Zvcm09ZSgiLi9saWIvX3N0cmVhbV90cmFuc2Zvcm0uanMiKSxuLlBhc3NUaHJvdWdoPWUoIi4vbGliL19zdHJlYW1fcGFzc3Rocm91Z2guanMiKSxuLmZpbmlzaGVkPWUoIi4vbGliL2ludGVybmFsL3N0cmVhbXMvZW5kLW9mLXN0cmVhbS5qcyIpLG4ucGlwZWxpbmU9ZSgiLi9saWIvaW50ZXJuYWwvc3RyZWFtcy9waXBlbGluZS5qcyIpfSx7Ii4vbGliL19zdHJlYW1fZHVwbGV4LmpzIjoxNiwiLi9saWIvX3N0cmVhbV9wYXNzdGhyb3VnaC5qcyI6MTcsIi4vbGliL19zdHJlYW1fcmVhZGFibGUuanMiOjE4LCIuL2xpYi9fc3RyZWFtX3RyYW5zZm9ybS5qcyI6MTksIi4vbGliL19zdHJlYW1fd3JpdGFibGUuanMiOjIwLCIuL2xpYi9pbnRlcm5hbC9zdHJlYW1zL2VuZC1vZi1zdHJlYW0uanMiOjI0LCIuL2xpYi9pbnRlcm5hbC9zdHJlYW1zL3BpcGVsaW5lLmpzIjoyNn1dLDMwOltmdW5jdGlvbihlLHQsbil7ZnVuY3Rpb24gcihlLHQpe2Zvcih2YXIgbiBpbiBlKXRbbl09ZVtuXX1mdW5jdGlvbiBhKGUsdCxuKXtyZXR1cm4gaShlLHQsbil9LyohIHNhZmUtYnVmZmVyLiBNSVQgTGljZW5zZS4gRmVyb3NzIEFib3VraGFkaWplaCA8aHR0cHM6Ly9mZXJvc3Mub3JnL29wZW5zb3VyY2U+ICovdmFyIG89ZSgiYnVmZmVyIiksaT1vLkJ1ZmZlcjtpLmZyb20mJmkuYWxsb2MmJmkuYWxsb2NVbnNhZmUmJmkuYWxsb2NVbnNhZmVTbG93P3QuZXhwb3J0cz1vOihyKG8sbiksbi5CdWZmZXI9YSksYS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShpLnByb3RvdHlwZSkscihpLGEpLGEuZnJvbT1mdW5jdGlvbihlLHQsbil7aWYoIm51bWJlciI9PXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoIkFyZ3VtZW50IG11c3Qgbm90IGJlIGEgbnVtYmVyIik7cmV0dXJuIGkoZSx0LG4pfSxhLmFsbG9jPWZ1bmN0aW9uKGUsdCxuKXtpZigibnVtYmVyIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcigiQXJndW1lbnQgbXVzdCBiZSBhIG51bWJlciIpO3ZhciByPWkoZSk7cmV0dXJuIHZvaWQgMD09PXQ/ci5maWxsKDApOiJzdHJpbmciPT10eXBlb2Ygbj9yLmZpbGwodCxuKTpyLmZpbGwodCkscn0sYS5hbGxvY1Vuc2FmZT1mdW5jdGlvbihlKXtpZigibnVtYmVyIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcigiQXJndW1lbnQgbXVzdCBiZSBhIG51bWJlciIpO3JldHVybiBpKGUpfSxhLmFsbG9jVW5zYWZlU2xvdz1mdW5jdGlvbihlKXtpZigibnVtYmVyIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcigiQXJndW1lbnQgbXVzdCBiZSBhIG51bWJlciIpO3JldHVybiBvLlNsb3dCdWZmZXIoZSl9fSx7YnVmZmVyOjN9XSwzMTpbZnVuY3Rpb24oZSx0LG4peyd1c2Ugc3RyaWN0JztmdW5jdGlvbiByKGUpe2lmKCFlKXJldHVybiJ1dGY4Ijtmb3IodmFyIHQ7Oylzd2l0Y2goZSl7Y2FzZSJ1dGY4IjpjYXNlInV0Zi04IjpyZXR1cm4idXRmOCI7Y2FzZSJ1Y3MyIjpjYXNlInVjcy0yIjpjYXNlInV0ZjE2bGUiOmNhc2UidXRmLTE2bGUiOnJldHVybiJ1dGYxNmxlIjtjYXNlImxhdGluMSI6Y2FzZSJiaW5hcnkiOnJldHVybiJsYXRpbjEiO2Nhc2UiYmFzZTY0IjpjYXNlImFzY2lpIjpjYXNlImhleCI6cmV0dXJuIGU7ZGVmYXVsdDppZih0KXJldHVybjtlPSgiIitlKS50b0xvd2VyQ2FzZSgpLHQ9ITA7fX1mdW5jdGlvbiBhKGUpe3ZhciB0PXIoZSk7aWYoInN0cmluZyIhPXR5cGVvZiB0JiYobS5pc0VuY29kaW5nPT09Ynx8IWIoZSkpKXRocm93IG5ldyBFcnJvcigiVW5rbm93biBlbmNvZGluZzogIitlKTtyZXR1cm4gdHx8ZX1mdW5jdGlvbiBvKGUpe3RoaXMuZW5jb2Rpbmc9YShlKTt2YXIgdDtzd2l0Y2godGhpcy5lbmNvZGluZyl7Y2FzZSJ1dGYxNmxlIjp0aGlzLnRleHQ9dSx0aGlzLmVuZD1wLHQ9NDticmVhaztjYXNlInV0ZjgiOnRoaXMuZmlsbExhc3Q9Yyx0PTQ7YnJlYWs7Y2FzZSJiYXNlNjQiOnRoaXMudGV4dD1mLHRoaXMuZW5kPWcsdD0zO2JyZWFrO2RlZmF1bHQ6cmV0dXJuIHRoaXMud3JpdGU9Xyx2b2lkKHRoaXMuZW5kPWgpO310aGlzLmxhc3ROZWVkPTAsdGhpcy5sYXN0VG90YWw9MCx0aGlzLmxhc3RDaGFyPW0uYWxsb2NVbnNhZmUodCl9ZnVuY3Rpb24gZChlKXtpZigxMjc+PWUpcmV0dXJuIDA7cmV0dXJuIDY9PWU+PjU/MjoxND09ZT4+ND8zOjMwPT1lPj4zPzQ6Mj09ZT4+Nj8tMTotMn1mdW5jdGlvbiBzKGUsdCxuKXt2YXIgcj10Lmxlbmd0aC0xO2lmKHI8bilyZXR1cm4gMDt2YXIgYT1kKHRbcl0pO3JldHVybiAwPD1hPygwPGEmJihlLmxhc3ROZWVkPWEtMSksYSk6LS1yPG58fC0yPT09YT8wOihhPWQodFtyXSksMDw9YSk/KDA8YSYmKGUubGFzdE5lZWQ9YS0yKSxhKTotLXI8bnx8LTI9PT1hPzA6KGE9ZCh0W3JdKSwwPD1hPygwPGEmJigyPT09YT9hPTA6ZS5sYXN0TmVlZD1hLTMpLGEpOjApfWZ1bmN0aW9uIGwoZSx0KXtpZigxMjghPSgxOTImdFswXSkpcmV0dXJuIGUubGFzdE5lZWQ9MCwiXHVGRkZEIjtpZigxPGUubGFzdE5lZWQmJjE8dC5sZW5ndGgpe2lmKDEyOCE9KDE5MiZ0WzFdKSlyZXR1cm4gZS5sYXN0TmVlZD0xLCJcdUZGRkQiO2lmKDI8ZS5sYXN0TmVlZCYmMjx0Lmxlbmd0aCYmMTI4IT0oMTkyJnRbMl0pKXJldHVybiBlLmxhc3ROZWVkPTIsIlx1RkZGRCJ9fWZ1bmN0aW9uIGMoZSl7dmFyIHQ9dGhpcy5sYXN0VG90YWwtdGhpcy5sYXN0TmVlZCxuPWwodGhpcyxlLHQpO3JldHVybiB2b2lkIDA9PT1uP3RoaXMubGFzdE5lZWQ8PWUubGVuZ3RoPyhlLmNvcHkodGhpcy5sYXN0Q2hhcix0LDAsdGhpcy5sYXN0TmVlZCksdGhpcy5sYXN0Q2hhci50b1N0cmluZyh0aGlzLmVuY29kaW5nLDAsdGhpcy5sYXN0VG90YWwpKTp2b2lkKGUuY29weSh0aGlzLmxhc3RDaGFyLHQsMCxlLmxlbmd0aCksdGhpcy5sYXN0TmVlZC09ZS5sZW5ndGgpOm59ZnVuY3Rpb24gdShlLHQpe2lmKDA9PShlLmxlbmd0aC10KSUyKXt2YXIgbj1lLnRvU3RyaW5nKCJ1dGYxNmxlIix0KTtpZihuKXt2YXIgcj1uLmNoYXJDb2RlQXQobi5sZW5ndGgtMSk7aWYoNTUyOTY8PXImJjU2MzE5Pj1yKXJldHVybiB0aGlzLmxhc3ROZWVkPTIsdGhpcy5sYXN0VG90YWw9NCx0aGlzLmxhc3RDaGFyWzBdPWVbZS5sZW5ndGgtMl0sdGhpcy5sYXN0Q2hhclsxXT1lW2UubGVuZ3RoLTFdLG4uc2xpY2UoMCwtMSl9cmV0dXJuIG59cmV0dXJuIHRoaXMubGFzdE5lZWQ9MSx0aGlzLmxhc3RUb3RhbD0yLHRoaXMubGFzdENoYXJbMF09ZVtlLmxlbmd0aC0xXSxlLnRvU3RyaW5nKCJ1dGYxNmxlIix0LGUubGVuZ3RoLTEpfWZ1bmN0aW9uIHAoZSl7dmFyIHQ9ZSYmZS5sZW5ndGg/dGhpcy53cml0ZShlKToiIjtpZih0aGlzLmxhc3ROZWVkKXt2YXIgbj10aGlzLmxhc3RUb3RhbC10aGlzLmxhc3ROZWVkO3JldHVybiB0K3RoaXMubGFzdENoYXIudG9TdHJpbmcoInV0ZjE2bGUiLDAsbil9cmV0dXJuIHR9ZnVuY3Rpb24gZihlLHQpe3ZhciByPShlLmxlbmd0aC10KSUzO3JldHVybiAwPT1yP2UudG9TdHJpbmcoImJhc2U2NCIsdCk6KHRoaXMubGFzdE5lZWQ9My1yLHRoaXMubGFzdFRvdGFsPTMsMT09cj90aGlzLmxhc3RDaGFyWzBdPWVbZS5sZW5ndGgtMV06KHRoaXMubGFzdENoYXJbMF09ZVtlLmxlbmd0aC0yXSx0aGlzLmxhc3RDaGFyWzFdPWVbZS5sZW5ndGgtMV0pLGUudG9TdHJpbmcoImJhc2U2NCIsdCxlLmxlbmd0aC1yKSl9ZnVuY3Rpb24gZyhlKXt2YXIgdD1lJiZlLmxlbmd0aD90aGlzLndyaXRlKGUpOiIiO3JldHVybiB0aGlzLmxhc3ROZWVkP3QrdGhpcy5sYXN0Q2hhci50b1N0cmluZygiYmFzZTY0IiwwLDMtdGhpcy5sYXN0TmVlZCk6dH1mdW5jdGlvbiBfKGUpe3JldHVybiBlLnRvU3RyaW5nKHRoaXMuZW5jb2RpbmcpfWZ1bmN0aW9uIGgoZSl7cmV0dXJuIGUmJmUubGVuZ3RoP3RoaXMud3JpdGUoZSk6IiJ9dmFyIG09ZSgic2FmZS1idWZmZXIiKS5CdWZmZXIsYj1tLmlzRW5jb2Rpbmd8fGZ1bmN0aW9uKGUpe3N3aXRjaChlPSIiK2UsZSYmZS50b0xvd2VyQ2FzZSgpKXtjYXNlImhleCI6Y2FzZSJ1dGY4IjpjYXNlInV0Zi04IjpjYXNlImFzY2lpIjpjYXNlImJpbmFyeSI6Y2FzZSJiYXNlNjQiOmNhc2UidWNzMiI6Y2FzZSJ1Y3MtMiI6Y2FzZSJ1dGYxNmxlIjpjYXNlInV0Zi0xNmxlIjpjYXNlInJhdyI6cmV0dXJuITA7ZGVmYXVsdDpyZXR1cm4hMTt9fTtuLlN0cmluZ0RlY29kZXI9byxvLnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbihlKXtpZigwPT09ZS5sZW5ndGgpcmV0dXJuIiI7dmFyIHQsbjtpZih0aGlzLmxhc3ROZWVkKXtpZih0PXRoaXMuZmlsbExhc3QoZSksdm9pZCAwPT09dClyZXR1cm4iIjtuPXRoaXMubGFzdE5lZWQsdGhpcy5sYXN0TmVlZD0wfWVsc2Ugbj0wO3JldHVybiBuPGUubGVuZ3RoP3Q/dCt0aGlzLnRleHQoZSxuKTp0aGlzLnRleHQoZSxuKTp0fHwiIn0sby5wcm90b3R5cGUuZW5kPWZ1bmN0aW9uKGUpe3ZhciB0PWUmJmUubGVuZ3RoP3RoaXMud3JpdGUoZSk6IiI7cmV0dXJuIHRoaXMubGFzdE5lZWQ/dCsiXHVGRkZEIjp0fSxvLnByb3RvdHlwZS50ZXh0PWZ1bmN0aW9uKGUsdCl7dmFyIG49cyh0aGlzLGUsdCk7aWYoIXRoaXMubGFzdE5lZWQpcmV0dXJuIGUudG9TdHJpbmcoInV0ZjgiLHQpO3RoaXMubGFzdFRvdGFsPW47dmFyIHI9ZS5sZW5ndGgtKG4tdGhpcy5sYXN0TmVlZCk7cmV0dXJuIGUuY29weSh0aGlzLmxhc3RDaGFyLDAsciksZS50b1N0cmluZygidXRmOCIsdCxyKX0sby5wcm90b3R5cGUuZmlsbExhc3Q9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMubGFzdE5lZWQ8PWUubGVuZ3RoPyhlLmNvcHkodGhpcy5sYXN0Q2hhcix0aGlzLmxhc3RUb3RhbC10aGlzLmxhc3ROZWVkLDAsdGhpcy5sYXN0TmVlZCksdGhpcy5sYXN0Q2hhci50b1N0cmluZyh0aGlzLmVuY29kaW5nLDAsdGhpcy5sYXN0VG90YWwpKTp2b2lkKGUuY29weSh0aGlzLmxhc3RDaGFyLHRoaXMubGFzdFRvdGFsLXRoaXMubGFzdE5lZWQsMCxlLmxlbmd0aCksdGhpcy5sYXN0TmVlZC09ZS5sZW5ndGgpfX0seyJzYWZlLWJ1ZmZlciI6MzB9XSwzMjpbZnVuY3Rpb24oZSx0KXsoZnVuY3Rpb24oZSl7KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gbih0KXt0cnl7aWYoIWUubG9jYWxTdG9yYWdlKXJldHVybiExfWNhdGNoKGUpe3JldHVybiExfXZhciBuPWUubG9jYWxTdG9yYWdlW3RdO3JldHVybiBudWxsIT1uJiYidHJ1ZSI9PT0obisiIikudG9Mb3dlckNhc2UoKX10LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiByKCl7aWYoIWEpe2lmKG4oInRocm93RGVwcmVjYXRpb24iKSl0aHJvdyBuZXcgRXJyb3IodCk7ZWxzZSBuKCJ0cmFjZURlcHJlY2F0aW9uIik/Y29uc29sZS50cmFjZSh0KTpjb25zb2xlLndhcm4odCk7YT0hMH1yZXR1cm4gZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9aWYobigibm9EZXByZWNhdGlvbiIpKXJldHVybiBlO3ZhciBhPSExO3JldHVybiByfX0pLmNhbGwodGhpcyl9KS5jYWxsKHRoaXMsInVuZGVmaW5lZCI9PXR5cGVvZiBnbG9iYWw/InVuZGVmaW5lZCI9PXR5cGVvZiBzZWxmPyJ1bmRlZmluZWQiPT10eXBlb2Ygd2luZG93P3t9OndpbmRvdzpzZWxmOmdsb2JhbCl9LHt9XSwiLyI6W2Z1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZS5yZXBsYWNlKC9hPWljZS1vcHRpb25zOnRyaWNrbGVcc1xuL2csIiIpfWZ1bmN0aW9uIHIoZSl7Y29uc29sZS53YXJuKGUpfS8qISBzaW1wbGUtcGVlci4gTUlUIExpY2Vuc2UuIEZlcm9zcyBBYm91a2hhZGlqZWggPGh0dHBzOi8vZmVyb3NzLm9yZy9vcGVuc291cmNlPiAqL2NvbnN0IGE9ZSgiZGVidWciKSgic2ltcGxlLXBlZXIiKSxvPWUoImdldC1icm93c2VyLXJ0YyIpLGk9ZSgicmFuZG9tYnl0ZXMiKSxkPWUoInJlYWRhYmxlLXN0cmVhbSIpLHM9ZSgicXVldWUtbWljcm90YXNrIiksbD1lKCJlcnItY29kZSIpLHtCdWZmZXI6Y309ZSgiYnVmZmVyIiksdT02NTUzNjtjbGFzcyBwIGV4dGVuZHMgZC5EdXBsZXh7Y29uc3RydWN0b3IoZSl7aWYoZT1PYmplY3QuYXNzaWduKHthbGxvd0hhbGZPcGVuOiExfSxlKSxzdXBlcihlKSx0aGlzLl9pZD1pKDQpLnRvU3RyaW5nKCJoZXgiKS5zbGljZSgwLDcpLHRoaXMuX2RlYnVnKCJuZXcgcGVlciAlbyIsZSksdGhpcy5jaGFubmVsTmFtZT1lLmluaXRpYXRvcj9lLmNoYW5uZWxOYW1lfHxpKDIwKS50b1N0cmluZygiaGV4Iik6bnVsbCx0aGlzLmluaXRpYXRvcj1lLmluaXRpYXRvcnx8ITEsdGhpcy5jaGFubmVsQ29uZmlnPWUuY2hhbm5lbENvbmZpZ3x8cC5jaGFubmVsQ29uZmlnLHRoaXMuY2hhbm5lbE5lZ290aWF0ZWQ9dGhpcy5jaGFubmVsQ29uZmlnLm5lZ290aWF0ZWQsdGhpcy5jb25maWc9T2JqZWN0LmFzc2lnbih7fSxwLmNvbmZpZyxlLmNvbmZpZyksdGhpcy5vZmZlck9wdGlvbnM9ZS5vZmZlck9wdGlvbnN8fHt9LHRoaXMuYW5zd2VyT3B0aW9ucz1lLmFuc3dlck9wdGlvbnN8fHt9LHRoaXMuc2RwVHJhbnNmb3JtPWUuc2RwVHJhbnNmb3JtfHwoZT0+ZSksdGhpcy5zdHJlYW1zPWUuc3RyZWFtc3x8KGUuc3RyZWFtP1tlLnN0cmVhbV06W10pLHRoaXMudHJpY2tsZT12b2lkIDA9PT1lLnRyaWNrbGV8fGUudHJpY2tsZSx0aGlzLmFsbG93SGFsZlRyaWNrbGU9dm9pZCAwIT09ZS5hbGxvd0hhbGZUcmlja2xlJiZlLmFsbG93SGFsZlRyaWNrbGUsdGhpcy5pY2VDb21wbGV0ZVRpbWVvdXQ9ZS5pY2VDb21wbGV0ZVRpbWVvdXR8fDUwMDAsdGhpcy5kZXN0cm95ZWQ9ITEsdGhpcy5kZXN0cm95aW5nPSExLHRoaXMuX2Nvbm5lY3RlZD0hMSx0aGlzLnJlbW90ZUFkZHJlc3M9dm9pZCAwLHRoaXMucmVtb3RlRmFtaWx5PXZvaWQgMCx0aGlzLnJlbW90ZVBvcnQ9dm9pZCAwLHRoaXMubG9jYWxBZGRyZXNzPXZvaWQgMCx0aGlzLmxvY2FsRmFtaWx5PXZvaWQgMCx0aGlzLmxvY2FsUG9ydD12b2lkIDAsdGhpcy5fd3J0Yz1lLndydGMmJiJvYmplY3QiPT10eXBlb2YgZS53cnRjP2Uud3J0YzpvKCksIXRoaXMuX3dydGMpaWYoInVuZGVmaW5lZCI9PXR5cGVvZiB3aW5kb3cpdGhyb3cgbChuZXcgRXJyb3IoIk5vIFdlYlJUQyBzdXBwb3J0OiBTcGVjaWZ5IGBvcHRzLndydGNgIG9wdGlvbiBpbiB0aGlzIGVudmlyb25tZW50IiksIkVSUl9XRUJSVENfU1VQUE9SVCIpO2Vsc2UgdGhyb3cgbChuZXcgRXJyb3IoIk5vIFdlYlJUQyBzdXBwb3J0OiBOb3QgYSBzdXBwb3J0ZWQgYnJvd3NlciIpLCJFUlJfV0VCUlRDX1NVUFBPUlQiKTt0aGlzLl9wY1JlYWR5PSExLHRoaXMuX2NoYW5uZWxSZWFkeT0hMSx0aGlzLl9pY2VDb21wbGV0ZT0hMSx0aGlzLl9pY2VDb21wbGV0ZVRpbWVyPW51bGwsdGhpcy5fY2hhbm5lbD1udWxsLHRoaXMuX3BlbmRpbmdDYW5kaWRhdGVzPVtdLHRoaXMuX2lzTmVnb3RpYXRpbmc9ITEsdGhpcy5fZmlyc3ROZWdvdGlhdGlvbj0hMCx0aGlzLl9iYXRjaGVkTmVnb3RpYXRpb249ITEsdGhpcy5fcXVldWVkTmVnb3RpYXRpb249ITEsdGhpcy5fc2VuZGVyc0F3YWl0aW5nU3RhYmxlPVtdLHRoaXMuX3NlbmRlck1hcD1uZXcgTWFwLHRoaXMuX2Nsb3NpbmdJbnRlcnZhbD1udWxsLHRoaXMuX3JlbW90ZVRyYWNrcz1bXSx0aGlzLl9yZW1vdGVTdHJlYW1zPVtdLHRoaXMuX2NodW5rPW51bGwsdGhpcy5fY2I9bnVsbCx0aGlzLl9pbnRlcnZhbD1udWxsO3RyeXt0aGlzLl9wYz1uZXcgdGhpcy5fd3J0Yy5SVENQZWVyQ29ubmVjdGlvbih0aGlzLmNvbmZpZyl9Y2F0Y2goZSl7cmV0dXJuIHZvaWQgdGhpcy5kZXN0cm95KGwoZSwiRVJSX1BDX0NPTlNUUlVDVE9SIikpfXRoaXMuX2lzUmVhY3ROYXRpdmVXZWJydGM9Im51bWJlciI9PXR5cGVvZiB0aGlzLl9wYy5fcGVlckNvbm5lY3Rpb25JZCx0aGlzLl9wYy5vbmljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZT0oKT0+e3RoaXMuX29uSWNlU3RhdGVDaGFuZ2UoKX0sdGhpcy5fcGMub25pY2VnYXRoZXJpbmdzdGF0ZWNoYW5nZT0oKT0+e3RoaXMuX29uSWNlU3RhdGVDaGFuZ2UoKX0sdGhpcy5fcGMub25jb25uZWN0aW9uc3RhdGVjaGFuZ2U9KCk9Pnt0aGlzLl9vbkNvbm5lY3Rpb25TdGF0ZUNoYW5nZSgpfSx0aGlzLl9wYy5vbnNpZ25hbGluZ3N0YXRlY2hhbmdlPSgpPT57dGhpcy5fb25TaWduYWxpbmdTdGF0ZUNoYW5nZSgpfSx0aGlzLl9wYy5vbmljZWNhbmRpZGF0ZT1lPT57dGhpcy5fb25JY2VDYW5kaWRhdGUoZSl9LCJvYmplY3QiPT10eXBlb2YgdGhpcy5fcGMucGVlcklkZW50aXR5JiZ0aGlzLl9wYy5wZWVySWRlbnRpdHkuY2F0Y2goZT0+e3RoaXMuZGVzdHJveShsKGUsIkVSUl9QQ19QRUVSX0lERU5USVRZIikpfSksdGhpcy5pbml0aWF0b3J8fHRoaXMuY2hhbm5lbE5lZ290aWF0ZWQ/dGhpcy5fc2V0dXBEYXRhKHtjaGFubmVsOnRoaXMuX3BjLmNyZWF0ZURhdGFDaGFubmVsKHRoaXMuY2hhbm5lbE5hbWUsdGhpcy5jaGFubmVsQ29uZmlnKX0pOnRoaXMuX3BjLm9uZGF0YWNoYW5uZWw9ZT0+e3RoaXMuX3NldHVwRGF0YShlKX0sdGhpcy5zdHJlYW1zJiZ0aGlzLnN0cmVhbXMuZm9yRWFjaChlPT57dGhpcy5hZGRTdHJlYW0oZSl9KSx0aGlzLl9wYy5vbnRyYWNrPWU9Pnt0aGlzLl9vblRyYWNrKGUpfSx0aGlzLl9kZWJ1ZygiaW5pdGlhbCBuZWdvdGlhdGlvbiIpLHRoaXMuX25lZWRzTmVnb3RpYXRpb24oKSx0aGlzLl9vbkZpbmlzaEJvdW5kPSgpPT57dGhpcy5fb25GaW5pc2goKX0sdGhpcy5vbmNlKCJmaW5pc2giLHRoaXMuX29uRmluaXNoQm91bmQpfWdldCBidWZmZXJTaXplKCl7cmV0dXJuIHRoaXMuX2NoYW5uZWwmJnRoaXMuX2NoYW5uZWwuYnVmZmVyZWRBbW91bnR8fDB9Z2V0IGNvbm5lY3RlZCgpe3JldHVybiB0aGlzLl9jb25uZWN0ZWQmJiJvcGVuIj09PXRoaXMuX2NoYW5uZWwucmVhZHlTdGF0ZX1hZGRyZXNzKCl7cmV0dXJue3BvcnQ6dGhpcy5sb2NhbFBvcnQsZmFtaWx5OnRoaXMubG9jYWxGYW1pbHksYWRkcmVzczp0aGlzLmxvY2FsQWRkcmVzc319c2lnbmFsKGUpe2lmKCF0aGlzLmRlc3Ryb3lpbmcpe2lmKHRoaXMuZGVzdHJveWVkKXRocm93IGwobmV3IEVycm9yKCJjYW5ub3Qgc2lnbmFsIGFmdGVyIHBlZXIgaXMgZGVzdHJveWVkIiksIkVSUl9ERVNUUk9ZRUQiKTtpZigic3RyaW5nIj09dHlwZW9mIGUpdHJ5e2U9SlNPTi5wYXJzZShlKX1jYXRjaCh0KXtlPXt9fXRoaXMuX2RlYnVnKCJzaWduYWwoKSIpLGUucmVuZWdvdGlhdGUmJnRoaXMuaW5pdGlhdG9yJiYodGhpcy5fZGVidWcoImdvdCByZXF1ZXN0IHRvIHJlbmVnb3RpYXRlIiksdGhpcy5fbmVlZHNOZWdvdGlhdGlvbigpKSxlLnRyYW5zY2VpdmVyUmVxdWVzdCYmdGhpcy5pbml0aWF0b3ImJih0aGlzLl9kZWJ1ZygiZ290IHJlcXVlc3QgZm9yIHRyYW5zY2VpdmVyIiksdGhpcy5hZGRUcmFuc2NlaXZlcihlLnRyYW5zY2VpdmVyUmVxdWVzdC5raW5kLGUudHJhbnNjZWl2ZXJSZXF1ZXN0LmluaXQpKSxlLmNhbmRpZGF0ZSYmKHRoaXMuX3BjLnJlbW90ZURlc2NyaXB0aW9uJiZ0aGlzLl9wYy5yZW1vdGVEZXNjcmlwdGlvbi50eXBlP3RoaXMuX2FkZEljZUNhbmRpZGF0ZShlLmNhbmRpZGF0ZSk6dGhpcy5fcGVuZGluZ0NhbmRpZGF0ZXMucHVzaChlLmNhbmRpZGF0ZSkpLGUuc2RwJiZ0aGlzLl9wYy5zZXRSZW1vdGVEZXNjcmlwdGlvbihuZXcgdGhpcy5fd3J0Yy5SVENTZXNzaW9uRGVzY3JpcHRpb24oZSkpLnRoZW4oKCk9Pnt0aGlzLmRlc3Ryb3llZHx8KHRoaXMuX3BlbmRpbmdDYW5kaWRhdGVzLmZvckVhY2goZT0+e3RoaXMuX2FkZEljZUNhbmRpZGF0ZShlKX0pLHRoaXMuX3BlbmRpbmdDYW5kaWRhdGVzPVtdLCJvZmZlciI9PT10aGlzLl9wYy5yZW1vdGVEZXNjcmlwdGlvbi50eXBlJiZ0aGlzLl9jcmVhdGVBbnN3ZXIoKSl9KS5jYXRjaChlPT57dGhpcy5kZXN0cm95KGwoZSwiRVJSX1NFVF9SRU1PVEVfREVTQ1JJUFRJT04iKSl9KSxlLnNkcHx8ZS5jYW5kaWRhdGV8fGUucmVuZWdvdGlhdGV8fGUudHJhbnNjZWl2ZXJSZXF1ZXN0fHx0aGlzLmRlc3Ryb3kobChuZXcgRXJyb3IoInNpZ25hbCgpIGNhbGxlZCB3aXRoIGludmFsaWQgc2lnbmFsIGRhdGEiKSwiRVJSX1NJR05BTElORyIpKX19X2FkZEljZUNhbmRpZGF0ZShlKXtjb25zdCB0PW5ldyB0aGlzLl93cnRjLlJUQ0ljZUNhbmRpZGF0ZShlKTt0aGlzLl9wYy5hZGRJY2VDYW5kaWRhdGUodCkuY2F0Y2goZT0+eyF0LmFkZHJlc3N8fHQuYWRkcmVzcy5lbmRzV2l0aCgiLmxvY2FsIik/cigiSWdub3JpbmcgdW5zdXBwb3J0ZWQgSUNFIGNhbmRpZGF0ZS4iKTp0aGlzLmRlc3Ryb3kobChlLCJFUlJfQUREX0lDRV9DQU5ESURBVEUiKSl9KX1zZW5kKGUpe2lmKCF0aGlzLmRlc3Ryb3lpbmcpe2lmKHRoaXMuZGVzdHJveWVkKXRocm93IGwobmV3IEVycm9yKCJjYW5ub3Qgc2VuZCBhZnRlciBwZWVyIGlzIGRlc3Ryb3llZCIpLCJFUlJfREVTVFJPWUVEIik7dGhpcy5fY2hhbm5lbC5zZW5kKGUpfX1hZGRUcmFuc2NlaXZlcihlLHQpe2lmKCF0aGlzLmRlc3Ryb3lpbmcpe2lmKHRoaXMuZGVzdHJveWVkKXRocm93IGwobmV3IEVycm9yKCJjYW5ub3QgYWRkVHJhbnNjZWl2ZXIgYWZ0ZXIgcGVlciBpcyBkZXN0cm95ZWQiKSwiRVJSX0RFU1RST1lFRCIpO2lmKHRoaXMuX2RlYnVnKCJhZGRUcmFuc2NlaXZlcigpIiksdGhpcy5pbml0aWF0b3IpdHJ5e3RoaXMuX3BjLmFkZFRyYW5zY2VpdmVyKGUsdCksdGhpcy5fbmVlZHNOZWdvdGlhdGlvbigpfWNhdGNoKGUpe3RoaXMuZGVzdHJveShsKGUsIkVSUl9BRERfVFJBTlNDRUlWRVIiKSl9ZWxzZSB0aGlzLmVtaXQoInNpZ25hbCIse3R5cGU6InRyYW5zY2VpdmVyUmVxdWVzdCIsdHJhbnNjZWl2ZXJSZXF1ZXN0OntraW5kOmUsaW5pdDp0fX0pfX1hZGRTdHJlYW0oZSl7aWYoIXRoaXMuZGVzdHJveWluZyl7aWYodGhpcy5kZXN0cm95ZWQpdGhyb3cgbChuZXcgRXJyb3IoImNhbm5vdCBhZGRTdHJlYW0gYWZ0ZXIgcGVlciBpcyBkZXN0cm95ZWQiKSwiRVJSX0RFU1RST1lFRCIpO3RoaXMuX2RlYnVnKCJhZGRTdHJlYW0oKSIpLGUuZ2V0VHJhY2tzKCkuZm9yRWFjaCh0PT57dGhpcy5hZGRUcmFjayh0LGUpfSl9fWFkZFRyYWNrKGUsdCl7aWYodGhpcy5kZXN0cm95aW5nKXJldHVybjtpZih0aGlzLmRlc3Ryb3llZCl0aHJvdyBsKG5ldyBFcnJvcigiY2Fubm90IGFkZFRyYWNrIGFmdGVyIHBlZXIgaXMgZGVzdHJveWVkIiksIkVSUl9ERVNUUk9ZRUQiKTt0aGlzLl9kZWJ1ZygiYWRkVHJhY2soKSIpO2NvbnN0IG49dGhpcy5fc2VuZGVyTWFwLmdldChlKXx8bmV3IE1hcDtsZXQgcj1uLmdldCh0KTtpZighcilyPXRoaXMuX3BjLmFkZFRyYWNrKGUsdCksbi5zZXQodCxyKSx0aGlzLl9zZW5kZXJNYXAuc2V0KGUsbiksdGhpcy5fbmVlZHNOZWdvdGlhdGlvbigpO2Vsc2UgaWYoci5yZW1vdmVkKXRocm93IGwobmV3IEVycm9yKCJUcmFjayBoYXMgYmVlbiByZW1vdmVkLiBZb3Ugc2hvdWxkIGVuYWJsZS9kaXNhYmxlIHRyYWNrcyB0aGF0IHlvdSB3YW50IHRvIHJlLWFkZC4iKSwiRVJSX1NFTkRFUl9SRU1PVkVEIik7ZWxzZSB0aHJvdyBsKG5ldyBFcnJvcigiVHJhY2sgaGFzIGFscmVhZHkgYmVlbiBhZGRlZCB0byB0aGF0IHN0cmVhbS4iKSwiRVJSX1NFTkRFUl9BTFJFQURZX0FEREVEIil9cmVwbGFjZVRyYWNrKGUsdCxuKXtpZih0aGlzLmRlc3Ryb3lpbmcpcmV0dXJuO2lmKHRoaXMuZGVzdHJveWVkKXRocm93IGwobmV3IEVycm9yKCJjYW5ub3QgcmVwbGFjZVRyYWNrIGFmdGVyIHBlZXIgaXMgZGVzdHJveWVkIiksIkVSUl9ERVNUUk9ZRUQiKTt0aGlzLl9kZWJ1ZygicmVwbGFjZVRyYWNrKCkiKTtjb25zdCByPXRoaXMuX3NlbmRlck1hcC5nZXQoZSksYT1yP3IuZ2V0KG4pOm51bGw7aWYoIWEpdGhyb3cgbChuZXcgRXJyb3IoIkNhbm5vdCByZXBsYWNlIHRyYWNrIHRoYXQgd2FzIG5ldmVyIGFkZGVkLiIpLCJFUlJfVFJBQ0tfTk9UX0FEREVEIik7dCYmdGhpcy5fc2VuZGVyTWFwLnNldCh0LHIpLG51bGw9PWEucmVwbGFjZVRyYWNrP3RoaXMuZGVzdHJveShsKG5ldyBFcnJvcigicmVwbGFjZVRyYWNrIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBicm93c2VyIiksIkVSUl9VTlNVUFBPUlRFRF9SRVBMQUNFVFJBQ0siKSk6YS5yZXBsYWNlVHJhY2sodCl9cmVtb3ZlVHJhY2soZSx0KXtpZih0aGlzLmRlc3Ryb3lpbmcpcmV0dXJuO2lmKHRoaXMuZGVzdHJveWVkKXRocm93IGwobmV3IEVycm9yKCJjYW5ub3QgcmVtb3ZlVHJhY2sgYWZ0ZXIgcGVlciBpcyBkZXN0cm95ZWQiKSwiRVJSX0RFU1RST1lFRCIpO3RoaXMuX2RlYnVnKCJyZW1vdmVTZW5kZXIoKSIpO2NvbnN0IG49dGhpcy5fc2VuZGVyTWFwLmdldChlKSxyPW4/bi5nZXQodCk6bnVsbDtpZighcil0aHJvdyBsKG5ldyBFcnJvcigiQ2Fubm90IHJlbW92ZSB0cmFjayB0aGF0IHdhcyBuZXZlciBhZGRlZC4iKSwiRVJSX1RSQUNLX05PVF9BRERFRCIpO3RyeXtyLnJlbW92ZWQ9ITAsdGhpcy5fcGMucmVtb3ZlVHJhY2socil9Y2F0Y2goZSl7Ik5TX0VSUk9SX1VORVhQRUNURUQiPT09ZS5uYW1lP3RoaXMuX3NlbmRlcnNBd2FpdGluZ1N0YWJsZS5wdXNoKHIpOnRoaXMuZGVzdHJveShsKGUsIkVSUl9SRU1PVkVfVFJBQ0siKSl9dGhpcy5fbmVlZHNOZWdvdGlhdGlvbigpfXJlbW92ZVN0cmVhbShlKXtpZighdGhpcy5kZXN0cm95aW5nKXtpZih0aGlzLmRlc3Ryb3llZCl0aHJvdyBsKG5ldyBFcnJvcigiY2Fubm90IHJlbW92ZVN0cmVhbSBhZnRlciBwZWVyIGlzIGRlc3Ryb3llZCIpLCJFUlJfREVTVFJPWUVEIik7dGhpcy5fZGVidWcoInJlbW92ZVNlbmRlcnMoKSIpLGUuZ2V0VHJhY2tzKCkuZm9yRWFjaCh0PT57dGhpcy5yZW1vdmVUcmFjayh0LGUpfSl9fV9uZWVkc05lZ290aWF0aW9uKCl7dGhpcy5fZGVidWcoIl9uZWVkc05lZ290aWF0aW9uIiksdGhpcy5fYmF0Y2hlZE5lZ290aWF0aW9ufHwodGhpcy5fYmF0Y2hlZE5lZ290aWF0aW9uPSEwLHMoKCk9Pnt0aGlzLl9iYXRjaGVkTmVnb3RpYXRpb249ITEsdGhpcy5pbml0aWF0b3J8fCF0aGlzLl9maXJzdE5lZ290aWF0aW9uPyh0aGlzLl9kZWJ1Zygic3RhcnRpbmcgYmF0Y2hlZCBuZWdvdGlhdGlvbiIpLHRoaXMubmVnb3RpYXRlKCkpOnRoaXMuX2RlYnVnKCJub24taW5pdGlhdG9yIGluaXRpYWwgbmVnb3RpYXRpb24gcmVxdWVzdCBkaXNjYXJkZWQiKSx0aGlzLl9maXJzdE5lZ290aWF0aW9uPSExfSkpfW5lZ290aWF0ZSgpe2lmKCF0aGlzLmRlc3Ryb3lpbmcpe2lmKHRoaXMuZGVzdHJveWVkKXRocm93IGwobmV3IEVycm9yKCJjYW5ub3QgbmVnb3RpYXRlIGFmdGVyIHBlZXIgaXMgZGVzdHJveWVkIiksIkVSUl9ERVNUUk9ZRUQiKTt0aGlzLmluaXRpYXRvcj90aGlzLl9pc05lZ290aWF0aW5nPyh0aGlzLl9xdWV1ZWROZWdvdGlhdGlvbj0hMCx0aGlzLl9kZWJ1ZygiYWxyZWFkeSBuZWdvdGlhdGluZywgcXVldWVpbmciKSk6KHRoaXMuX2RlYnVnKCJzdGFydCBuZWdvdGlhdGlvbiIpLHNldFRpbWVvdXQoKCk9Pnt0aGlzLl9jcmVhdGVPZmZlcigpfSwwKSk6dGhpcy5faXNOZWdvdGlhdGluZz8odGhpcy5fcXVldWVkTmVnb3RpYXRpb249ITAsdGhpcy5fZGVidWcoImFscmVhZHkgbmVnb3RpYXRpbmcsIHF1ZXVlaW5nIikpOih0aGlzLl9kZWJ1ZygicmVxdWVzdGluZyBuZWdvdGlhdGlvbiBmcm9tIGluaXRpYXRvciIpLHRoaXMuZW1pdCgic2lnbmFsIix7dHlwZToicmVuZWdvdGlhdGUiLHJlbmVnb3RpYXRlOiEwfSkpLHRoaXMuX2lzTmVnb3RpYXRpbmc9ITB9fWRlc3Ryb3koZSl7dGhpcy5fZGVzdHJveShlLCgpPT57fSl9X2Rlc3Ryb3koZSx0KXt0aGlzLmRlc3Ryb3llZHx8dGhpcy5kZXN0cm95aW5nfHwodGhpcy5kZXN0cm95aW5nPSEwLHRoaXMuX2RlYnVnKCJkZXN0cm95aW5nIChlcnJvcjogJXMpIixlJiYoZS5tZXNzYWdlfHxlKSkscygoKT0+e2lmKHRoaXMuZGVzdHJveWVkPSEwLHRoaXMuZGVzdHJveWluZz0hMSx0aGlzLl9kZWJ1ZygiZGVzdHJveSAoZXJyb3I6ICVzKSIsZSYmKGUubWVzc2FnZXx8ZSkpLHRoaXMucmVhZGFibGU9dGhpcy53cml0YWJsZT0hMSx0aGlzLl9yZWFkYWJsZVN0YXRlLmVuZGVkfHx0aGlzLnB1c2gobnVsbCksdGhpcy5fd3JpdGFibGVTdGF0ZS5maW5pc2hlZHx8dGhpcy5lbmQoKSx0aGlzLl9jb25uZWN0ZWQ9ITEsdGhpcy5fcGNSZWFkeT0hMSx0aGlzLl9jaGFubmVsUmVhZHk9ITEsdGhpcy5fcmVtb3RlVHJhY2tzPW51bGwsdGhpcy5fcmVtb3RlU3RyZWFtcz1udWxsLHRoaXMuX3NlbmRlck1hcD1udWxsLGNsZWFySW50ZXJ2YWwodGhpcy5fY2xvc2luZ0ludGVydmFsKSx0aGlzLl9jbG9zaW5nSW50ZXJ2YWw9bnVsbCxjbGVhckludGVydmFsKHRoaXMuX2ludGVydmFsKSx0aGlzLl9pbnRlcnZhbD1udWxsLHRoaXMuX2NodW5rPW51bGwsdGhpcy5fY2I9bnVsbCx0aGlzLl9vbkZpbmlzaEJvdW5kJiZ0aGlzLnJlbW92ZUxpc3RlbmVyKCJmaW5pc2giLHRoaXMuX29uRmluaXNoQm91bmQpLHRoaXMuX29uRmluaXNoQm91bmQ9bnVsbCx0aGlzLl9jaGFubmVsKXt0cnl7dGhpcy5fY2hhbm5lbC5jbG9zZSgpfWNhdGNoKGUpe310aGlzLl9jaGFubmVsLm9ubWVzc2FnZT1udWxsLHRoaXMuX2NoYW5uZWwub25vcGVuPW51bGwsdGhpcy5fY2hhbm5lbC5vbmNsb3NlPW51bGwsdGhpcy5fY2hhbm5lbC5vbmVycm9yPW51bGx9aWYodGhpcy5fcGMpe3RyeXt0aGlzLl9wYy5jbG9zZSgpfWNhdGNoKGUpe310aGlzLl9wYy5vbmljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZT1udWxsLHRoaXMuX3BjLm9uaWNlZ2F0aGVyaW5nc3RhdGVjaGFuZ2U9bnVsbCx0aGlzLl9wYy5vbnNpZ25hbGluZ3N0YXRlY2hhbmdlPW51bGwsdGhpcy5fcGMub25pY2VjYW5kaWRhdGU9bnVsbCx0aGlzLl9wYy5vbnRyYWNrPW51bGwsdGhpcy5fcGMub25kYXRhY2hhbm5lbD1udWxsfXRoaXMuX3BjPW51bGwsdGhpcy5fY2hhbm5lbD1udWxsLGUmJnRoaXMuZW1pdCgiZXJyb3IiLGUpLHRoaXMuZW1pdCgiY2xvc2UiKSx0KCl9KSl9X3NldHVwRGF0YShlKXtpZighZS5jaGFubmVsKXJldHVybiB0aGlzLmRlc3Ryb3kobChuZXcgRXJyb3IoIkRhdGEgY2hhbm5lbCBldmVudCBpcyBtaXNzaW5nIGBjaGFubmVsYCBwcm9wZXJ0eSIpLCJFUlJfREFUQV9DSEFOTkVMIikpO3RoaXMuX2NoYW5uZWw9ZS5jaGFubmVsLHRoaXMuX2NoYW5uZWwuYmluYXJ5VHlwZT0iYXJyYXlidWZmZXIiLCJudW1iZXIiPT10eXBlb2YgdGhpcy5fY2hhbm5lbC5idWZmZXJlZEFtb3VudExvd1RocmVzaG9sZCYmKHRoaXMuX2NoYW5uZWwuYnVmZmVyZWRBbW91bnRMb3dUaHJlc2hvbGQ9dSksdGhpcy5jaGFubmVsTmFtZT10aGlzLl9jaGFubmVsLmxhYmVsLHRoaXMuX2NoYW5uZWwub25tZXNzYWdlPWU9Pnt0aGlzLl9vbkNoYW5uZWxNZXNzYWdlKGUpfSx0aGlzLl9jaGFubmVsLm9uYnVmZmVyZWRhbW91bnRsb3c9KCk9Pnt0aGlzLl9vbkNoYW5uZWxCdWZmZXJlZEFtb3VudExvdygpfSx0aGlzLl9jaGFubmVsLm9ub3Blbj0oKT0+e3RoaXMuX29uQ2hhbm5lbE9wZW4oKX0sdGhpcy5fY2hhbm5lbC5vbmNsb3NlPSgpPT57dGhpcy5fb25DaGFubmVsQ2xvc2UoKX0sdGhpcy5fY2hhbm5lbC5vbmVycm9yPWU9Pntjb25zdCB0PWUuZXJyb3IgaW5zdGFuY2VvZiBFcnJvcj9lLmVycm9yOm5ldyBFcnJvcihgRGF0YWNoYW5uZWwgZXJyb3I6ICR7ZS5tZXNzYWdlfSAke2UuZmlsZW5hbWV9OiR7ZS5saW5lbm99OiR7ZS5jb2xub31gKTt0aGlzLmRlc3Ryb3kobCh0LCJFUlJfREFUQV9DSEFOTkVMIikpfTtsZXQgdD0hMTt0aGlzLl9jbG9zaW5nSW50ZXJ2YWw9c2V0SW50ZXJ2YWwoKCk9Pnt0aGlzLl9jaGFubmVsJiYiY2xvc2luZyI9PT10aGlzLl9jaGFubmVsLnJlYWR5U3RhdGU/KHQmJnRoaXMuX29uQ2hhbm5lbENsb3NlKCksdD0hMCk6dD0hMX0sNTAwMCl9X3JlYWQoKXt9X3dyaXRlKGUsdCxuKXtpZih0aGlzLmRlc3Ryb3llZClyZXR1cm4gbihsKG5ldyBFcnJvcigiY2Fubm90IHdyaXRlIGFmdGVyIHBlZXIgaXMgZGVzdHJveWVkIiksIkVSUl9EQVRBX0NIQU5ORUwiKSk7aWYodGhpcy5fY29ubmVjdGVkKXt0cnl7dGhpcy5zZW5kKGUpfWNhdGNoKGUpe3JldHVybiB0aGlzLmRlc3Ryb3kobChlLCJFUlJfREFUQV9DSEFOTkVMIikpfXRoaXMuX2NoYW5uZWwuYnVmZmVyZWRBbW91bnQ+dT8odGhpcy5fZGVidWcoInN0YXJ0IGJhY2twcmVzc3VyZTogYnVmZmVyZWRBbW91bnQgJWQiLHRoaXMuX2NoYW5uZWwuYnVmZmVyZWRBbW91bnQpLHRoaXMuX2NiPW4pOm4obnVsbCl9ZWxzZSB0aGlzLl9kZWJ1Zygid3JpdGUgYmVmb3JlIGNvbm5lY3QiKSx0aGlzLl9jaHVuaz1lLHRoaXMuX2NiPW59X29uRmluaXNoKCl7aWYoIXRoaXMuZGVzdHJveWVkKXtjb25zdCBlPSgpPT57c2V0VGltZW91dCgoKT0+dGhpcy5kZXN0cm95KCksMWUzKX07dGhpcy5fY29ubmVjdGVkP2UoKTp0aGlzLm9uY2UoImNvbm5lY3QiLGUpfX1fc3RhcnRJY2VDb21wbGV0ZVRpbWVvdXQoKXt0aGlzLmRlc3Ryb3llZHx8dGhpcy5faWNlQ29tcGxldGVUaW1lcnx8KHRoaXMuX2RlYnVnKCJzdGFydGVkIGljZUNvbXBsZXRlIHRpbWVvdXQiKSx0aGlzLl9pY2VDb21wbGV0ZVRpbWVyPXNldFRpbWVvdXQoKCk9Pnt0aGlzLl9pY2VDb21wbGV0ZXx8KHRoaXMuX2ljZUNvbXBsZXRlPSEwLHRoaXMuX2RlYnVnKCJpY2VDb21wbGV0ZSB0aW1lb3V0IGNvbXBsZXRlZCIpLHRoaXMuZW1pdCgiaWNlVGltZW91dCIpLHRoaXMuZW1pdCgiX2ljZUNvbXBsZXRlIikpfSx0aGlzLmljZUNvbXBsZXRlVGltZW91dCkpfV9jcmVhdGVPZmZlcigpe3RoaXMuZGVzdHJveWVkfHx0aGlzLl9wYy5jcmVhdGVPZmZlcih0aGlzLm9mZmVyT3B0aW9ucykudGhlbihlPT57aWYodGhpcy5kZXN0cm95ZWQpcmV0dXJuO3RoaXMudHJpY2tsZXx8dGhpcy5hbGxvd0hhbGZUcmlja2xlfHwoZS5zZHA9bihlLnNkcCkpLGUuc2RwPXRoaXMuc2RwVHJhbnNmb3JtKGUuc2RwKTtjb25zdCB0PSgpPT57aWYoIXRoaXMuZGVzdHJveWVkKXtjb25zdCB0PXRoaXMuX3BjLmxvY2FsRGVzY3JpcHRpb258fGU7dGhpcy5fZGVidWcoInNpZ25hbCIpLHRoaXMuZW1pdCgic2lnbmFsIix7dHlwZTp0LnR5cGUsc2RwOnQuc2RwfSl9fTt0aGlzLl9wYy5zZXRMb2NhbERlc2NyaXB0aW9uKGUpLnRoZW4oKCk9Pnt0aGlzLl9kZWJ1ZygiY3JlYXRlT2ZmZXIgc3VjY2VzcyIpLHRoaXMuZGVzdHJveWVkfHwodGhpcy50cmlja2xlfHx0aGlzLl9pY2VDb21wbGV0ZT90KCk6dGhpcy5vbmNlKCJfaWNlQ29tcGxldGUiLHQpKX0pLmNhdGNoKGU9Pnt0aGlzLmRlc3Ryb3kobChlLCJFUlJfU0VUX0xPQ0FMX0RFU0NSSVBUSU9OIikpfSl9KS5jYXRjaChlPT57dGhpcy5kZXN0cm95KGwoZSwiRVJSX0NSRUFURV9PRkZFUiIpKX0pfV9yZXF1ZXN0TWlzc2luZ1RyYW5zY2VpdmVycygpe3RoaXMuX3BjLmdldFRyYW5zY2VpdmVycyYmdGhpcy5fcGMuZ2V0VHJhbnNjZWl2ZXJzKCkuZm9yRWFjaChlPT57ZS5taWR8fCFlLnNlbmRlci50cmFja3x8ZS5yZXF1ZXN0ZWR8fChlLnJlcXVlc3RlZD0hMCx0aGlzLmFkZFRyYW5zY2VpdmVyKGUuc2VuZGVyLnRyYWNrLmtpbmQpKX0pfV9jcmVhdGVBbnN3ZXIoKXt0aGlzLmRlc3Ryb3llZHx8dGhpcy5fcGMuY3JlYXRlQW5zd2VyKHRoaXMuYW5zd2VyT3B0aW9ucykudGhlbihlPT57aWYodGhpcy5kZXN0cm95ZWQpcmV0dXJuO3RoaXMudHJpY2tsZXx8dGhpcy5hbGxvd0hhbGZUcmlja2xlfHwoZS5zZHA9bihlLnNkcCkpLGUuc2RwPXRoaXMuc2RwVHJhbnNmb3JtKGUuc2RwKTtjb25zdCB0PSgpPT57aWYoIXRoaXMuZGVzdHJveWVkKXtjb25zdCB0PXRoaXMuX3BjLmxvY2FsRGVzY3JpcHRpb258fGU7dGhpcy5fZGVidWcoInNpZ25hbCIpLHRoaXMuZW1pdCgic2lnbmFsIix7dHlwZTp0LnR5cGUsc2RwOnQuc2RwfSksdGhpcy5pbml0aWF0b3J8fHRoaXMuX3JlcXVlc3RNaXNzaW5nVHJhbnNjZWl2ZXJzKCl9fTt0aGlzLl9wYy5zZXRMb2NhbERlc2NyaXB0aW9uKGUpLnRoZW4oKCk9Pnt0aGlzLmRlc3Ryb3llZHx8KHRoaXMudHJpY2tsZXx8dGhpcy5faWNlQ29tcGxldGU/dCgpOnRoaXMub25jZSgiX2ljZUNvbXBsZXRlIix0KSl9KS5jYXRjaChlPT57dGhpcy5kZXN0cm95KGwoZSwiRVJSX1NFVF9MT0NBTF9ERVNDUklQVElPTiIpKX0pfSkuY2F0Y2goZT0+e3RoaXMuZGVzdHJveShsKGUsIkVSUl9DUkVBVEVfQU5TV0VSIikpfSl9X29uQ29ubmVjdGlvblN0YXRlQ2hhbmdlKCl7dGhpcy5kZXN0cm95ZWR8fCJmYWlsZWQiPT09dGhpcy5fcGMuY29ubmVjdGlvblN0YXRlJiZ0aGlzLmRlc3Ryb3kobChuZXcgRXJyb3IoIkNvbm5lY3Rpb24gZmFpbGVkLiIpLCJFUlJfQ09OTkVDVElPTl9GQUlMVVJFIikpfV9vbkljZVN0YXRlQ2hhbmdlKCl7aWYodGhpcy5kZXN0cm95ZWQpcmV0dXJuO2NvbnN0IGU9dGhpcy5fcGMuaWNlQ29ubmVjdGlvblN0YXRlLHQ9dGhpcy5fcGMuaWNlR2F0aGVyaW5nU3RhdGU7dGhpcy5fZGVidWcoImljZVN0YXRlQ2hhbmdlIChjb25uZWN0aW9uOiAlcykgKGdhdGhlcmluZzogJXMpIixlLHQpLHRoaXMuZW1pdCgiaWNlU3RhdGVDaGFuZ2UiLGUsdCksKCJjb25uZWN0ZWQiPT09ZXx8ImNvbXBsZXRlZCI9PT1lKSYmKHRoaXMuX3BjUmVhZHk9ITAsdGhpcy5fbWF5YmVSZWFkeSgpKSwiZmFpbGVkIj09PWUmJnRoaXMuZGVzdHJveShsKG5ldyBFcnJvcigiSWNlIGNvbm5lY3Rpb24gZmFpbGVkLiIpLCJFUlJfSUNFX0NPTk5FQ1RJT05fRkFJTFVSRSIpKSwiY2xvc2VkIj09PWUmJnRoaXMuZGVzdHJveShsKG5ldyBFcnJvcigiSWNlIGNvbm5lY3Rpb24gY2xvc2VkLiIpLCJFUlJfSUNFX0NPTk5FQ1RJT05fQ0xPU0VEIikpfWdldFN0YXRzKGUpe2NvbnN0IHQ9ZT0+KCJbb2JqZWN0IEFycmF5XSI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZS52YWx1ZXMpJiZlLnZhbHVlcy5mb3JFYWNoKHQ9PntPYmplY3QuYXNzaWduKGUsdCl9KSxlKTswPT09dGhpcy5fcGMuZ2V0U3RhdHMubGVuZ3RofHx0aGlzLl9pc1JlYWN0TmF0aXZlV2VicnRjP3RoaXMuX3BjLmdldFN0YXRzKCkudGhlbihuPT57Y29uc3Qgcj1bXTtuLmZvckVhY2goZT0+e3IucHVzaCh0KGUpKX0pLGUobnVsbCxyKX0sdD0+ZSh0KSk6MDx0aGlzLl9wYy5nZXRTdGF0cy5sZW5ndGg/dGhpcy5fcGMuZ2V0U3RhdHMobj0+e2lmKHRoaXMuZGVzdHJveWVkKXJldHVybjtjb25zdCByPVtdO24ucmVzdWx0KCkuZm9yRWFjaChlPT57Y29uc3Qgbj17fTtlLm5hbWVzKCkuZm9yRWFjaCh0PT57blt0XT1lLnN0YXQodCl9KSxuLmlkPWUuaWQsbi50eXBlPWUudHlwZSxuLnRpbWVzdGFtcD1lLnRpbWVzdGFtcCxyLnB1c2godChuKSl9KSxlKG51bGwscil9LHQ9PmUodCkpOmUobnVsbCxbXSl9X21heWJlUmVhZHkoKXtpZih0aGlzLl9kZWJ1ZygibWF5YmVSZWFkeSBwYyAlcyBjaGFubmVsICVzIix0aGlzLl9wY1JlYWR5LHRoaXMuX2NoYW5uZWxSZWFkeSksdGhpcy5fY29ubmVjdGVkfHx0aGlzLl9jb25uZWN0aW5nfHwhdGhpcy5fcGNSZWFkeXx8IXRoaXMuX2NoYW5uZWxSZWFkeSlyZXR1cm47dGhpcy5fY29ubmVjdGluZz0hMDtjb25zdCBlPSgpPT57dGhpcy5kZXN0cm95ZWR8fHRoaXMuZ2V0U3RhdHMoKHQsbik9PntpZih0aGlzLmRlc3Ryb3llZClyZXR1cm47dCYmKG49W10pO2NvbnN0IHI9e30sYT17fSxvPXt9O2xldCBpPSExO24uZm9yRWFjaChlPT57KCJyZW1vdGVjYW5kaWRhdGUiPT09ZS50eXBlfHwicmVtb3RlLWNhbmRpZGF0ZSI9PT1lLnR5cGUpJiYocltlLmlkXT1lKSwoImxvY2FsY2FuZGlkYXRlIj09PWUudHlwZXx8ImxvY2FsLWNhbmRpZGF0ZSI9PT1lLnR5cGUpJiYoYVtlLmlkXT1lKSwoImNhbmRpZGF0ZXBhaXIiPT09ZS50eXBlfHwiY2FuZGlkYXRlLXBhaXIiPT09ZS50eXBlKSYmKG9bZS5pZF09ZSl9KTtjb25zdCBkPWU9PntpPSEwO2xldCB0PWFbZS5sb2NhbENhbmRpZGF0ZUlkXTt0JiYodC5pcHx8dC5hZGRyZXNzKT8odGhpcy5sb2NhbEFkZHJlc3M9dC5pcHx8dC5hZGRyZXNzLHRoaXMubG9jYWxQb3J0PSt0LnBvcnQpOnQmJnQuaXBBZGRyZXNzPyh0aGlzLmxvY2FsQWRkcmVzcz10LmlwQWRkcmVzcyx0aGlzLmxvY2FsUG9ydD0rdC5wb3J0TnVtYmVyKToic3RyaW5nIj09dHlwZW9mIGUuZ29vZ0xvY2FsQWRkcmVzcyYmKHQ9ZS5nb29nTG9jYWxBZGRyZXNzLnNwbGl0KCI6IiksdGhpcy5sb2NhbEFkZHJlc3M9dFswXSx0aGlzLmxvY2FsUG9ydD0rdFsxXSksdGhpcy5sb2NhbEFkZHJlc3MmJih0aGlzLmxvY2FsRmFtaWx5PXRoaXMubG9jYWxBZGRyZXNzLmluY2x1ZGVzKCI6Iik/IklQdjYiOiJJUHY0Iik7bGV0IG49cltlLnJlbW90ZUNhbmRpZGF0ZUlkXTtuJiYobi5pcHx8bi5hZGRyZXNzKT8odGhpcy5yZW1vdGVBZGRyZXNzPW4uaXB8fG4uYWRkcmVzcyx0aGlzLnJlbW90ZVBvcnQ9K24ucG9ydCk6biYmbi5pcEFkZHJlc3M/KHRoaXMucmVtb3RlQWRkcmVzcz1uLmlwQWRkcmVzcyx0aGlzLnJlbW90ZVBvcnQ9K24ucG9ydE51bWJlcik6InN0cmluZyI9PXR5cGVvZiBlLmdvb2dSZW1vdGVBZGRyZXNzJiYobj1lLmdvb2dSZW1vdGVBZGRyZXNzLnNwbGl0KCI6IiksdGhpcy5yZW1vdGVBZGRyZXNzPW5bMF0sdGhpcy5yZW1vdGVQb3J0PStuWzFdKSx0aGlzLnJlbW90ZUFkZHJlc3MmJih0aGlzLnJlbW90ZUZhbWlseT10aGlzLnJlbW90ZUFkZHJlc3MuaW5jbHVkZXMoIjoiKT8iSVB2NiI6IklQdjQiKSx0aGlzLl9kZWJ1ZygiY29ubmVjdCBsb2NhbDogJXM6JXMgcmVtb3RlOiAlczolcyIsdGhpcy5sb2NhbEFkZHJlc3MsdGhpcy5sb2NhbFBvcnQsdGhpcy5yZW1vdGVBZGRyZXNzLHRoaXMucmVtb3RlUG9ydCl9O2lmKG4uZm9yRWFjaChlPT57InRyYW5zcG9ydCI9PT1lLnR5cGUmJmUuc2VsZWN0ZWRDYW5kaWRhdGVQYWlySWQmJmQob1tlLnNlbGVjdGVkQ2FuZGlkYXRlUGFpcklkXSksKCJnb29nQ2FuZGlkYXRlUGFpciI9PT1lLnR5cGUmJiJ0cnVlIj09PWUuZ29vZ0FjdGl2ZUNvbm5lY3Rpb258fCgiY2FuZGlkYXRlcGFpciI9PT1lLnR5cGV8fCJjYW5kaWRhdGUtcGFpciI9PT1lLnR5cGUpJiZlLnNlbGVjdGVkKSYmZChlKX0pLCFpJiYoIU9iamVjdC5rZXlzKG8pLmxlbmd0aHx8T2JqZWN0LmtleXMoYSkubGVuZ3RoKSlyZXR1cm4gdm9pZCBzZXRUaW1lb3V0KGUsMTAwKTtpZih0aGlzLl9jb25uZWN0aW5nPSExLHRoaXMuX2Nvbm5lY3RlZD0hMCx0aGlzLl9jaHVuayl7dHJ5e3RoaXMuc2VuZCh0aGlzLl9jaHVuayl9Y2F0Y2goZSl7cmV0dXJuIHRoaXMuZGVzdHJveShsKGUsIkVSUl9EQVRBX0NIQU5ORUwiKSl9dGhpcy5fY2h1bms9bnVsbCx0aGlzLl9kZWJ1Zygic2VudCBjaHVuayBmcm9tIFwid3JpdGUgYmVmb3JlIGNvbm5lY3RcIiIpO2NvbnN0IGU9dGhpcy5fY2I7dGhpcy5fY2I9bnVsbCxlKG51bGwpfSJudW1iZXIiIT10eXBlb2YgdGhpcy5fY2hhbm5lbC5idWZmZXJlZEFtb3VudExvd1RocmVzaG9sZCYmKHRoaXMuX2ludGVydmFsPXNldEludGVydmFsKCgpPT50aGlzLl9vbkludGVydmFsKCksMTUwKSx0aGlzLl9pbnRlcnZhbC51bnJlZiYmdGhpcy5faW50ZXJ2YWwudW5yZWYoKSksdGhpcy5fZGVidWcoImNvbm5lY3QiKSx0aGlzLmVtaXQoImNvbm5lY3QiKX0pfTtlKCl9X29uSW50ZXJ2YWwoKXt0aGlzLl9jYiYmdGhpcy5fY2hhbm5lbCYmISh0aGlzLl9jaGFubmVsLmJ1ZmZlcmVkQW1vdW50PnUpJiZ0aGlzLl9vbkNoYW5uZWxCdWZmZXJlZEFtb3VudExvdygpfV9vblNpZ25hbGluZ1N0YXRlQ2hhbmdlKCl7dGhpcy5kZXN0cm95ZWR8fCgic3RhYmxlIj09PXRoaXMuX3BjLnNpZ25hbGluZ1N0YXRlJiYodGhpcy5faXNOZWdvdGlhdGluZz0hMSx0aGlzLl9kZWJ1ZygiZmx1c2hpbmcgc2VuZGVyIHF1ZXVlIix0aGlzLl9zZW5kZXJzQXdhaXRpbmdTdGFibGUpLHRoaXMuX3NlbmRlcnNBd2FpdGluZ1N0YWJsZS5mb3JFYWNoKGU9Pnt0aGlzLl9wYy5yZW1vdmVUcmFjayhlKSx0aGlzLl9xdWV1ZWROZWdvdGlhdGlvbj0hMH0pLHRoaXMuX3NlbmRlcnNBd2FpdGluZ1N0YWJsZT1bXSx0aGlzLl9xdWV1ZWROZWdvdGlhdGlvbj8odGhpcy5fZGVidWcoImZsdXNoaW5nIG5lZ290aWF0aW9uIHF1ZXVlIiksdGhpcy5fcXVldWVkTmVnb3RpYXRpb249ITEsdGhpcy5fbmVlZHNOZWdvdGlhdGlvbigpKToodGhpcy5fZGVidWcoIm5lZ290aWF0ZWQiKSx0aGlzLmVtaXQoIm5lZ290aWF0ZWQiKSkpLHRoaXMuX2RlYnVnKCJzaWduYWxpbmdTdGF0ZUNoYW5nZSAlcyIsdGhpcy5fcGMuc2lnbmFsaW5nU3RhdGUpLHRoaXMuZW1pdCgic2lnbmFsaW5nU3RhdGVDaGFuZ2UiLHRoaXMuX3BjLnNpZ25hbGluZ1N0YXRlKSl9X29uSWNlQ2FuZGlkYXRlKGUpe3RoaXMuZGVzdHJveWVkfHwoZS5jYW5kaWRhdGUmJnRoaXMudHJpY2tsZT90aGlzLmVtaXQoInNpZ25hbCIse3R5cGU6ImNhbmRpZGF0ZSIsY2FuZGlkYXRlOntjYW5kaWRhdGU6ZS5jYW5kaWRhdGUuY2FuZGlkYXRlLHNkcE1MaW5lSW5kZXg6ZS5jYW5kaWRhdGUuc2RwTUxpbmVJbmRleCxzZHBNaWQ6ZS5jYW5kaWRhdGUuc2RwTWlkfX0pOiFlLmNhbmRpZGF0ZSYmIXRoaXMuX2ljZUNvbXBsZXRlJiYodGhpcy5faWNlQ29tcGxldGU9ITAsdGhpcy5lbWl0KCJfaWNlQ29tcGxldGUiKSksZS5jYW5kaWRhdGUmJnRoaXMuX3N0YXJ0SWNlQ29tcGxldGVUaW1lb3V0KCkpfV9vbkNoYW5uZWxNZXNzYWdlKGUpe2lmKHRoaXMuZGVzdHJveWVkKXJldHVybjtsZXQgdD1lLmRhdGE7dCBpbnN0YW5jZW9mIEFycmF5QnVmZmVyJiYodD1jLmZyb20odCkpLHRoaXMucHVzaCh0KX1fb25DaGFubmVsQnVmZmVyZWRBbW91bnRMb3coKXtpZighdGhpcy5kZXN0cm95ZWQmJnRoaXMuX2NiKXt0aGlzLl9kZWJ1ZygiZW5kaW5nIGJhY2twcmVzc3VyZTogYnVmZmVyZWRBbW91bnQgJWQiLHRoaXMuX2NoYW5uZWwuYnVmZmVyZWRBbW91bnQpO2NvbnN0IGU9dGhpcy5fY2I7dGhpcy5fY2I9bnVsbCxlKG51bGwpfX1fb25DaGFubmVsT3Blbigpe3RoaXMuX2Nvbm5lY3RlZHx8dGhpcy5kZXN0cm95ZWR8fCh0aGlzLl9kZWJ1Zygib24gY2hhbm5lbCBvcGVuIiksdGhpcy5fY2hhbm5lbFJlYWR5PSEwLHRoaXMuX21heWJlUmVhZHkoKSl9X29uQ2hhbm5lbENsb3NlKCl7dGhpcy5kZXN0cm95ZWR8fCh0aGlzLl9kZWJ1Zygib24gY2hhbm5lbCBjbG9zZSIpLHRoaXMuZGVzdHJveSgpKX1fb25UcmFjayhlKXt0aGlzLmRlc3Ryb3llZHx8ZS5zdHJlYW1zLmZvckVhY2godD0+e3RoaXMuX2RlYnVnKCJvbiB0cmFjayIpLHRoaXMuZW1pdCgidHJhY2siLGUudHJhY2ssdCksdGhpcy5fcmVtb3RlVHJhY2tzLnB1c2goe3RyYWNrOmUudHJhY2ssc3RyZWFtOnR9KSx0aGlzLl9yZW1vdGVTdHJlYW1zLnNvbWUoZT0+ZS5pZD09PXQuaWQpfHwodGhpcy5fcmVtb3RlU3RyZWFtcy5wdXNoKHQpLHMoKCk9Pnt0aGlzLl9kZWJ1Zygib24gc3RyZWFtIiksdGhpcy5lbWl0KCJzdHJlYW0iLHQpfSkpfSl9X2RlYnVnKCl7Y29uc3QgZT1bXS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7ZVswXT0iWyIrdGhpcy5faWQrIl0gIitlWzBdLGEuYXBwbHkobnVsbCxlKX19cC5XRUJSVENfU1VQUE9SVD0hIW8oKSxwLmNvbmZpZz17aWNlU2VydmVyczpbe3VybHM6WyJzdHVuOnN0dW4ubC5nb29nbGUuY29tOjE5MzAyIiwic3R1bjpnbG9iYWwuc3R1bi50d2lsaW8uY29tOjM0NzgiXX1dLHNkcFNlbWFudGljczoidW5pZmllZC1wbGFuIn0scC5jaGFubmVsQ29uZmlnPXt9LHQuZXhwb3J0cz1wfSx7YnVmZmVyOjMsZGVidWc6NCwiZXJyLWNvZGUiOjYsImdldC1icm93c2VyLXJ0YyI6OCwicXVldWUtbWljcm90YXNrIjoxMyxyYW5kb21ieXRlczoxNCwicmVhZGFibGUtc3RyZWFtIjoyOX1dfSx7fSxbXSkoIi8iKX0pOw==";
                const src = atob(b64);
                    
                const fn = new Function(src);
                fn();

                bootstrap();
        } catch(e) {
            
        }
        
     
        function bootstrap(){
            
        
            let repeat,peerConnected,peer;
          
             const chroma	= '#00FF00';
             const textColor = 'yellow';	// edit this to change the color
             const fontFamily = 'consolas'; // edit this to change the font
          
            ["SlideShowBackground","SubtitleContainer","SubtitleResultDiv","SlideShowContainer","SubtitleResultSpan"].forEach(function(id){
              const x = document.getElementById(id);
              if (x) {
                x.style.backgroundColor = chroma;
                
              } else {
                repeat = true;
                     
              }
            
          });
           
          
           if (repeat) {
                setTimeout(bootstrap,500);
          } else {

                peer = new SimplePeer({ initiator: false, trickle: false });
                peer.on('signal', data => {
                    console.log( JSON.stringify(data) );
                });
                peer.on('connect', () => {
                    console.log('Connected');
                    peerConnected = true;
                });
                peer.on('close', () => {
                    peerConnected = false;
                });
                peer.signal(incomingSignal);
            }
        
               let style = document.createElement("style"), 
              styleContent = document.createTextNode('* { background-Color : '+chroma+'; !important; color : '+textColor+' !important;  font-family :'+fontFamily+' !important;}'); 
              style.appendChild(styleContent ); 
              var caput = document.getElementsByTagName("head"); 
                                                        
               caput[0].appendChild(style);
               
               
               const targetNode = document.querySelector("#SubtitleResultSpan");
               
               const config = {
                   attributes: true,
                   childList: true,
                   subtree: true,
                   characterData: true
               };
               
               const callback = function(mutationsList, observer) {
                   for (const mutation of mutationsList) {
                       if (mutation.type === 'childList') {
                           const textContent = targetNode.textContent;
                           if (peer && peerConnected) {
                            peer.send({captions:textContent});

                           }

                       } else if (mutation.type === 'attributes') {
                           console.log(`The ${mutation.attributeName} attribute was modified.`);
                       } else if (mutation.type === 'characterData') {
                           console.log('The character data has been modified.');
                       }
                   }
               };
               
               // Create an instance of MutationObserver and pass the callback
               const observer = new MutationObserver(callback);
               
               // Start observing the target node with the configured parameters
               observer.observe(targetNode, config);
               
                
          
        }
    
     
    }).toString();

    const peer = new SimplePeer({ initiator: true, trickle: false });
    peer.on('signal', data => {
        const signalJSON = JSON.stringify(data);

        document.getElementById('btnCopyPPTSignal').onclick= function(){
                navigator.clipboard.writeText(`(${sourceCode})(${signalJSON});`).then(function(){
                    alert("powerpoint connect Script is on clipboard");
                    document.getElementById('btnCopyPPTSignal').disabled = true;
                    document.getElementById('btnPastePPTSignal').onclick = function(){
                    navigator.clipboard.readText().then(function(text){
                        try {
                            peer.signal(JSON.parse(text));
                        } catch (e) {
                            
                        }
                    })
                
                };
            document.getElementById('btnPastePPTSignal').disabled = false;
            });
            
        
        
        };
        document.getElementById('btnCopyPPTSignal').disabled = false;

            
    });
    peer.on('connect', () => {
        console.log('Connected');
        peer.send("hello");
        connected = true;
    });
    peer.on('data', (e) => {
        console.log('data',e);

        const customEvent = new CustomEvent('PPTSpeechEvent', { detail: e.data });
        document.dispatchEvent(customEvent);
    });




}   